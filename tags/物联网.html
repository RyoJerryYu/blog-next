<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1" data-next-head=""/><meta name="description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta property="og:description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta name="twitter:description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta property="og:image" content="https://ryojerryyu.github.io/blog-next/img/home-bg-kasumi-hanabi.jpg" data-next-head=""/><meta name="twitter:image" content="https://ryojerryyu.github.io/blog-next/img/home-bg-kasumi-hanabi.jpg" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:url" content="https://blog.ryo-okami.xyz/tags/物联网" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@ryo_okami" data-next-head=""/><meta name="twitter:creator" content="@ryo_okami" data-next-head=""/><link rel="icon" href="/blog-next/favicon.ico" data-next-head=""/><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" data-next-head=""/><title data-next-head="">物联网 | Ryo&#x27;s Blog</title><meta property="og:title" content="物联网" data-next-head=""/><meta property="og:site_name" content="Ryo&#x27;s Blog" data-next-head=""/><meta name="twitter:title" content="物联网 | Ryo&#x27;s Blog" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/blog-next/_next/static/css/8bc897d2815c155b.css" as="style"/><link rel="preload" href="/blog-next/_next/static/css/50b775b74e204f8b.css" as="style"/><link rel="stylesheet" href="/blog-next/_next/static/css/8bc897d2815c155b.css" data-n-g=""/><link rel="stylesheet" href="/blog-next/_next/static/css/50b775b74e204f8b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/blog-next/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/blog-next/_next/static/chunks/webpack-2425e15f1e5dad7a.js" defer=""></script><script src="/blog-next/_next/static/chunks/framework-dbc2568ebd4bd029.js" defer=""></script><script src="/blog-next/_next/static/chunks/main-dfdcf18658eec1df.js" defer=""></script><script src="/blog-next/_next/static/chunks/pages/_app-262e0ceb0db45a8b.js" defer=""></script><script src="/blog-next/_next/static/chunks/5426-9c12869cfb286694.js" defer=""></script><script src="/blog-next/_next/static/chunks/pages/tags/%5Btag%5D-bc3ff6ac80f5dc4c.js" defer=""></script><script src="/blog-next/_next/static/4TzrXnuOTdlbIQcgGkgyt/_buildManifest.js" defer=""></script><script src="/blog-next/_next/static/4TzrXnuOTdlbIQcgGkgyt/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css czlpqi">.css-czlpqi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);background-color:rgba(15, 23, 42, 0.75);}@media print{.css-czlpqi{position:absolute;}}</style><style data-emotion="css 1cmpeoq">.css-1cmpeoq{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:var(--Paper-shadow);background-image:var(--Paper-overlay);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);background-color:rgba(15, 23, 42, 0.75);}@media print{.css-1cmpeoq{position:absolute;}}</style><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed css-1cmpeoq" style="--Paper-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"><style data-emotion="css awgou1">.css-awgou1{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-awgou1{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-awgou1{min-height:48px;}}}@media (min-width:600px){.css-awgou1{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-awgou1"><style data-emotion="css 1guk29">@media (min-width:0px){.css-1guk29{display:none;}}@media (min-width:900px){.css-1guk29{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}</style><div class="ml-2 w-24 mr-4 MuiBox-root css-1guk29"><a class="DefaultLayout_textlink__W55gl" href="/blog-next">Ryo&#x27;s Blog</a></div><style data-emotion="css 1m04nb5">@media (min-width:0px){.css-1m04nb5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (min-width:900px){.css-1m04nb5{display:none;}}</style><div class="ml-2 mr-4 MuiBox-root css-1m04nb5"><a title="Ryo&#x27;s Blog" href="/blog-next"><style data-emotion="css q7mezt">.css-q7mezt{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;fill:currentColor;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium h-6 w-6 text-gray-300 hover:text-white css-q7mezt" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="HomeIcon"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg></a></div><style data-emotion="css nznm6s">.css-nznm6s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="MuiBox-root css-nznm6s"><div class="DefaultLayoutMenu bg-transparent min-w-full"><ul class="rc-menu-overflow rc-menu rc-menu-root rc-menu-horizontal" role="menu" tabindex="0" data-menu-list="true"><li class="rc-menu-overflow-item rc-menu-item" style="opacity:1;order:0" role="menuitem" tabindex="-1"><a class="DefaultLayout_textlink__W55gl" href="/blog-next/articles">Articles</a></li><li class="rc-menu-overflow-item rc-menu-item" style="opacity:1;order:1" role="menuitem" tabindex="-1"><a class="DefaultLayout_textlink__W55gl" href="/blog-next/learn_from_ai">Learn from AI</a></li><li class="rc-menu-overflow-item rc-menu-item" style="opacity:1;order:2" role="menuitem" tabindex="-1"><a class="DefaultLayout_textlink__W55gl" href="/blog-next/tags">Tags</a></li><li class="rc-menu-overflow-item rc-menu-submenu rc-menu-submenu-horizontal" style="opacity:1;order:3" role="none"><div role="menuitem" class="rc-menu-submenu-title" tabindex="-1" aria-expanded="false" aria-haspopup="true"><span class="DefaultLayout_textlink__W55gl">More</span><i class="rc-menu-submenu-arrow"></i></div></li><li class="rc-menu-overflow-item rc-menu-overflow-item-rest rc-menu-submenu rc-menu-submenu-horizontal" style="opacity:0;height:0;overflow-y:hidden;order:9007199254740991;pointer-events:none;position:absolute" aria-hidden="true" role="none"><div role="menuitem" class="rc-menu-submenu-title" tabindex="-1" title="..." aria-expanded="false" aria-haspopup="true">...<i class="rc-menu-submenu-arrow"></i></div></li></ul><div style="display:none" aria-hidden="true"></div></div></div><style data-emotion="css k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="MuiBox-root css-k008qs"><a title="Twitter" href="https://twitter.com/ryo_okami"><svg class="h-6 w-6 fill-gray-300 hover:fill-white mx-1 sm:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a title="GitHub" href="https://github.com/RyoJerryYu"><svg class="h-6 w-6 fill-gray-300 hover:fill-white mx-1 sm:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a title="Pixiv" href="https://www.pixiv.net/users/9159893"><svg class="h-6 w-6 fill-gray-300 hover:fill-white mx-1 sm:mx-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"></path></svg></a></div></div></header><style data-emotion="css awgou1">.css-awgou1{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-awgou1{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-awgou1{min-height:48px;}}}@media (min-width:600px){.css-awgou1{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-awgou1"></div><style data-emotion="css vktxal">.css-vktxal{--Grid-columns:12;--Grid-columnSpacing:0px;--Grid-rowSpacing:0px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-width:0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--Grid-rowSpacing) var(--Grid-columnSpacing);width:100%;max-width:80rem;margin-left:auto;margin-right:auto;padding:0.5rem;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.css-vktxal >*{--Grid-parent-columns:12;}.css-vktxal >*{--Grid-parent-columnSpacing:0px;}.css-vktxal >*{--Grid-parent-rowSpacing:0px;}</style><div class="MuiGrid2-root MuiGrid2-container MuiGrid2-direction-xs-row css-vktxal"><style data-emotion="css 9gdssj">.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-0 MuiGrid2-grid-lg-2 css-9gdssj"></div><style data-emotion="css 9h67uz">.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 12 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 12) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 9 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 9) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 8 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 8) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-12 MuiGrid2-grid-md-9 MuiGrid2-grid-lg-8 css-9h67uz"><div class="DefaultLayout_contentHeight__RDRZE"><div class="p-2"><div class="TagsBox_tagsBox__WzhAf"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E6%8A%80">#<!-- -->杂技</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/blog">#<!-- -->Blog</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E8%B0%88">#<!-- -->杂谈</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/c++">#<!-- -->C++</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/python">#<!-- -->Python</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">#<!-- -->数据结构</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AE%97%E6%B3%95">#<!-- -->算法</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%8E%92%E5%BA%8F">#<!-- -->排序</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B">#<!-- -->算法竞赛</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">#<!-- -->设计模式</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AC%94%E8%AE%B0">#<!-- -->笔记</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/github">#<!-- -->GitHub</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/aws">#<!-- -->AWS</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/ci-cd">#<!-- -->CI/CD</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/iac">#<!-- -->IaC</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/devops">#<!-- -->DevOps</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/vscode">#<!-- -->VSCode</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/hexo">#<!-- -->Hexo</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/javascript">#<!-- -->JavaScript</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/kubernetes">#<!-- -->Kubernetes</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/docker">#<!-- -->Docker</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cloud-native">#<!-- -->Cloud Native</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cursor">#<!-- -->Cursor</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%AF%E8%A7%86%E5%8C%96">#<!-- -->可视化</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%95%B0%E5%AD%A6">#<!-- -->数学</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%B7%A5%E5%85%B7">#<!-- -->工具</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/nextjs">#<!-- -->Nextjs</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/linux">#<!-- -->Linux</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/systemctl">#<!-- -->systemctl</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/journalctl">#<!-- -->journalctl</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/timedatectl">#<!-- -->timedatectl</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/basicknowledge">#<!-- -->BasicKnowledge</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/operation">#<!-- -->Operation</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/signal">#<!-- -->Signal</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/memory">#<!-- -->memory</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/schedule">#<!-- -->schedule</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cloud-computing">#<!-- -->Cloud Computing</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/pytorch">#<!-- -->PyTorch</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/onnx">#<!-- -->ONNX</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0">#<!-- -->深度学习</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2">#<!-- -->模型部署</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->学习笔记</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/opencv">#<!-- -->OpenCV</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86">#<!-- -->图像处理</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/rust">#<!-- -->Rust</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80">#<!-- -->编程语言</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/windows">#<!-- -->Windows</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/macos">#<!-- -->macOS</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6">#<!-- -->可执行文件</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/lora">#<!-- -->LoRA</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%82%E6%95%B0%E9%AB%98%E6%95%88%E5%BE%AE%E8%B0%83">#<!-- -->参数高效微调</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83">#<!-- -->模型训练</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%8D%E5%90%91%E4%BC%A0%E6%92%AD">#<!-- -->反向传播</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E8%87%AA%E5%8A%A8%E5%BE%AE%E5%88%86">#<!-- -->自动微分</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/golang">#<!-- -->GoLang</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/memory-management">#<!-- -->Memory Management</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/deep-learning">#<!-- -->Deep Learning</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/model-management">#<!-- -->Model Management</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/neural-networks">#<!-- -->Neural Networks</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/resnet">#<!-- -->ResNet</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/mathematics">#<!-- -->Mathematics</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8D%8F%E8%AE%AE">#<!-- -->协议</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/iot">#<!-- -->IoT</a><a class="tag-word TagsBox_highlightedTag__cLTHz" href="/blog-next/tags/%E7%89%A9%E8%81%94%E7%BD%91">#<!-- -->物联网</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97">#<!-- -->消息队列</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/stable-diffusion">#<!-- -->Stable Diffusion</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/concurrency">#<!-- -->Concurrency</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/scheduler">#<!-- -->Scheduler</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/goroutine">#<!-- -->Goroutine</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/test">#<!-- -->test</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/wiki">#<!-- -->wiki</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/page1">#<!-- -->page1</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/subpage1">#<!-- -->subpage1</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/page2">#<!-- -->page2</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/subpage2">#<!-- -->subpage2</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/subpage3">#<!-- -->subpage3</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/subpage34">#<!-- -->subpage34</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/page3">#<!-- -->page3</a></div></div><div class="PostList_postList__Tuobz"><div class="PostList_postListElement__qi6kp"><a href="/blog-next/learn_from_ai/mqtt-protocol-principles-applications"><h6 class="PostList_postTitle__vveJr">详细介绍 MQTT 协议的内容，原理，应用场景</h6><div class="PostList_postDate__z_XQh"><time dateTime="2025-03-28T06:35:00.000Z">2025-03-28</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; 本文详细介绍了 MQTT（Message Queuing Telemetry Transport）协议的核心内容、工作原理及其在物联网和分布式系统中的应用场景。文章分析了 MQTT 协议的特点、消息质量等级、主题设计以及安全机制，帮助读者全面了解这一轻量级的发布/订阅协议如何支持资源受限设备的可靠通信。</p><p class="py-1">MQTT（Message Queuing Telemetry Transport）是一种轻量级的、基于发布/订阅模式的消息传输协议，专为受限设备和低带宽、高延迟或不可靠的网络环境设计。它由 Andy Stanford-Clark（IBM）和 Arlen Nipper（Cirrus Link）于 1999 年为连接石油管道的 SCADA 系统而开发，现已发展成为物联网（IoT）通信的标准协议之一。</p><p class="py-1">MQTT 协议工作在 TCP/IP 协议栈上，使用了最小化的协议开销，可以在资源受限的设备上实现高效通信。它采用发布/订阅的消息模式，而非传统的客户端/服务器模式，这使得它特别适合构建可扩展的物联网应用。</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8D%8F%E8%AE%AE">#<!-- -->协议</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/iot">#<!-- -->IoT</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%89%A9%E8%81%94%E7%BD%91">#<!-- -->物联网</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97">#<!-- -->消息队列</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->学习笔记</a></div></div></div></div></div><style data-emotion="css vkdybf">.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 3 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 3) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-3 MuiGrid2-grid-lg-2 css-vkdybf"></div></div><footer class="DefaultLayout_footer__aWV4u"><style data-emotion="css vktxal">.css-vktxal{--Grid-columns:12;--Grid-columnSpacing:0px;--Grid-rowSpacing:0px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-width:0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--Grid-rowSpacing) var(--Grid-columnSpacing);width:100%;max-width:80rem;margin-left:auto;margin-right:auto;padding:0.5rem;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.css-vktxal >*{--Grid-parent-columns:12;}.css-vktxal >*{--Grid-parent-columnSpacing:0px;}.css-vktxal >*{--Grid-parent-rowSpacing:0px;}</style><div class="MuiGrid2-root MuiGrid2-container MuiGrid2-direction-xs-row css-vktxal"><style data-emotion="css 9gdssj">.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-0 MuiGrid2-grid-lg-2 css-9gdssj"></div><style data-emotion="css 9h67uz">.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 12 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 12) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 9 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 9) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 8 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 8) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-12 MuiGrid2-grid-md-9 MuiGrid2-grid-lg-8 css-9h67uz"><div class="flex flex-row justify-center items-center"><div class="DefaultLayout_footerLeft__Qn_VV">© 2023 Ryo Jerry Yu. All rights reserved.</div><div class="DefaultLayout_footerRight__GlReP"><a title="Twitter" href="https://twitter.com/ryo_okami"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a title="GitHub" href="https://github.com/RyoJerryYu"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a title="Pixiv" href="https://www.pixiv.net/users/9159893"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"></path></svg></a></div></div></div><style data-emotion="css vkdybf">.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 3 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 3) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-3 MuiGrid2-grid-lg-2 css-vkdybf"></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"allTagInfos":[{"tag":"杂技","slug":"杂技","path":"/tags/杂技","postSlugs":[{"postType":"articles","postPagePath":"/articles/Building-this-blog"},{"postType":"articles","postPagePath":"/articles/hello-world"},{"postType":"articles","postPagePath":"/articles/the-using-in-cpp"}]},{"tag":"Blog","slug":"blog","path":"/tags/blog","postSlugs":[{"postType":"articles","postPagePath":"/articles/Building-this-blog"},{"postType":"articles","postPagePath":"/articles/init-a-new-hexo-project"},{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"},{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"},{"postType":"ideas","postPagePath":"/ideas/blog-in-next"},{"postType":"ideas","postPagePath":"/ideas/blog-syntax"}]},{"tag":"杂谈","slug":"杂谈","path":"/tags/杂谈","postSlugs":[{"postType":"articles","postPagePath":"/articles/hello-world"},{"postType":"articles","postPagePath":"/articles/try-cursor-and-thinking"}]},{"tag":"C++","slug":"c++","path":"/tags/c++","postSlugs":[{"postType":"articles","postPagePath":"/articles/the-using-in-cpp"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"Python","slug":"python","path":"/tags/python","postSlugs":[{"postType":"articles","postPagePath":"/articles/python-dict"}]},{"tag":"数据结构","slug":"数据结构","path":"/tags/数据结构","postSlugs":[{"postType":"articles","postPagePath":"/articles/python-dict"},{"postType":"articles","postPagePath":"/articles/Sort-algorithm"},{"postType":"articles","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"算法","slug":"算法","path":"/tags/算法","postSlugs":[{"postType":"articles","postPagePath":"/articles/Sort-algorithm"},{"postType":"articles","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"排序","slug":"排序","path":"/tags/排序","postSlugs":[{"postType":"articles","postPagePath":"/articles/Sort-algorithm"}]},{"tag":"算法竞赛","slug":"算法竞赛","path":"/tags/算法竞赛","postSlugs":[{"postType":"articles","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"设计模式","slug":"设计模式","path":"/tags/设计模式","postSlugs":[{"postType":"articles","postPagePath":"/articles/The-beauty-of-design-parten"}]},{"tag":"笔记","slug":"笔记","path":"/tags/笔记","postSlugs":[{"postType":"articles","postPagePath":"/articles/The-beauty-of-design-parten"}]},{"tag":"GitHub","slug":"github","path":"/tags/github","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"AWS","slug":"aws","path":"/tags/aws","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"CI/CD","slug":"ci-cd","path":"/tags/ci-cd","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"IaC","slug":"iac","path":"/tags/iac","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"DevOps","slug":"devops","path":"/tags/devops","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"VSCode","slug":"vscode","path":"/tags/vscode","postSlugs":[{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"Hexo","slug":"hexo","path":"/tags/hexo","postSlugs":[{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"JavaScript","slug":"javascript","path":"/tags/javascript","postSlugs":[{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"Kubernetes","slug":"kubernetes","path":"/tags/kubernetes","postSlugs":[{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"Docker","slug":"docker","path":"/tags/docker","postSlugs":[{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"Cloud Native","slug":"cloud-native","path":"/tags/cloud-native","postSlugs":[{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"Cursor","slug":"cursor","path":"/tags/cursor","postSlugs":[{"postType":"articles","postPagePath":"/articles/try-cursor-and-thinking"}]},{"tag":"可视化","slug":"可视化","path":"/tags/可视化","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog 画图 Iframe 测试"}]},{"tag":"数学","slug":"数学","path":"/tags/数学","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog 画图 Iframe 测试"}]},{"tag":"工具","slug":"工具","path":"/tags/工具","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog 画图 Iframe 测试"}]},{"tag":"Nextjs","slug":"nextjs","path":"/tags/nextjs","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog-in-next"},{"postType":"ideas","postPagePath":"/ideas/blog-syntax"}]},{"tag":"Linux","slug":"linux","path":"/tags/linux","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postPagePath":"/ideas/Linux 信号处理 —— Signal"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 内存分页、分段"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 堆和栈"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 虚拟内存"},{"postType":"ideas","postPagePath":"/ideas/Linux 调度 —— 进程与线程"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"systemctl","slug":"systemctl","path":"/tags/systemctl","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"journalctl","slug":"journalctl","path":"/tags/journalctl","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"timedatectl","slug":"timedatectl","path":"/tags/timedatectl","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"BasicKnowledge","slug":"basicknowledge","path":"/tags/basicknowledge","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postPagePath":"/ideas/Linux 信号处理 —— Signal"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 内存分页、分段"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 堆和栈"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 虚拟内存"},{"postType":"ideas","postPagePath":"/ideas/Linux 调度 —— 进程与线程"}]},{"tag":"Operation","slug":"operation","path":"/tags/operation","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postPagePath":"/ideas/Linux 信号处理 —— Signal"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 内存分页、分段"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 虚拟内存"}]},{"tag":"Signal","slug":"signal","path":"/tags/signal","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux 信号处理 —— Signal"}]},{"tag":"memory","slug":"memory","path":"/tags/memory","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 内存分页、分段"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 堆和栈"},{"postType":"ideas","postPagePath":"/ideas/Linux 内存 —— 虚拟内存"}]},{"tag":"schedule","slug":"schedule","path":"/tags/schedule","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux 调度 —— 进程与线程"}]},{"tag":"Cloud Computing","slug":"cloud-computing","path":"/tags/cloud-computing","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"PyTorch","slug":"pytorch","path":"/tags/pytorch","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"}]},{"tag":"ONNX","slug":"onnx","path":"/tags/onnx","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"}]},{"tag":"深度学习","slug":"深度学习","path":"/tags/深度学习","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"模型部署","slug":"模型部署","path":"/tags/模型部署","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"}]},{"tag":"学习笔记","slug":"学习笔记","path":"/tags/学习笔记","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"OpenCV","slug":"opencv","path":"/tags/opencv","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"}]},{"tag":"图像处理","slug":"图像处理","path":"/tags/图像处理","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"}]},{"tag":"Rust","slug":"rust","path":"/tags/rust","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"编程语言","slug":"编程语言","path":"/tags/编程语言","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"Windows","slug":"windows","path":"/tags/windows","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"macOS","slug":"macos","path":"/tags/macos","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"可执行文件","slug":"可执行文件","path":"/tags/可执行文件","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"LoRA","slug":"lora","path":"/tags/lora","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"参数高效微调","slug":"参数高效微调","path":"/tags/参数高效微调","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"模型训练","slug":"模型训练","path":"/tags/模型训练","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"反向传播","slug":"反向传播","path":"/tags/反向传播","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"自动微分","slug":"自动微分","path":"/tags/自动微分","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"GoLang","slug":"golang","path":"/tags/golang","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-new-and-memory-management"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"Memory Management","slug":"memory-management","path":"/tags/memory-management","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-new-and-memory-management"}]},{"tag":"Deep Learning","slug":"deep-learning","path":"/tags/deep-learning","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"Model Management","slug":"model-management","path":"/tags/model-management","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"}]},{"tag":"Neural Networks","slug":"neural-networks","path":"/tags/neural-networks","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"ResNet","slug":"resnet","path":"/tags/resnet","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"Mathematics","slug":"mathematics","path":"/tags/mathematics","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"协议","slug":"协议","path":"/tags/协议","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"IoT","slug":"iot","path":"/tags/iot","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"物联网","slug":"物联网","path":"/tags/物联网","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"消息队列","slug":"消息队列","path":"/tags/消息队列","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"Stable Diffusion","slug":"stable-diffusion","path":"/tags/stable-diffusion","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"Concurrency","slug":"concurrency","path":"/tags/concurrency","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"Scheduler","slug":"scheduler","path":"/tags/scheduler","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"Goroutine","slug":"goroutine","path":"/tags/goroutine","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"test","slug":"test","path":"/tags/test","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1"},{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]},{"tag":"wiki","slug":"wiki","path":"/tags/wiki","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1"},{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]},{"tag":"page1","slug":"page1","path":"/tags/page1","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1"},{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"}]},{"tag":"subpage1","slug":"subpage1","path":"/tags/subpage1","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"}]},{"tag":"page2","slug":"page2","path":"/tags/page2","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"}]},{"tag":"subpage2","slug":"subpage2","path":"/tags/subpage2","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"}]},{"tag":"subpage3","slug":"subpage3","path":"/tags/subpage3","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]},{"tag":"subpage34","slug":"subpage34","path":"/tags/subpage34","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"}]},{"tag":"page3","slug":"page3","path":"/tags/page3","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]}],"selectedTagInfo":{"tag":"物联网","slug":"物联网","path":"/tags/物联网","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},"posts":[{"pathMapping":{"filePath":"public/content/learn_from_ai/2025-03-28-mqtt-protocol-principles-applications.md","pagePath":"/learn_from_ai/mqtt-protocol-principles-applications","slug":"mqtt-protocol-principles-applications"},"meta":{"content":"\n\u003e 本文详细介绍了 MQTT（Message Queuing Telemetry Transport）协议的核心内容、工作原理及其在物联网和分布式系统中的应用场景。文章分析了 MQTT 协议的特点、消息质量等级、主题设计以及安全机制，帮助读者全面了解这一轻量级的发布/订阅协议如何支持资源受限设备的可靠通信。\n\n## Q: 什么是 MQTT 协议？\n\nMQTT（Message Queuing Telemetry Transport）是一种轻量级的、基于发布/订阅模式的消息传输协议，专为受限设备和低带宽、高延迟或不可靠的网络环境设计。它由 Andy Stanford-Clark（IBM）和 Arlen Nipper（Cirrus Link）于 1999 年为连接石油管道的 SCADA 系统而开发，现已发展成为物联网（IoT）通信的标准协议之一。\n\nMQTT 协议工作在 TCP/IP 协议栈上，使用了最小化的协议开销，可以在资源受限的设备上实现高效通信。它采用发布/订阅的消息模式，而非传统的客户端/服务器模式，这使得它特别适合构建可扩展的物联网应用。\n\n## Q: MQTT 协议的工作原理是什么？\n\nMQTT 协议基于发布/订阅的消息模式工作，核心组件包括：\n\n1. **客户端（Client）**：任何运行 MQTT 库并通过网络连接到 MQTT 服务器的设备。客户端可以：\n\n   - 发布消息到特定主题\n   - 订阅感兴趣的主题以接收消息\n   - 取消订阅主题\n   - 与服务器断开连接\n\n2. **代理/服务器（Broker）**：负责接收所有消息，过滤消息，并将消息分发给订阅特定主题的客户端。代理是 MQTT 系统的核心，负责消息路由。\n\n3. **主题（Topic）**：消息的分类和路由机制。主题使用层次结构组织，类似于文件系统路径（如 `home/kitchen/temperature`）。\n\n4. **消息（Message）**：包含有效载荷（payload）的数据包，由发布者发送，通过代理分发给订阅相应主题的客户端。\n\n工作流程如下：\n\n1. 客户端连接到 MQTT 代理\n2. 客户端可以发布消息到一个主题\n3. 其他客户端可以订阅该主题\n4. 代理将消息转发给所有订阅该主题的客户端\n5. 当客户端不再需要连接时，它会与代理断开连接\n\n## Q: MQTT 协议的主要特性有哪些？\n\nMQTT 协议具有以下主要特性：\n\n1. **轻量级**：协议头部极小，适合在带宽受限的网络上传输。\n\n2. **发布/订阅模式**：发布者和订阅者之间完全解耦，不需要直接通信，提高了系统的可扩展性。\n\n3. **QoS（Quality of Service）**：提供三种消息传递质量等级：\n\n   - QoS 0（最多一次）：消息发送后不保证到达，也不会重试\n   - QoS 1（至少一次）：保证消息至少到达一次，可能重复\n   - QoS 2（恰好一次）：保证消息只到达一次，不会丢失也不会重复\n\n4. **保留消息**：代理可以保存特定主题的最后一条消息，新订阅者连接时立即接收到该消息。\n\n5. **持久会话**：客户端断开连接后，代理可以保存其订阅信息和未发送的消息。\n\n6. **遗嘱消息（Last Will and Testament）**：客户端意外断开连接时，代理可以自动发布预设的消息。\n\n7. **小型客户端代码**：客户端实现简单，占用资源少，适合嵌入式设备。\n\n8. **安全性**：支持 TLS/SSL 加密和用户名/密码认证。\n\n## Q: MQTT 有哪些版本？它们之间有什么区别？\n\nMQTT 协议经历了多次迭代，主要版本包括：\n\n1. **MQTT 3.1**：最早的广泛使用版本。\n\n2. **MQTT 3.1.1**：2014 年成为 OASIS 标准，修复了一些问题，改进了协议规范，是当前应用最广泛的版本。主要特性包括：\n\n   - 改进连接错误处理\n   - 定义了更清晰的会话状态规则\n   - 支持 WebSocket 传输\n\n3. **MQTT 5.0**：2018 年发布的最新标准版本，引入了许多新功能，包括：\n\n   - 消息过期机制\n   - 主题别名（减少网络流量）\n   - 用户属性（支持自定义元数据）\n   - 共享订阅（支持负载均衡）\n   - 请求/响应模式支持\n   - 服务器断开重定向\n   - 增强的错误报告\n   - 流量控制机制\n\n4. **MQTT-SN（MQTT for Sensor Networks）**：为非 TCP/IP 网络（如 ZigBee）设计的变体，适用于更受限的设备和网络。\n\n主要区别在于功能集的丰富程度和适用场景。MQTT 5.0 提供了更多的企业级功能和扩展性，而早期版本则更简单，实现成本更低。\n\n## Q: MQTT 协议的应用场景有哪些？\n\nMQTT 协议广泛应用于以下场景：\n\n1. **物联网（IoT）设备通信**：\n\n   - 智能家居设备（智能灯泡、恒温器、门锁等）\n   - 穿戴设备与手机/云服务的通信\n   - 远程传感器数据收集（环境监测、农业、工业等）\n\n2. **工业物联网（IIoT）**：\n\n   - 工厂设备监控与控制\n   - 预测性维护系统\n   - SCADA（监控与数据采集）系统\n\n3. **汽车与交通系统**：\n\n   - 车联网应用\n   - 车队管理系统\n   - 交通监控系统\n\n4. **能源管理**：\n\n   - 智能电网\n   - 能源消耗监控\n   - 分布式能源系统\n\n5. **医疗健康**：\n\n   - 远程患者监控\n   - 医疗设备互连\n   - 健康数据收集与分析\n\n6. **消息通知系统**：\n\n   - 移动应用推送通知\n   - 实时通信应用\n   - 社交媒体更新\n\n7. **金融服务**：\n\n   - 实时交易数据\n   - 分布式系统间的消息传递\n\n8. **电子商务**：\n   - 库存管理\n   - 物流跟踪\n   - 订单处理\n\nMQTT 特别适合需要实时性、可靠性同时又受限于带宽或设备能力的应用场景。\n\n## Q: MQTT 的安全机制有哪些？\n\nMQTT 提供多层安全机制来保护消息传输和系统访问：\n\n1. **传输层安全**：\n\n   - TLS/SSL 加密：保护客户端和代理之间的通信\n   - 证书验证：防止中间人攻击\n\n2. **认证机制**：\n\n   - 用户名/密码认证：验证客户端身份\n   - X.509 客户端证书：提供更强的身份验证\n   - OAuth 或自定义认证机制（MQTT 5.0）\n\n3. **授权控制**：\n\n   - 主题级别的访问控制：限制客户端可以发布/订阅的主题\n   - 权限管理：定义不同用户的读写权限\n\n4. **有效载荷加密**：\n\n   - 应用层加密：对敏感数据进行端到端加密\n   - 加密库集成：如 AES 用于数据加密\n\n5. **安全最佳实践**：\n\n   - 唯一客户端 ID\n   - 定期轮换凭证\n   - 最小权限原则\n   - 连接保活和超时设置\n\n6. **MQTT 特有安全功能**：\n   - 客户端断开检测（通过遗嘱消息）\n   - 会话清理机制\n   - 拒绝不安全连接的能力\n\n在实际部署中，通常需要结合多种安全机制来构建完整的安全框架，根据应用的敏感性和风险级别选择适当的安全级别。\n\n## Q: 主要的 MQTT 代理/服务器实现有哪些？\n\n市场上有多种 MQTT 代理实现，包括开源和商业产品：\n\n1. **开源代理**：\n\n   - **Mosquitto**：Eclipse Foundation 维护的轻量级代理，是最流行的开源实现之一\n   - **EMQ X**：高度可扩展的企业级 MQTT 代理，支持百万级连接\n   - **HiveMQ**：基于 Java 的代理，提供开源社区版和商业版\n   - **VerneMQ**：基于 Erlang 的高性能分布式 MQTT 代理\n   - **RabbitMQ**：通过插件支持 MQTT，同时支持多种消息协议\n\n2. **云服务提供商的 MQTT 服务**：\n\n   - **AWS IoT Core**：亚马逊云的 MQTT 服务\n   - **Azure IoT Hub**：微软云的 IoT 消息服务，支持 MQTT\n   - **Google Cloud IoT**：谷歌云平台的 IoT 服务\n   - **IBM Watson IoT Platform**：IBM 的 IoT 云服务\n\n3. **嵌入式代理**：\n   - **Mosquitto Embedded**：适用于嵌入式系统的 Mosquitto 版本\n   - **Moquette**：Java 实现的轻量级代理，适合嵌入到应用中\n\n这些代理在性能、可扩展性、功能集和易用性方面有所不同，选择时需要考虑具体应用需求、预期连接数量、消息吞吐量以及部署环境等因素。\n\n## Q: MQTT 与其他消息协议相比有什么优势和劣势？\n\nMQTT 与其他消息协议的对比：\n\n### 与 HTTP 相比：\n\n**优势**：\n\n- 更小的协议开销，适合带宽受限环境\n- 支持推送模型，实时性更好\n- 更低的功耗，适合电池供电设备\n- 支持持久会话和消息质量保证\n\n**劣势**：\n\n- 不像 HTTP 那样无处不在，需要专门的客户端和服务器\n- 缺乏 HTTP 的内置缓存和代理机制\n- 在浏览器环境需要通过 WebSocket 实现\n\n### 与 CoAP 相比：\n\n**优势**：\n\n- 基于 TCP，连接可靠性更高\n- 更成熟的生态系统和工具支持\n- 更丰富的 QoS 选项\n\n**劣势**：\n\n- CoAP 基于 UDP，在某些受限环境中可能更高效\n- CoAP 更好地支持 RESTful 模型\n\n### 与 AMQP 相比：\n\n**优势**：\n\n- 更轻量级，协议开销更小\n- 实现更简单，适合资源受限设备\n- 功耗更低\n\n**劣势**：\n\n- AMQP 提供更丰富的消息路由功能\n- AMQP 有更强的事务支持\n- AMQP 支持更复杂的队列模型\n\n### 与 WebSocket 相比：\n\n**优势**：\n\n- 专为消息传递设计，有内置的发布/订阅模型\n- 更低的带宽消耗\n- 提供消息质量保证\n\n**劣势**：\n\n- WebSocket 是更通用的协议，可以传输任何类型的数据\n- WebSocket 在 Web 环境中更原生\n\nMQTT 的主要优势在于其轻量级设计和对资源受限环境的适应性，特别适合物联网应用；而其主要劣势是在某些需要复杂消息路由或事务处理的场景中功能相对简单。选择协议时应根据具体应用场景和需求进行权衡。\n\n## Q: 设计基于 MQTT 的系统时有哪些最佳实践？\n\n设计和实现基于 MQTT 的系统时，以下最佳实践可以帮助提高系统的可靠性、安全性和可扩展性：\n\n### 主题设计：\n\n1. **使用层次化主题结构**：如 `location/device-type/device-id/measurement`\n2. **避免过深的主题层次**：过深的层次会增加处理复杂性\n3. **使用通配符订阅谨慎**：过于广泛的通配符可能导致接收不必要的消息\n4. **遵循一致的命名约定**：使主题命名直观且可维护\n\n### QoS 选择：\n\n1. **为关键数据使用 QoS 1 或 2**：确保重要消息的传递\n2. **非关键数据可使用 QoS 0**：减少网络开销，提高吞吐量\n3. **考虑电池寿命影响**：更高的 QoS 意味着更多的消息交换和更高的电池消耗\n\n### 连接管理：\n\n1. **实现自动重连机制**：处理网络波动\n2. **使用唯一的客户端 ID**：避免连接冲突\n3. **设置合理的保活间隔**：平衡及时检测断开连接与网络开销\n4. **利用\"遗嘱\"消息**：通知其他设备客户端意外断开\n\n### 安全最佳实践：\n\n1. **始终使用 TLS/SSL**：加密所有通信\n2. **实施强认证机制**：至少使用用户名/密码，最好使用证书\n3. **实施细粒度授权**：限制客户端可以发布/订阅的主题\n4. **加密敏感载荷**：为敏感数据添加额外的加密层\n5. **定期轮换凭证**：降低凭证泄露的风险\n\n### 性能与可扩展性：\n\n1. **保持消息短小**：减少带宽使用\n2. **使用共享订阅（MQTT 5.0）**：实现负载均衡\n3. **考虑消息保留策略**：明智使用保留消息\n4. **规划代理集群**：对于大规模部署，使用可集群的代理实现\n5. **监控系统性能**：跟踪连接数、消息吞吐量等指标\n\n### 数据设计：\n\n1. **结构化消息内容**：使用 JSON、Protobuf 等标准格式\n2. **包含时间戳**：助于数据分析和故障排除\n3. **考虑消息版本控制**：允许客户端和格式随时间演化\n\n### 故障恢复：\n\n1. **存储重要状态**：使客户端能够在重新连接后恢复\n2. **实现离线缓冲**：临时存储无法发送的消息\n3. **设计优雅的降级策略**：当部分系统不可用时保持核心功能\n\n遵循这些最佳实践可以帮助构建更加健壮、高效和安全的 MQTT 系统，同时为未来的扩展和维护奠定基础。\n\n## Q: MQTT 协议的未来发展趋势如何？\n\nMQTT 协议的未来发展趋势主要体现在以下几个方面：\n\n1. **更广泛的 MQTT 5.0 采用**：\n\n   - 随着物联网生态系统的成熟，MQTT 5.0 的高级功能（如共享订阅、消息过期等）将获得更广泛的支持和应用\n   - 更多的代理和客户端库将完全实现 MQTT 5.0 规范\n\n2. **与云原生技术的深度集成**：\n\n   - 与 Kubernetes、服务网格等云原生技术的无缝集成\n   - 基于容器的 MQTT 代理部署将成为标准\n   - 支持更灵活的水平扩展和自动伸缩能力\n\n3. **增强的安全机制**：\n\n   - 更强大的认证机制，包括基于区块链的去中心化身份验证\n   - 更细粒度的访问控制和权限管理\n   - 端到端加密的标准化实现\n\n4. **边缘计算整合**：\n\n   - MQTT 将更紧密地与边缘计算框架集成\n   - 支持在网络边缘进行消息过滤、转换和预处理\n   - 减少云-边缘通信延迟和带宽使用\n\n5. **跨协议兼容性**：\n\n   - 与其他物联网协议（如 AMQP、HTTP/2、gRPC）的无缝桥接\n   - 统一的物联网消息网关，支持多协议转换\n\n6. **实时分析与机器学习集成**：\n\n   - MQTT 与流处理和实时分析平台的紧密集成\n   - 支持设备遥测数据的即时分析和机器学习模型应用\n\n7. **更高效的资源利用**：\n\n   - 更优化的协议实现，进一步降低带宽和资源消耗\n   - 针对超低功耗设备的专用优化\n\n8. **标准化的语义互操作性**：\n\n   - 数据模型和元数据标准化\n   - 基于 MQTT 的设备管理和自动配置标准\n\n9. **工业物联网专用扩展**：\n\n   - 针对工业控制系统的确定性和实时性扩展\n   - 与 OPC UA 等工业标准的协同工作\n\n10. **更丰富的生态系统工具**：\n    - 更强大的监控、调试和可视化工具\n    - 跨平台和跨语言的开发框架\n\n随着物联网和边缘计算的持续发展，MQTT 有望保持其作为轻量级通信协议的主导地位，同时不断演化以满足新兴用例和技术要求的需求。\n\n## Q: 详细介绍 MQTT 协议的内容，原理，应用场景，以及应用 MQTT 协议时要注意的事项\n\n\u003e [!reasoning]-\n\u003e 嗯，用户让我详细介绍一下 MQTT 协议的内容、原理、应用场景以及使用时的注意事项。我需要先回忆一下 MQTT 的基础知识，确保自己理解正确。首先，MQTT 是 Message Queuing Telemetry Transport 的缩写，是一种轻量级的发布/订阅消息传输协议，常用于物联网设备之间的通信。\n\u003e\n\u003e 内容方面，应该包括协议的基本概念，比如它是基于发布/订阅模型的，使用的 TCP/IP 协议，设计目标是低带宽、高延迟或不稳定的网络环境。然后，可能需要提到 MQTT 的不同版本，比如 3.1.1 和 5.0，以及它们的一些改进。\n\u003e\n\u003e 原理部分，需要解释发布/订阅机制的工作流程，客户端和代理服务器之间的交互。比如客户端连接到代理后，可以发布消息到特定的主题，或者订阅主题来接收消息。还有 QoS 等级，三个级别的服务质量，确保消息传递的可靠性。另外，保留消息和遗嘱消息也是重要的概念，需要详细说明。\n\u003e\n\u003e 应用场景的话，物联网肯定是主要的，比如智能家居、工业传感器、车联网等。另外，移动应用和即时通讯可能也会用到 MQTT，因为它在低功耗和弱网络条件下的表现不错。还有可能需要提到远程监控、医疗设备等场景。\n\u003e\n\u003e 注意事项方面，安全性是首要的，比如使用 TLS 加密，客户端认证机制。然后是 QoS 的选择，不同的等级对性能的影响，需要根据场景来权衡。主题设计需要避免过于复杂，防止性能问题。还有心跳机制和会话保持，确保连接的稳定性。此外，代理服务器的性能和扩展性也要考虑，避免成为瓶颈。\n\u003e\n\u003e 用户可能对 MQTT 的具体实现细节不太清楚，比如如何选择 QoS 等级，或者如何处理消息的持久化。此外，用户可能想知道在资源受限的设备上如何优化使用 MQTT，比如减少数据包大小，使用短主题名等。可能还需要比较 MQTT 和其他协议如 HTTP、CoAP 的区别，但用户没提到这点，暂时不用展开。\n\u003e\n\u003e 要确保覆盖所有用户提到的点，同时用通俗易懂的语言解释技术术语，比如 QoS 等级的具体含义和应用场景。比如 QoS 0 适合传感器数据，丢失一两条没关系；而 QoS 2 适合关键指令，必须确保送达。\n\u003e\n\u003e 可能需要提醒用户注意协议版本的选择，比如 MQTT 5.0 的新功能如原因码、共享订阅等，是否适用于他们的项目。另外，网络不稳定时的处理，比如遗嘱消息的设置，可以在设备意外断开时通知其他客户端。\n\u003e\n\u003e 还要考虑用户的实际应用，比如如果他们开发智能家居系统，需要注意主题命名规范，避免冲突，使用层次结构来管理设备。同时，安全性方面，除了加密，还要注意客户端 ID 的管理，防止未授权访问。\n\u003e\n\u003e 最后，注意事项部分要强调实际部署中的问题，比如代理服务器的选择（Mosquitto、EMQX 等），性能调优，以及监控和日志记录的重要性，帮助用户避免常见陷阱。\n\n### MQTT 协议详解\n\n**MQTT**（Message Queuing Telemetry Transport）是一种轻量级的**发布/订阅模式**消息传输协议，专为低带宽、高延迟或不稳定的网络环境设计，广泛应用于物联网（IoT）和移动设备通信。\n\n---\n\n#### **一、协议内容**\n\n1. **核心特性**：\n\n   - **轻量级**：协议头最小仅 2 字节，适合资源受限的设备。\n   - **基于发布/订阅模型**：解耦消息生产者和消费者，通过主题（Topic）路由消息。\n   - **支持多种 QoS 等级**：提供三种消息传输质量保证（QoS 0/1/2）。\n   - **低功耗**：适合电池供电的物联网设备。\n   - **跨平台性**：基于 TCP/IP 协议，支持多种编程语言和平台。\n\n2. **协议版本**：\n\n   - **MQTT 3.1.1**（主流版本）：标准化协议，广泛兼容。\n   - **MQTT 5.0**（新版本）：新增会话过期、原因码、共享订阅等功能。\n\n3. **核心组件**：\n   - **Broker（代理服务器）**：负责消息路由和客户端管理（如 Mosquitto、EMQX）。\n   - **Client（客户端）**：发布或订阅消息的设备或应用。\n   - **Topic（主题）**：分层结构（如`home/room1/temperature`），支持通配符（`+`和`#`）。\n\n---\n\n#### **二、工作原理**\n\n1. **连接与会话**：\n\n   - 客户端通过`CONNECT`报文与 Broker 建立连接，支持用户名/密码认证。\n   - 可设置`Clean Session`标志决定是否保留历史会话。\n\n2. **发布与订阅**：\n\n   - **订阅**：客户端发送`SUBSCRIBE`报文订阅特定主题。\n   - **发布**：客户端向主题发送`PUBLISH`报文，Broker 将消息转发给所有订阅者。\n\n3. **QoS 等级**：\n\n   - **QoS 0（最多一次）**：消息可能丢失，适用于非关键数据（如传感器读数）。\n   - **QoS 1（至少一次）**：确保消息到达，但可能重复（需业务去重）。\n   - **QoS 2（恰好一次）**：通过四次握手保证消息精确传输，开销最大。\n\n4. **其他机制**：\n   - **保留消息（Retained Message）**：Broker 为每个主题保存最新一条消息，供新订阅者获取。\n   - **遗嘱消息（Last Will）**：客户端异常断开时，Broker 自动发布预设消息。\n\n---\n\n#### **三、典型应用场景**\n\n1. **物联网（IoT）**：\n\n   - 智能家居（设备状态同步）、工业传感器数据采集。\n   - 远程监控（如农业温湿度监测、能源管理）。\n\n2. **移动应用**：\n\n   - 即时通讯（如聊天消息推送）。\n   - 移动设备状态上报（如 GPS 位置更新）。\n\n3. **车联网**：\n\n   - 车辆状态实时上报（电池电量、故障预警）。\n   - 远程控制（车门解锁、空调调节）。\n\n4. **医疗健康**：\n   - 可穿戴设备数据传输（心率、步数）。\n   - 远程医疗设备监控。\n\n---\n\n#### **四、使用注意事项**\n\n1. **安全性**：\n\n   - 启用 TLS 加密（MQTT over SSL/TLS）防止数据窃听。\n   - 使用客户端 ID/证书认证，避免未授权访问。\n   - 避免敏感信息通过明文传输。\n\n2. **主题设计**：\n\n   - 采用分层结构（如`country/city/deviceID`），避免主题爆炸。\n   - 慎用通配符`#`，防止订阅过多无关消息。\n\n3. **QoS 选择**：\n\n   - 根据场景平衡可靠性与性能：QoS 2 可能导致高延迟。\n   - 若网络稳定，优先使用 QoS 0 或 1。\n\n4. **资源管理**：\n\n   - 设备端优化：缩短心跳间隔（`Keep Alive`）以节省电量。\n   - Broker 端配置连接数和消息吞吐量上限，防止过载。\n\n5. **会话与持久化**：\n\n   - 非持久会话（`Clean Session=1`）适用于临时设备。\n   - 持久会话需 Broker 支持消息存储，避免数据丢失。\n\n6. **版本兼容性**：\n   - 新项目优先选择 MQTT 5.0（功能更丰富）。\n   - 旧设备可能需要降级适配 MQTT 3.1.1。\n\n---\n\n#### **五、常见问题与解决**\n\n- **消息堆积**：Broker 内存不足时，可启用消息持久化或限制 QoS。\n- **网络波动**：设置合理的`Keep Alive`时间（如 60 秒），及时检测断线。\n- **主题冲突**：通过命名空间隔离不同业务（如`companyA/device1`）。\n\n---\n\n**总结**：MQTT 凭借其轻量、高效和灵活性，成为物联网通信的首选协议。合理设计主题、选择 QoS 等级，并结合安全措施，可充分发挥其优势。\n\n## Q: QoS 是个什么指标？如何保证？\n\n\u003e [!reasoning]-\n\u003e\n\u003e 好的，用户现在问的是 QoS 是什么指标，以及如何保证。首先，我需要回忆之前关于 MQTT 的讨论，特别是关于 QoS 的部分。之前已经详细介绍了 MQTT 协议的内容，包括 QoS 的三个等级，可能用户现在想更深入了解 QoS 的概念和实现机制。\n\u003e\n\u003e 首先，用户可能对 QoS 的定义不太清楚，虽然之前提到过三个等级，但需要更明确地解释 QoS 是什么，全称是什么。QoS 代表服务质量（Quality of Service），在 MQTT 中用来定义消息传递的可靠性级别。这一点需要先明确。\n\u003e\n\u003e 接下来，用户想知道如何保证不同的 QoS 等级。需要分别解释每个等级的实现机制。比如 QoS 0 是“最多一次”，它只是发送一次，不需要确认，适用于不重要的数据。QoS 1 是“至少一次”，需要确认，发送方会存储消息直到收到确认，但可能导致重复。QoS 2 是“恰好一次”，通过四次握手确保消息不重复不丢失。\n\u003e\n\u003e 然后，用户可能的应用场景会影响他们选择 QoS 等级，所以可能需要补充不同等级适用的场景，比如传感器数据用 QoS 0，控制指令用 QoS 1 或 2。同时，用户可能关心实际应用中如何配置这些等级，需要注意的地方，比如网络状况、资源消耗等。\n\u003e\n\u003e 另外，用户可能对 QoS 的实现细节感兴趣，比如 QoS 2 的四步握手过程，包括 PUBLISH、PUBREC、PUBREL、PUBCOMP。需要简明扼要地描述这些步骤，但避免过于技术化，保持易懂。\n\u003e\n\u003e 还需要考虑用户可能的误区，比如认为高 QoS 总是更好，但实际上高 QoS 会增加延迟和资源消耗，需要根据实际需求权衡。可能还要提到如何选择 QoS 等级，比如根据数据的重要性、网络稳定性、设备资源情况来决定。\n\u003e\n\u003e 最后，要确保回答结构清晰，分点说明，每个 QoS 等级的定义、实现机制、适用场景和注意事项。可能还需要总结如何选择，帮助用户做出决策。\n\u003e\n\u003e 检查是否有遗漏点，比如 QoS 的确认机制、消息重传、存储等。确保每个部分都覆盖到，并且语言通俗易懂，适合不同技术背景的读者。\n\n### **QoS（服务质量）详解**\n\nQoS（**Quality of Service**）是 MQTT 协议中用于定义**消息传输可靠性等级**的核心指标，它决定了消息在客户端与 Broker（代理服务器）之间的传递方式和可靠性保障。MQTT 支持三种 QoS 等级，开发者可根据场景需求选择不同的等级，以平衡**可靠性、延迟和资源消耗**。\n\n---\n\n### **一、QoS 的三种等级**\n\n#### **1. QoS 0（最多一次，At Most Once）**\n\n- **定义**：  \n  消息仅发送一次，不保证接收方是否收到，可能丢失。\n- **实现机制**：\n  - 发送方（Publisher）直接发送消息，不等待确认（ACK）。\n  - Broker 和订阅者（Subscriber）不存储消息，直接丢弃失败的消息。\n- **适用场景**：  \n  非关键性数据（如周期性传感器读数、环境监测数据）。\n- **优点**：  \n  传输最快、资源消耗最低。\n- **缺点**：  \n  无法保证消息必达。\n\n#### **2. QoS 1（至少一次，At Least Once）**\n\n- **定义**：  \n  确保消息至少被接收一次，但可能重复。\n- **实现机制**：\n  - 发送方存储消息，直到收到 Broker 的确认（PUBACK）。\n  - 若未收到确认，发送方会重传消息（可能导致重复）。\n  - Broker 同样会向订阅者重传消息，直到收到订阅者的确认。\n- **适用场景**：  \n  需要确保消息必达但对重复不敏感的场景（如控制指令、状态更新）。\n- **优点**：  \n  可靠性较高，适合中等重要性数据。\n- **缺点**：  \n  可能重复，需业务层去重（如通过消息 ID 过滤）。\n\n#### **3. QoS 2（恰好一次，Exactly Once）**\n\n- **定义**：  \n  确保消息**仅被传递一次**，既不会丢失也不会重复。\n- **实现机制**：  \n  通过**四次握手**保证可靠性（以客户端到 Broker 为例）：\n  1. 发送方发送 `PUBLISH` 消息并存储。\n  2. Broker 回复 `PUBREC`（已接收确认）。\n  3. 发送方收到 `PUBREC` 后发送 `PUBREL`（释放消息）。\n  4. Broker 回复 `PUBCOMP`（完成确认），双方删除消息副本。\n- **适用场景**：  \n  关键性数据（如支付指令、设备固件升级）。\n- **优点**：  \n  高可靠性，无重复。\n- **缺点**：  \n  延迟高、资源消耗大（需存储消息和多次交互）。\n\n---\n\n### **二、QoS 的保障机制**\n\nMQTT 通过以下机制实现 QoS 的可靠性保证：\n\n1. **消息存储与重传**：\n   - QoS 1 和 QoS 2 的发送方和 Broker 会缓存消息，直到收到确认。\n   - 若超时未收到确认，触发消息重传。\n2. **唯一消息标识符（Message ID）**：\n   - 每个消息分配唯一 ID，用于去重（QoS 1）和状态跟踪（QoS 2）。\n3. **状态机管理**：\n   - QoS 2 通过状态机严格管理四次握手过程，确保消息不丢失、不重复。\n\n---\n\n### **三、如何选择 QoS 等级？**\n\n| **因素**       | **QoS 0**              | **QoS 1** | **QoS 2** |\n| -------------- | ---------------------- | --------- | --------- |\n| **网络稳定性** | 高                     | 中        | 低        |\n| **数据重要性** | 低                     | 中        | 高        |\n| **设备资源**   | 资源受限（如电池供电） | 资源适中  | 资源充足  |\n| **允许延迟**   | 低延迟                 | 中等延迟  | 高延迟    |\n\n**示例场景**：\n\n- **智能家居温湿度传感器**：QoS 0（数据周期性上报，允许偶尔丢失）。\n- **智能门锁开锁指令**：QoS 1（需确保指令到达，重复开锁无风险）。\n- **医疗设备紧急告警**：QoS 2（必须精确传递一次，避免误报或漏报）。\n\n---\n\n### **四、注意事项**\n\n1. **端到端 QoS**：  \n   MQTT 的 QoS 仅保证客户端与 Broker 之间的传输，**不保证 Broker 与订阅者之间的传递**。\n   - 若订阅者离线，需结合**持久会话（Clean Session=0）** 和 Broker 的消息存储功能。\n2. **性能与资源消耗**：\n   - QoS 2 的四次握手会显著增加延迟和内存占用，需谨慎使用。\n3. **业务层去重**：\n   - 即使使用 QoS 2，某些场景仍需业务层校验（如 Broker 实现不一致）。\n\n---\n\n### **总结**\n\nQoS 是 MQTT 协议的核心能力，通过选择不同等级，开发者可在**可靠性、延迟和资源消耗**之间灵活权衡。实际应用中需结合具体场景（如数据重要性、网络条件、设备资源）选择最优策略，必要时通过业务逻辑（如消息去重）补充协议层的保障。\n\n## Q: 是否有其他协议能做与 MQTT 协议类似的功能？他们跟 MQTT 有何异同，有何优劣？\n\n\u003e [!reasoning]-\n\u003e\n\u003e 嗯，用户问的是有没有其他协议能实现类似 MQTT 的功能，以及它们的异同和优劣。我需要先看看搜索结果里的内容，看看有哪些协议被提到过。网页 2 提到了 AMQP、STOMP、CoAP、XMPP，这些都是和 MQTT 类似的协议。网页 3 也讨论了 MQTT、XMPP、WebSockets、AMQP 等协议的选型。网页 4 比较了 MQTT、CoAP、RESTful/HTTP 和 XMPP，可能有用。网页 7 提到 NATS 支持 MQTT，可能也是一个替代方案。\n\u003e\n\u003e 首先，我需要整理这些协议的基本信息。比如 AMQP 是高级消息队列协议，支持复杂的消息路由，适合企业应用，但可能比 MQTT 重。STOMP 是基于文本的，适合简单场景，但性能可能不如二进制协议。CoAP 专为受限设备设计，使用 UDP，适合低功耗物联网，但可靠性可能不如基于 TCP 的 MQTT。XMPP 基于 XML，扩展性强，但开销大，适合即时通讯。NATS 支持 MQTT，可能在高吞吐量和低延迟方面有优势。\n\u003e\n\u003e 然后，比较它们的异同。比如传输层，MQTT 用 TCP，CoAP 用 UDP。消息模型方面，MQTT 是发布/订阅，而 CoAP 是请求/响应，但也能支持发布/订阅。QoS 方面，MQTT 有不同等级，CoAP 也有类似的机制。安全方面，MQTT 支持 TLS，CoAP 使用 DTLS。\n\u003e\n\u003e 还要注意各个协议的应用场景。比如 MQTT 适合物联网设备，AMQP 适合企业级消息队列，CoAP 在资源受限设备上表现更好，XMPP 适合需要扩展性的即时通讯。同时，搜索结果里提到 MQTT 的缺点，比如可扩展性有限，不支持请求/响应模式，而其他协议可能弥补这些不足。\n\u003e\n\u003e 需要引用不同网页的信息。比如网页 2 提到 AMQP、STOMP、CoAP、XMPP；网页 3 详细比较了 MQTT 和其他协议的适用场景；网页 4 的对比表格有助于总结各个协议的特性；网页 6 提到 MQTT 的劣势，如不支持请求/响应；网页 7 提到 NATS 支持 MQTT 协议，可能作为替代方案。\n\u003e\n\u003e 最后，要确保回答结构清晰，分点列出各个协议，并比较它们的异同和优劣，同时引用对应的搜索结果编号。比如 AMQP 在网页 2 和 3 都有提到，CoAP 在网页 2、4、5，XMPP 在网页 2、4，NATS 在网页 7。需要注意避免重复引用同一网页，每个要点尽量综合多个网页的信息。\n\n以下是几种能够实现与 MQTT 类似功能的协议及其与 MQTT 的异同与优劣分析：\n\n---\n\n### **1. AMQP（Advanced Message Queuing Protocol）**\n\n- **功能相似性**：支持发布/订阅模型和消息队列，提供高可靠性传输，适合企业级消息系统。\n- **差异与优劣**：\n  - **协议复杂度**：AMQP 功能更强大，支持事务、消息持久化、复杂路由规则（如直接/主题/扇出路由），但协议开销较大，适合需要高可靠性和复杂消息管理的场景（如金融系统）。\n  - **性能**：相比 MQTT，AMQP 在低带宽环境中效率较低，但对大规模企业级应用更友好。\n  - **适用场景**：更适合传统企业中间件（如 RabbitMQ），而非物联网设备。\n\n---\n\n### **2. CoAP（Constrained Application Protocol）**\n\n- **功能相似性**：专为物联网设备设计，支持轻量级请求/响应模型，类似 HTTP 的 RESTful 风格，但基于 UDP，适合资源受限设备。\n- **差异与优劣**：\n  - **传输层**：CoAP 使用 UDP，支持多播，适合低功耗设备（如传感器），但需依赖应用层实现可靠性（如重传机制）；MQTT 基于 TCP，默认更可靠。\n  - **消息模型**：CoAP 原生支持请求/响应，MQTT 需通过发布/订阅模拟。CoAP 也可通过扩展实现发布/订阅。\n  - **适用场景**：CoAP 更适合一对一或小规模设备通信（如智能家居传感器），而 MQTT 更适合大规模设备连接。\n\n---\n\n### **3. STOMP（Simple Text Oriented Messaging Protocol）**\n\n- **功能相似性**：基于文本的协议，支持发布/订阅和队列模型，跨语言兼容性好。\n- **差异与优劣**：\n  - **协议格式**：STOMP 为文本协议，可读性强但传输效率低于 MQTT 的二进制协议。\n  - **功能特性**：支持事务和消息确认，但缺乏 MQTT 的 QoS 分级机制，可靠性依赖中间件实现。\n  - **适用场景**：适合需要快速集成的简单应用（如浏览器与后端通信），而非高吞吐量物联网场景。\n\n---\n\n### **4. XMPP（Extensible Messaging and Presence Protocol）**\n\n- **功能相似性**：支持即时通信和发布/订阅，扩展性强（基于 XML），常用于聊天和社交应用。\n- **差异与优劣**：\n  - **协议开销**：XMPP 的 XML 格式导致协议头较大，不适合低带宽环境；MQTT 更轻量。\n  - **实时性**：XMPP 支持在线状态管理和实时会话，MQTT 更专注于异步消息传输。\n  - **适用场景**：XMPP 适合需要复杂交互和扩展性的即时通信（如企业协作工具），MQTT 更适合设备数据上报。\n\n---\n\n### **5. NATS（Cloud Native Messaging System）**\n\n- **功能相似性**：支持发布/订阅和点对点通信，NATS Server v2.2.0+ 原生兼容 MQTT 协议，可替代 MQTT 代理。\n- **差异与优劣**：\n  - **性能**：NATS 以高吞吐量和低延迟著称，适合云原生和微服务架构，MQTT 更侧重物联网设备兼容性。\n  - **协议扩展**：NATS 支持与 MQTT 互通，允许混合部署，但需依赖特定中间件实现（如 NATS 服务器）。\n  - **适用场景**：适合需要统一消息总线且同时支持 MQTT 和 NATS 协议的系统。\n\n---\n\n### **总结：协议选型建议**\n\n| **场景需求**           | **推荐协议** | **关键优势**           |\n| ---------------------- | ------------ | ---------------------- |\n| 大规模物联网设备连接   | MQTT         | 轻量、低功耗、QoS 分级 |\n| 企业级复杂消息路由     | AMQP         | 高可靠性、事务支持     |\n| 资源受限设备（低功耗） | CoAP         | 基于 UDP、极简协议头   |\n| 浏览器与后端实时通信   | STOMP        | 文本协议、易集成       |\n| 即时通信与状态管理     | XMPP         | 扩展性强、实时交互     |\n| 云原生高吞吐量系统     | NATS         | 低延迟、兼容 MQTT      |\n\n**注**：实际选型需结合网络环境、设备资源、数据安全（如是否需 TLS/DTLS）和生态支持（如云平台兼容性）综合考量。\n","title":"详细介绍 MQTT 协议的内容，原理，应用场景","abstract":"\u003e 本文详细介绍了 MQTT（Message Queuing Telemetry Transport）协议的核心内容、工作原理及其在物联网和分布式系统中的应用场景。文章分析了 MQTT 协议的特点、消息质量等级、主题设计以及安全机制，帮助读者全面了解这一轻量级的发布/订阅协议如何支持资源受限设备的可靠通信。\nMQTT（Message Queuing Telemetry Transport）是一种轻量级的、基于发布/订阅模式的消息传输协议，专为受限设备和低带宽、高延迟或不可靠的网络环境设计。它由 Andy Stanford-Clark（IBM）和 Arlen Nipper（Cirrus Link）于 1999 年为连接石油管道的 SCADA 系统而开发，现已发展成为物联网（IoT）通信的标准协议之一。\nMQTT 协议工作在 TCP/IP 协议栈上，使用了最小化的协议开销，可以在资源受限的设备上实现高效通信。它采用发布/订阅的消息模式，而非传统的客户端/服务器模式，这使得它特别适合构建可扩展的物联网应用。","length":722,"created_at":"2025-03-28T06:35:00.000Z","updated_at":"2025-03-28T06:35:00.000Z","tags":["协议","IoT","物联网","消息队列","学习笔记"],"license":true,"headingTrees":[{"key":"q-什么是-mqtt-协议","href":"#q-什么是-mqtt-协议","heading":2,"title":"Q: 什么是 MQTT 协议？","children":[],"id":"q-什么是-mqtt-协议"},{"key":"q-mqtt-协议的工作原理是什么","href":"#q-mqtt-协议的工作原理是什么","heading":2,"title":"Q: MQTT 协议的工作原理是什么？","children":[],"id":"q-mqtt-协议的工作原理是什么"},{"key":"q-mqtt-协议的主要特性有哪些","href":"#q-mqtt-协议的主要特性有哪些","heading":2,"title":"Q: MQTT 协议的主要特性有哪些？","children":[],"id":"q-mqtt-协议的主要特性有哪些"},{"key":"q-mqtt-有哪些版本它们之间有什么区别","href":"#q-mqtt-有哪些版本它们之间有什么区别","heading":2,"title":"Q: MQTT 有哪些版本？它们之间有什么区别？","children":[],"id":"q-mqtt-有哪些版本它们之间有什么区别"},{"key":"q-mqtt-协议的应用场景有哪些","href":"#q-mqtt-协议的应用场景有哪些","heading":2,"title":"Q: MQTT 协议的应用场景有哪些？","children":[],"id":"q-mqtt-协议的应用场景有哪些"},{"key":"q-mqtt-的安全机制有哪些","href":"#q-mqtt-的安全机制有哪些","heading":2,"title":"Q: MQTT 的安全机制有哪些？","children":[],"id":"q-mqtt-的安全机制有哪些"},{"key":"q-主要的-mqtt-代理服务器实现有哪些","href":"#q-主要的-mqtt-代理服务器实现有哪些","heading":2,"title":"Q: 主要的 MQTT 代理/服务器实现有哪些？","children":[],"id":"q-主要的-mqtt-代理服务器实现有哪些"},{"key":"q-mqtt-与其他消息协议相比有什么优势和劣势","href":"#q-mqtt-与其他消息协议相比有什么优势和劣势","heading":2,"title":"Q: MQTT 与其他消息协议相比有什么优势和劣势？","children":[{"key":"与-http-相比","href":"#与-http-相比","heading":3,"title":"与 HTTP 相比：","children":[],"id":"与-http-相比"},{"key":"与-coap-相比","href":"#与-coap-相比","heading":3,"title":"与 CoAP 相比：","children":[],"id":"与-coap-相比"},{"key":"与-amqp-相比","href":"#与-amqp-相比","heading":3,"title":"与 AMQP 相比：","children":[],"id":"与-amqp-相比"},{"key":"与-websocket-相比","href":"#与-websocket-相比","heading":3,"title":"与 WebSocket 相比：","children":[],"id":"与-websocket-相比"}],"id":"q-mqtt-与其他消息协议相比有什么优势和劣势"},{"key":"q-设计基于-mqtt-的系统时有哪些最佳实践","href":"#q-设计基于-mqtt-的系统时有哪些最佳实践","heading":2,"title":"Q: 设计基于 MQTT 的系统时有哪些最佳实践？","children":[{"key":"主题设计","href":"#主题设计","heading":3,"title":"主题设计：","children":[],"id":"主题设计"},{"key":"qos-选择","href":"#qos-选择","heading":3,"title":"QoS 选择：","children":[],"id":"qos-选择"},{"key":"连接管理","href":"#连接管理","heading":3,"title":"连接管理：","children":[],"id":"连接管理"},{"key":"安全最佳实践","href":"#安全最佳实践","heading":3,"title":"安全最佳实践：","children":[],"id":"安全最佳实践"},{"key":"性能与可扩展性","href":"#性能与可扩展性","heading":3,"title":"性能与可扩展性：","children":[],"id":"性能与可扩展性"},{"key":"数据设计","href":"#数据设计","heading":3,"title":"数据设计：","children":[],"id":"数据设计"},{"key":"故障恢复","href":"#故障恢复","heading":3,"title":"故障恢复：","children":[],"id":"故障恢复"}],"id":"q-设计基于-mqtt-的系统时有哪些最佳实践"},{"key":"q-mqtt-协议的未来发展趋势如何","href":"#q-mqtt-协议的未来发展趋势如何","heading":2,"title":"Q: MQTT 协议的未来发展趋势如何？","children":[],"id":"q-mqtt-协议的未来发展趋势如何"},{"key":"q-详细介绍-mqtt-协议的内容原理应用场景以及应用-mqtt-协议时要注意的事项","href":"#q-详细介绍-mqtt-协议的内容原理应用场景以及应用-mqtt-协议时要注意的事项","heading":2,"title":"Q: 详细介绍 MQTT 协议的内容，原理，应用场景，以及应用 MQTT 协议时要注意的事项","children":[{"key":"mqtt-协议详解","href":"#mqtt-协议详解","heading":3,"title":"MQTT 协议详解","children":[{"key":"一协议内容","href":"#一协议内容","heading":4,"title":"一、协议内容","children":[],"id":"一协议内容"},{"key":"二工作原理","href":"#二工作原理","heading":4,"title":"二、工作原理","children":[],"id":"二工作原理"},{"key":"三典型应用场景","href":"#三典型应用场景","heading":4,"title":"三、典型应用场景","children":[],"id":"三典型应用场景"},{"key":"四使用注意事项","href":"#四使用注意事项","heading":4,"title":"四、使用注意事项","children":[],"id":"四使用注意事项"},{"key":"五常见问题与解决","href":"#五常见问题与解决","heading":4,"title":"五、常见问题与解决","children":[],"id":"五常见问题与解决"}],"id":"mqtt-协议详解"}],"id":"q-详细介绍-mqtt-协议的内容原理应用场景以及应用-mqtt-协议时要注意的事项"},{"key":"q-qos-是个什么指标如何保证","href":"#q-qos-是个什么指标如何保证","heading":2,"title":"Q: QoS 是个什么指标？如何保证？","children":[{"key":"qos服务质量详解","href":"#qos服务质量详解","heading":3,"title":"QoS（服务质量）详解","children":[],"id":"qos服务质量详解"},{"key":"一qos-的三种等级","href":"#一qos-的三种等级","heading":3,"title":"一、QoS 的三种等级","children":[{"key":"1-qos-0最多一次at-most-once","href":"#1-qos-0最多一次at-most-once","heading":4,"title":"1. QoS 0（最多一次，At Most Once）","children":[],"id":"1-qos-0最多一次at-most-once"},{"key":"2-qos-1至少一次at-least-once","href":"#2-qos-1至少一次at-least-once","heading":4,"title":"2. QoS 1（至少一次，At Least Once）","children":[],"id":"2-qos-1至少一次at-least-once"},{"key":"3-qos-2恰好一次exactly-once","href":"#3-qos-2恰好一次exactly-once","heading":4,"title":"3. QoS 2（恰好一次，Exactly Once）","children":[],"id":"3-qos-2恰好一次exactly-once"}],"id":"一qos-的三种等级"},{"key":"二qos-的保障机制","href":"#二qos-的保障机制","heading":3,"title":"二、QoS 的保障机制","children":[],"id":"二qos-的保障机制"},{"key":"三如何选择-qos-等级","href":"#三如何选择-qos-等级","heading":3,"title":"三、如何选择 QoS 等级？","children":[],"id":"三如何选择-qos-等级"},{"key":"四注意事项","href":"#四注意事项","heading":3,"title":"四、注意事项","children":[],"id":"四注意事项"},{"key":"总结","href":"#总结","heading":3,"title":"总结","children":[],"id":"总结"}],"id":"q-qos-是个什么指标如何保证"},{"key":"q-是否有其他协议能做与-mqtt-协议类似的功能他们跟-mqtt-有何异同有何优劣","href":"#q-是否有其他协议能做与-mqtt-协议类似的功能他们跟-mqtt-有何异同有何优劣","heading":2,"title":"Q: 是否有其他协议能做与 MQTT 协议类似的功能？他们跟 MQTT 有何异同，有何优劣？","children":[{"key":"1-amqpadvanced-message-queuing-protocol","href":"#1-amqpadvanced-message-queuing-protocol","heading":3,"title":"1. AMQP（Advanced Message Queuing Protocol）","children":[],"id":"1-amqpadvanced-message-queuing-protocol"},{"key":"2-coapconstrained-application-protocol","href":"#2-coapconstrained-application-protocol","heading":3,"title":"2. CoAP（Constrained Application Protocol）","children":[],"id":"2-coapconstrained-application-protocol"},{"key":"3-stompsimple-text-oriented-messaging-protocol","href":"#3-stompsimple-text-oriented-messaging-protocol","heading":3,"title":"3. STOMP（Simple Text Oriented Messaging Protocol）","children":[],"id":"3-stompsimple-text-oriented-messaging-protocol"},{"key":"4-xmppextensible-messaging-and-presence-protocol","href":"#4-xmppextensible-messaging-and-presence-protocol","heading":3,"title":"4. XMPP（Extensible Messaging and Presence Protocol）","children":[],"id":"4-xmppextensible-messaging-and-presence-protocol"},{"key":"5-natscloud-native-messaging-system","href":"#5-natscloud-native-messaging-system","heading":3,"title":"5. NATS（Cloud Native Messaging System）","children":[],"id":"5-natscloud-native-messaging-system"},{"key":"总结协议选型建议","href":"#总结协议选型建议","heading":3,"title":"总结：协议选型建议","children":[],"id":"总结协议选型建议"}],"id":"q-是否有其他协议能做与-mqtt-协议类似的功能他们跟-mqtt-有何异同有何优劣"}],"wikiRefAliases":[],"richRefAliases":[]}}]},"__N_SSG":true},"page":"/tags/[tag]","query":{"tag":"物联网"},"buildId":"4TzrXnuOTdlbIQcgGkgyt","assetPrefix":"/blog-next","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>