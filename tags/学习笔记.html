<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1" data-next-head=""/><meta name="description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta property="og:description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta name="twitter:description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta property="og:image" content="https://ryojerryyu.github.io/blog-next/img/home-bg-kasumi-hanabi.jpg" data-next-head=""/><meta name="twitter:image" content="https://ryojerryyu.github.io/blog-next/img/home-bg-kasumi-hanabi.jpg" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:url" content="https://blog.ryo-okami.xyz/tags/å­¦ä¹ ç¬”è®°" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@ryo_okami" data-next-head=""/><meta name="twitter:creator" content="@ryo_okami" data-next-head=""/><link rel="icon" href="/blog-next/favicon.ico" data-next-head=""/><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" data-next-head=""/><title data-next-head="">å­¦ä¹ ç¬”è®° | Ryo&#x27;s Blog</title><meta property="og:title" content="å­¦ä¹ ç¬”è®°" data-next-head=""/><meta property="og:site_name" content="Ryo&#x27;s Blog" data-next-head=""/><meta name="twitter:title" content="å­¦ä¹ ç¬”è®° | Ryo&#x27;s Blog" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/blog-next/_next/static/css/d830e2a4097a21d1.css" as="style"/><link rel="preload" href="/blog-next/_next/static/css/372dbf149af24e86.css" as="style"/><link rel="stylesheet" href="/blog-next/_next/static/css/d830e2a4097a21d1.css" data-n-g=""/><link rel="stylesheet" href="/blog-next/_next/static/css/372dbf149af24e86.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/blog-next/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/blog-next/_next/static/chunks/webpack-82dfb9cb06bb6af8.js" defer=""></script><script src="/blog-next/_next/static/chunks/framework-66421cda4049f394.js" defer=""></script><script src="/blog-next/_next/static/chunks/main-2f2d93a54734734e.js" defer=""></script><script src="/blog-next/_next/static/chunks/pages/_app-0c7fcc22aa12d579.js" defer=""></script><script src="/blog-next/_next/static/chunks/4018-e7342e6d25c66fa2.js" defer=""></script><script src="/blog-next/_next/static/chunks/pages/tags/%5Btag%5D-07cf2fe5e9c2ce56.js" defer=""></script><script src="/blog-next/_next/static/pB2tEMC8kWZU_Mu-EJvTk/_buildManifest.js" defer=""></script><script src="/blog-next/_next/static/pB2tEMC8kWZU_Mu-EJvTk/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css n0gloa">.css-n0gloa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);background-color:rgba(17, 24, 39, 0.75);}@media print{.css-n0gloa{position:absolute;}}</style><style data-emotion="css uc0di9">.css-uc0di9{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:var(--Paper-shadow);background-image:var(--Paper-overlay);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);background-color:rgba(17, 24, 39, 0.75);}@media print{.css-uc0di9{position:absolute;}}</style><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed css-uc0di9" style="--Paper-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"><style data-emotion="css awgou1">.css-awgou1{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-awgou1{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-awgou1{min-height:48px;}}}@media (min-width:600px){.css-awgou1{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-awgou1"><div class="ml-2 w-32 mr-2 md:mr-4"><a class="DefaultLayout_textlink__EVwys" href="/blog-next">Ryo&#x27;s Blog</a></div><style data-emotion="css k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="MuiBox-root css-k008qs"><div class="relative float-left mx-1 md:mx-2"><a class="DefaultLayout_textlink__EVwys" href="/blog-next/articles">Articles</a></div><div class="relative float-left mx-1 md:mx-2"><a class="DefaultLayout_textlink__EVwys" href="/blog-next/ideas">Ideas</a></div><div class="relative float-left mx-1 md:mx-2"><a class="DefaultLayout_textlink__EVwys" href="/blog-next/learn_from_ai">Learn from AI</a></div><div class="relative float-left mx-1 md:mx-2"><a class="DefaultLayout_textlink__EVwys" href="/blog-next/tags">Tags</a></div><div class="relative float-left mx-1 md:mx-2"><a class="DefaultLayout_textlink__EVwys" href="/blog-next/clips">Clips</a></div></div><style data-emotion="css 1l0r181">.css-1l0r181{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="MuiBox-root css-1l0r181"></div><div class="MuiBox-root css-k008qs"><a title="Twitter" href="https://twitter.com/ryo_okami"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a title="GitHub" href="https://github.com/RyoJerryYu"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a title="Pixiv" href="https://www.pixiv.net/users/9159893"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"></path></svg></a></div></div></header><style data-emotion="css awgou1">.css-awgou1{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-awgou1{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-awgou1{min-height:48px;}}}@media (min-width:600px){.css-awgou1{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-awgou1"></div><style data-emotion="css vktxal">.css-vktxal{--Grid-columns:12;--Grid-columnSpacing:0px;--Grid-rowSpacing:0px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-width:0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--Grid-rowSpacing) var(--Grid-columnSpacing);width:100%;max-width:80rem;margin-left:auto;margin-right:auto;padding:0.5rem;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.css-vktxal >*{--Grid-parent-columns:12;}.css-vktxal >*{--Grid-parent-columnSpacing:0px;}.css-vktxal >*{--Grid-parent-rowSpacing:0px;}</style><div class="MuiGrid2-root MuiGrid2-container MuiGrid2-direction-xs-row css-vktxal"><style data-emotion="css 9gdssj">.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-0 MuiGrid2-grid-lg-2 css-9gdssj"></div><style data-emotion="css 9h67uz">.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 12 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 12) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 9 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 9) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 8 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 8) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-12 MuiGrid2-grid-md-9 MuiGrid2-grid-lg-8 css-9h67uz"><div class="DefaultLayout_contentHeight__DabjQ"><div class="p-2"><div class="TagsBox_tagsBox__WzhAf"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E6%8A%80">#<!-- -->æ‚æŠ€</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/blog">#<!-- -->Blog</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E8%B0%88">#<!-- -->æ‚è°ˆ</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/c++">#<!-- -->C++</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/python">#<!-- -->Python</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">#<!-- -->æ•°æ®ç»“æ„</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AE%97%E6%B3%95">#<!-- -->ç®—æ³•</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%8E%92%E5%BA%8F">#<!-- -->æ’åº</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B">#<!-- -->ç®—æ³•ç«èµ›</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">#<!-- -->è®¾è®¡æ¨¡å¼</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AC%94%E8%AE%B0">#<!-- -->ç¬”è®°</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/github">#<!-- -->GitHub</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/aws">#<!-- -->AWS</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/ci-cd">#<!-- -->CI/CD</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/iac">#<!-- -->IaC</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/devops">#<!-- -->DevOps</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/vscode">#<!-- -->VSCode</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/hexo">#<!-- -->Hexo</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/javascript">#<!-- -->JavaScript</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/kubernetes">#<!-- -->Kubernetes</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/docker">#<!-- -->Docker</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cloud-native">#<!-- -->Cloud Native</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cursor">#<!-- -->Cursor</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%AF%E8%A7%86%E5%8C%96">#<!-- -->å¯è§†åŒ–</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%95%B0%E5%AD%A6">#<!-- -->æ•°å­¦</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%B7%A5%E5%85%B7">#<!-- -->å·¥å…·</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/nextjs">#<!-- -->Nextjs</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/linux">#<!-- -->Linux</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/systemctl">#<!-- -->systemctl</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/journalctl">#<!-- -->journalctl</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/timedatectl">#<!-- -->timedatectl</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/basicknowledge">#<!-- -->BasicKnowledge</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/operation">#<!-- -->Operation</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/signal">#<!-- -->Signal</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/memory">#<!-- -->memory</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/schedule">#<!-- -->schedule</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cloud-computing">#<!-- -->Cloud Computing</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/pytorch">#<!-- -->PyTorch</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/onnx">#<!-- -->ONNX</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0">#<!-- -->æ·±åº¦å­¦ä¹ </a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2">#<!-- -->æ¨¡å‹éƒ¨ç½²</a><a class="tag-word TagsBox_highlightedTag__cLTHz" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->å­¦ä¹ ç¬”è®°</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/opencv">#<!-- -->OpenCV</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86">#<!-- -->å›¾åƒå¤„ç†</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/rust">#<!-- -->Rust</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80">#<!-- -->ç¼–ç¨‹è¯­è¨€</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/windows">#<!-- -->Windows</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/macos">#<!-- -->macOS</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6">#<!-- -->å¯æ‰§è¡Œæ–‡ä»¶</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/lora">#<!-- -->LoRA</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%82%E6%95%B0%E9%AB%98%E6%95%88%E5%BE%AE%E8%B0%83">#<!-- -->å‚æ•°é«˜æ•ˆå¾®è°ƒ</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83">#<!-- -->æ¨¡å‹è®­ç»ƒ</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%8D%E5%90%91%E4%BC%A0%E6%92%AD">#<!-- -->åå‘ä¼ æ’­</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E8%87%AA%E5%8A%A8%E5%BE%AE%E5%88%86">#<!-- -->è‡ªåŠ¨å¾®åˆ†</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/golang">#<!-- -->GoLang</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/memory-management">#<!-- -->Memory Management</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/deep-learning">#<!-- -->Deep Learning</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/model-management">#<!-- -->Model Management</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/neural-networks">#<!-- -->Neural Networks</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/resnet">#<!-- -->ResNet</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/mathematics">#<!-- -->Mathematics</a></div></div><div class="PostList_postList__Tuobz"><div class="PostList_postListElement__qi6kp"><a href="/blog-next/learn_from_ai/pytorch-backpropagation-mechanism"><h6 class="PostList_postTitle__vveJr">PyTorch è‡ªåŠ¨å¾®åˆ†ä¸åå‘ä¼ æ’­æœºåˆ¶åŸç†è§£æ</h6><div class="PostList_postDate__z_XQh"><time dateTime="2025-03-06T15:50:00.000Z">2025-03-06</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; æœ¬æ–‡ä¸ºç”¨æˆ·ä¸ DeepSeek çš„é—®ç­”ã€‚ä¸»é¢˜ä¸º PyTorch çš„åå‘ä¼ æ’­æœºåˆ¶ã€‚æœ¬æ–‡ä»æ•°å­¦åŸç†ã€è®¡ç®—å›¾æœºåˆ¶å’Œå®é™…éœ€æ±‚ä¸‰ä¸ªæ–¹é¢æ·±å…¥è§£é‡Šå…¶å·¥ä½œåŸç†ï¼Œå¹¶ç»“åˆ PyTorch çš„è‡ªåŠ¨å¾®åˆ†ï¼ˆAutogradï¼‰ç³»ç»Ÿè¿›è¡Œè¯´æ˜ã€‚</p><p class="py-1">&gt; [!query]</p><p class="py-1">&gt;</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/pytorch">#<!-- -->PyTorch</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0">#<!-- -->æ·±åº¦å­¦ä¹ </a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%8D%E5%90%91%E4%BC%A0%E6%92%AD">#<!-- -->åå‘ä¼ æ’­</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E8%87%AA%E5%8A%A8%E5%BE%AE%E5%88%86">#<!-- -->è‡ªåŠ¨å¾®åˆ†</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->å­¦ä¹ ç¬”è®°</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/learn_from_ai/lora-matrix-initialization-strategy"><h6 class="PostList_postTitle__vveJr">LoRAå¾®è°ƒä¸­çš„çŸ©é˜µåˆå§‹åŒ–ç­–ç•¥ï¼šAéšæœºä¸Bé›¶åˆå§‹åŒ–</h6><div class="PostList_postDate__z_XQh"><time dateTime="2025-03-05T02:00:00.000Z">2025-03-05</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; æœ¬æ–‡æ˜¯ä¸ Deepseek-R1 æ¨¡å‹+Search çš„å¯¹è¯è®°å½•ï¼Œè¯¦ç»†æ¢è®¨äº† LoRAï¼ˆä½ç§©é€‚åº”ï¼‰å¾®è°ƒæŠ€æœ¯ä¸­çŸ©é˜µåˆå§‹åŒ–ç­–ç•¥çš„æ•°å­¦åŸç†ã€‚æ–‡ç« åˆ†æäº†ä¸ºä»€ä¹ˆåœ¨ LoRA ä¸­çŸ©é˜µ A é‡‡ç”¨éšæœºåˆå§‹åŒ–è€ŒçŸ©é˜µ B é‡‡ç”¨é›¶åˆå§‹åŒ–çš„åŸå› ï¼ŒåŒ…æ‹¬ä¿æŒåˆå§‹æ¨¡å‹ç¨³å®šæ€§ã€ç¡®ä¿æ¢¯åº¦æ›´æ–°æœ‰æ•ˆæ€§ã€å®ç°é€æ­¥å­¦ä¹ çš„ä½ç§©æ›´æ–°ç­‰æ–¹é¢ã€‚åŒæ—¶ï¼Œæ–‡ç« ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆåå‘åˆå§‹åŒ–ç­–ç•¥ï¼ˆBéšæœºè€ŒAä¸ºé›¶ï¼‰åœ¨ç†è®ºä¸Šå­˜åœ¨é—®é¢˜ï¼Œä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±å’Œè®­ç»ƒæ•ˆç‡ä¸‹é™ã€‚è¿™äº›åˆ†ææœ‰åŠ©äºç†è§£æ·±åº¦å­¦ä¹ ä¸­å‚æ•°é«˜æ•ˆå¾®è°ƒæŠ€æœ¯çš„è®¾è®¡åŸç†ã€‚</p><p class="py-1">&gt; [!reasoning]-</p><p class="py-1">&gt; å—¯ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å…³äºLoRAï¼ˆä½ç§©é€‚åº”ï¼‰åˆå§‹åŒ–çš„ã€‚ä¸ºä»€ä¹ˆåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒçŸ©é˜µAæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œè€ŒçŸ©é˜µBæ˜¯é›¶åˆå§‹åŒ–çš„å‘¢ï¼Ÿæˆ‘éœ€è¦ä»”ç»†æ€è€ƒä¸€ä¸‹ã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0">#<!-- -->æ·±åº¦å­¦ä¹ </a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/lora">#<!-- -->LoRA</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%82%E6%95%B0%E9%AB%98%E6%95%88%E5%BE%AE%E8%B0%83">#<!-- -->å‚æ•°é«˜æ•ˆå¾®è°ƒ</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83">#<!-- -->æ¨¡å‹è®­ç»ƒ</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->å­¦ä¹ ç¬”è®°</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/learn_from_ai/executable-file-formats"><h6 class="PostList_postTitle__vveJr">å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼å¯¹æ¯”ï¼šELFã€PEã€Mach-Oç­‰</h6><div class="PostList_postDate__z_XQh"><time dateTime="2024-12-08T02:00:00.000Z">2024-12-08</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; æœ¬æ–‡ä»‹ç»äº†å‡ ç§ä¸»è¦çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ï¼ŒåŒ…æ‹¬Linuxç³»ç»Ÿä½¿ç”¨çš„ELFæ ¼å¼ã€Windowsç³»ç»Ÿä½¿ç”¨çš„PEæ ¼å¼ã€ä»¥åŠmacOSç³»ç»Ÿä½¿ç”¨çš„Mach-Oæ ¼å¼ç­‰ã€‚æ–‡ç« è¯¦ç»†è®¨è®ºäº†æ¯ç§æ ¼å¼çš„ç‰¹ç‚¹ã€ä½¿ç”¨å¹³å°å’Œå†å²æ¼”å˜ï¼Œå¸®åŠ©è¯»è€…ç†è§£ä¸åŒæ“ä½œç³»ç»Ÿä¸­äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼çš„å·®å¼‚ã€‚</p><p class="py-1">ELFï¼ˆExecutable and Linkable Formatï¼‰æ‰§è¡Œæ–‡ä»¶æ˜¯ä¸€ç§ç”¨äºLinuxå’Œç±»Unixæ“ä½œç³»ç»Ÿçš„æ ‡å‡†äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ã€‚å®ƒåŒ…å«äº†å¯æ‰§è¡Œç¨‹åºã€å…±äº«åº“ã€ç›®æ ‡æ–‡ä»¶å’Œæ ¸å¿ƒè½¬å‚¨æ–‡ä»¶ã€‚ELFæ–‡ä»¶æ ¼å¼è®¾è®¡çµæ´»ã€å¯æ‰©å±•ï¼Œå¹¶ä¸”å¯ç§»æ¤ï¼Œå®ƒå®šä¹‰äº†ç¨‹åºä»£ç çš„åŠ è½½å’Œæ‰§è¡Œæ–¹å¼ï¼ŒåŒ…æ‹¬ä»£ç æ®µã€æ•°æ®æ®µã€ç¬¦å·è¡¨å’Œé‡å®šä½ä¿¡æ¯ç­‰ã€‚æ“ä½œç³»ç»Ÿæ ¹æ®ELFæ–‡ä»¶ä¸­çš„è¿™äº›ä¿¡æ¯æ¥å’Œæ‰§è¡Œç¨‹åºã€‚ELFæ ¼å¼ä¹Ÿå…è®¸ç¨‹åºå…±äº«åº“ï¼Œå³å¤šä¸ªç¨‹åºå¯ä»¥å…±äº«åŒä¸€æ®µä»£ç ï¼Œä»è€Œå‡å°‘å†…å­˜å ç”¨å¹¶æé«˜æ•ˆç‡ã€‚åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒELFæ–‡ä»¶ä½œä¸ºç›®æ ‡æ–‡ä»¶æ ¼å¼åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆï¼Œå¹¶æœ€ç»ˆç”±é“¾æ¥å™¨ç»„åˆå½¢æˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–å…±äº«åº“ã€‚</p><p class="py-1">æ˜¯çš„ï¼Œé™¤äº†ELFï¼ˆExecutable and Linking Formatï¼‰ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–å‡ ç§å¸¸è§çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼Œå®ƒä»¬åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œå¹³å°ä¸Šè¢«å¹¿æ³›ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼š</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/linux">#<!-- -->Linux</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/windows">#<!-- -->Windows</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/macos">#<!-- -->macOS</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6">#<!-- -->å¯æ‰§è¡Œæ–‡ä»¶</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->å­¦ä¹ ç¬”è®°</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/learn_from_ai/opencv-coordinate-system-conventions"><h6 class="PostList_postTitle__vveJr">OpenCV åæ ‡è¡¨ç¤ºï¼šç†è§£ (y, x) ä¸ (x, y) çš„åŒºåˆ«</h6><div class="PostList_postDate__z_XQh"><time dateTime="2024-11-29T03:00:00.000Z">2024-11-29</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; ğŸ“ æœ¬æ–‡æ˜¯æˆ‘åœ¨å­¦ä¹  OpenCV æ—¶é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ã€‚é—®é¢˜çš„è§£ç­”å’Œä¸­æ–‡ç¿»è¯‘å‡ç”± AI ç”Ÿæˆã€‚</p><p class="py-1">Why sometimes opencv represent a point coordinate as (y,x) (e.g. the result of cv2.findContours) , and sometimes it represent as (x, y) (e.g. the arg `center` of cv2.circle)?</p><p class="py-1">&gt; ä¸ºä»€ä¹ˆ OpenCV æœ‰æ—¶ç”¨ (y,x) è¡¨ç¤ºåæ ‡ç‚¹ï¼ˆæ¯”å¦‚ cv2.findContours çš„è¿”å›å€¼ï¼‰ï¼Œæœ‰æ—¶åˆç”¨ (x,y) è¡¨ç¤ºï¼ˆæ¯”å¦‚ cv2.circle å‡½æ•°çš„ `center` å‚æ•°ï¼‰ï¼Ÿ</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/opencv">#<!-- -->OpenCV</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86">#<!-- -->å›¾åƒå¤„ç†</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->å­¦ä¹ ç¬”è®°</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/learn_from_ai/deep-learning-model-formats"><h6 class="PostList_postTitle__vveJr">æ·±åº¦å­¦ä¹ æ¨¡å‹æ–‡ä»¶æ ¼å¼å¯¹æ¯”ï¼špthã€safetensor ä¸ onnx</h6><div class="PostList_postDate__z_XQh"><time dateTime="2024-11-29T02:00:00.000Z">2024-11-29</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; æœ¬é¡µé¢ä»‹ç»äº†ä¸‰ç§æœºå™¨å­¦ä¹ æ¨¡å‹æ–‡ä»¶æ ¼å¼ï¼š.pthã€.safetensor å’Œ .onnxã€‚ä¸»è¦å†…å®¹åŒ…æ‹¬æ¯ç§æ ¼å¼çš„å®šä¹‰ã€ä¿å­˜çš„å†…å®¹ã€ç”¨é€”ä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œè½¬æ¢æ–¹æ³•ã€‚</p><p class="py-1">PyTorch ä¸­çš„`.pth`æ–‡ä»¶é€šå¸¸ç”¨äºä¿å­˜æ¨¡å‹çš„æƒé‡ï¼ˆparametersï¼‰å’Œè®­ç»ƒè¿‡ç¨‹ä¸­çš„ä¼˜åŒ–å™¨çŠ¶æ€ï¼ˆoptimizer stateï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œä¸€ä¸ª`.pth`æ–‡ä»¶å¯èƒ½åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p><p class="py-1">1. **æ¨¡å‹çŠ¶æ€å­—å…¸ï¼ˆModel state dictionaryï¼‰**ï¼š</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/pytorch">#<!-- -->PyTorch</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/onnx">#<!-- -->ONNX</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0">#<!-- -->æ·±åº¦å­¦ä¹ </a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2">#<!-- -->æ¨¡å‹éƒ¨ç½²</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">#<!-- -->å­¦ä¹ ç¬”è®°</a></div></div></div></div></div><style data-emotion="css vkdybf">.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 3 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 3) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-3 MuiGrid2-grid-lg-2 css-vkdybf"></div></div><footer class="DefaultLayout_footer__n5339"><style data-emotion="css vktxal">.css-vktxal{--Grid-columns:12;--Grid-columnSpacing:0px;--Grid-rowSpacing:0px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-width:0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--Grid-rowSpacing) var(--Grid-columnSpacing);width:100%;max-width:80rem;margin-left:auto;margin-right:auto;padding:0.5rem;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.css-vktxal >*{--Grid-parent-columns:12;}.css-vktxal >*{--Grid-parent-columnSpacing:0px;}.css-vktxal >*{--Grid-parent-rowSpacing:0px;}</style><div class="MuiGrid2-root MuiGrid2-container MuiGrid2-direction-xs-row css-vktxal"><style data-emotion="css 9gdssj">.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-0 MuiGrid2-grid-lg-2 css-9gdssj"></div><style data-emotion="css 9h67uz">.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 12 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 12) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 9 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 9) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 8 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 8) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-12 MuiGrid2-grid-md-9 MuiGrid2-grid-lg-8 css-9h67uz"><div class="flex flex-row justify-center items-center"><div class="DefaultLayout_footerLeft__j0yvY">Â© 2023 Ryo Jerry Yu. All rights reserved.</div><div class="DefaultLayout_footerRight___Dn67"><a title="Twitter" href="https://twitter.com/ryo_okami"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a title="GitHub" href="https://github.com/RyoJerryYu"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a title="Pixiv" href="https://www.pixiv.net/users/9159893"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"></path></svg></a></div></div></div><style data-emotion="css vkdybf">.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 3 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 3) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid2-root MuiGrid2-direction-xs-row MuiGrid2-grid-xs-0 MuiGrid2-grid-md-3 MuiGrid2-grid-lg-2 css-vkdybf"></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"allTagInfos":[{"tag":"æ‚æŠ€","slug":"æ‚æŠ€","path":"/tags/æ‚æŠ€","postSlugs":[{"postType":"articles","postSlug":"Building-this-blog","postPagePath":"/articles/Building-this-blog"},{"postType":"articles","postSlug":"hello-world","postPagePath":"/articles/hello-world"},{"postType":"articles","postSlug":"the-using-in-cpp","postPagePath":"/articles/the-using-in-cpp"}]},{"tag":"Blog","slug":"blog","path":"/tags/blog","postSlugs":[{"postType":"articles","postSlug":"Building-this-blog","postPagePath":"/articles/Building-this-blog"},{"postType":"articles","postSlug":"init-a-new-hexo-project","postPagePath":"/articles/init-a-new-hexo-project"},{"postType":"articles","postSlug":"create-blog-cicd-by-github","postPagePath":"/articles/create-blog-cicd-by-github"},{"postType":"articles","postSlug":"use-paste-image-and-vscode-memo","postPagePath":"/articles/use-paste-image-and-vscode-memo"},{"postType":"ideas","postSlug":"blog-in-next","postPagePath":"/ideas/blog-in-next"},{"postType":"ideas","postSlug":"blog-syntax","postPagePath":"/ideas/blog-syntax"}]},{"tag":"æ‚è°ˆ","slug":"æ‚è°ˆ","path":"/tags/æ‚è°ˆ","postSlugs":[{"postType":"articles","postSlug":"hello-world","postPagePath":"/articles/hello-world"},{"postType":"articles","postSlug":"try-cursor-and-thinking","postPagePath":"/articles/try-cursor-and-thinking"}]},{"tag":"C++","slug":"c++","path":"/tags/c++","postSlugs":[{"postType":"articles","postSlug":"the-using-in-cpp","postPagePath":"/articles/the-using-in-cpp"},{"postType":"learn_from_ai","postSlug":"cpp-rvo-and-rust-move-semantics","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"Python","slug":"python","path":"/tags/python","postSlugs":[{"postType":"articles","postSlug":"python-dict","postPagePath":"/articles/python-dict"}]},{"tag":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","path":"/tags/æ•°æ®ç»“æ„","postSlugs":[{"postType":"articles","postSlug":"python-dict","postPagePath":"/articles/python-dict"},{"postType":"articles","postSlug":"Sort-algorithm","postPagePath":"/articles/Sort-algorithm"},{"postType":"articles","postSlug":"Handy-heap-cheat-sheet","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"ç®—æ³•","slug":"ç®—æ³•","path":"/tags/ç®—æ³•","postSlugs":[{"postType":"articles","postSlug":"Sort-algorithm","postPagePath":"/articles/Sort-algorithm"},{"postType":"articles","postSlug":"Handy-heap-cheat-sheet","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"æ’åº","slug":"æ’åº","path":"/tags/æ’åº","postSlugs":[{"postType":"articles","postSlug":"Sort-algorithm","postPagePath":"/articles/Sort-algorithm"}]},{"tag":"ç®—æ³•ç«èµ›","slug":"ç®—æ³•ç«èµ›","path":"/tags/ç®—æ³•ç«èµ›","postSlugs":[{"postType":"articles","postSlug":"Handy-heap-cheat-sheet","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","path":"/tags/è®¾è®¡æ¨¡å¼","postSlugs":[{"postType":"articles","postSlug":"The-beauty-of-design-parten","postPagePath":"/articles/The-beauty-of-design-parten"}]},{"tag":"ç¬”è®°","slug":"ç¬”è®°","path":"/tags/ç¬”è®°","postSlugs":[{"postType":"articles","postSlug":"The-beauty-of-design-parten","postPagePath":"/articles/The-beauty-of-design-parten"}]},{"tag":"GitHub","slug":"github","path":"/tags/github","postSlugs":[{"postType":"articles","postSlug":"create-blog-cicd-by-github","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"AWS","slug":"aws","path":"/tags/aws","postSlugs":[{"postType":"articles","postSlug":"create-blog-cicd-by-github","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"CI/CD","slug":"ci-cd","path":"/tags/ci-cd","postSlugs":[{"postType":"articles","postSlug":"create-blog-cicd-by-github","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"IaC","slug":"iac","path":"/tags/iac","postSlugs":[{"postType":"articles","postSlug":"create-blog-cicd-by-github","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"DevOps","slug":"devops","path":"/tags/devops","postSlugs":[{"postType":"articles","postSlug":"create-blog-cicd-by-github","postPagePath":"/articles/create-blog-cicd-by-github"},{"postType":"articles","postSlug":"introduction-for-k8s","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postSlug":"introduction-for-k8s-2","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postSlug":"newest","postPagePath":"/ideas/newest"}]},{"tag":"VSCode","slug":"vscode","path":"/tags/vscode","postSlugs":[{"postType":"articles","postSlug":"use-paste-image-and-vscode-memo","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"Hexo","slug":"hexo","path":"/tags/hexo","postSlugs":[{"postType":"articles","postSlug":"use-paste-image-and-vscode-memo","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"JavaScript","slug":"javascript","path":"/tags/javascript","postSlugs":[{"postType":"articles","postSlug":"use-paste-image-and-vscode-memo","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"Kubernetes","slug":"kubernetes","path":"/tags/kubernetes","postSlugs":[{"postType":"articles","postSlug":"introduction-for-k8s","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postSlug":"introduction-for-k8s-2","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postSlug":"newest","postPagePath":"/ideas/newest"}]},{"tag":"Docker","slug":"docker","path":"/tags/docker","postSlugs":[{"postType":"articles","postSlug":"introduction-for-k8s","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postSlug":"introduction-for-k8s-2","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postSlug":"newest","postPagePath":"/ideas/newest"}]},{"tag":"Cloud Native","slug":"cloud-native","path":"/tags/cloud-native","postSlugs":[{"postType":"articles","postSlug":"introduction-for-k8s","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postSlug":"introduction-for-k8s-2","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postSlug":"newest","postPagePath":"/ideas/newest"}]},{"tag":"Cursor","slug":"cursor","path":"/tags/cursor","postSlugs":[{"postType":"articles","postSlug":"try-cursor-and-thinking","postPagePath":"/articles/try-cursor-and-thinking"}]},{"tag":"å¯è§†åŒ–","slug":"å¯è§†åŒ–","path":"/tags/å¯è§†åŒ–","postSlugs":[{"postType":"ideas","postSlug":"blog ç”»å›¾ Iframe æµ‹è¯•","postPagePath":"/ideas/blog ç”»å›¾ Iframe æµ‹è¯•"}]},{"tag":"æ•°å­¦","slug":"æ•°å­¦","path":"/tags/æ•°å­¦","postSlugs":[{"postType":"ideas","postSlug":"blog ç”»å›¾ Iframe æµ‹è¯•","postPagePath":"/ideas/blog ç”»å›¾ Iframe æµ‹è¯•"}]},{"tag":"å·¥å…·","slug":"å·¥å…·","path":"/tags/å·¥å…·","postSlugs":[{"postType":"ideas","postSlug":"blog ç”»å›¾ Iframe æµ‹è¯•","postPagePath":"/ideas/blog ç”»å›¾ Iframe æµ‹è¯•"}]},{"tag":"Nextjs","slug":"nextjs","path":"/tags/nextjs","postSlugs":[{"postType":"ideas","postSlug":"blog-in-next","postPagePath":"/ideas/blog-in-next"},{"postType":"ideas","postSlug":"blog-syntax","postPagePath":"/ideas/blog-syntax"}]},{"tag":"Linux","slug":"linux","path":"/tags/linux","postSlugs":[{"postType":"ideas","postSlug":"Linux Systemd","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postSlug":"Linux ä¿¡å·å¤„ç† â€”â€” Signal","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” å †å’Œæ ˆ","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å †å’Œæ ˆ"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"},{"postType":"ideas","postSlug":"Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹","postPagePath":"/ideas/Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹"},{"postType":"learn_from_ai","postSlug":"executable-file-formats","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"systemctl","slug":"systemctl","path":"/tags/systemctl","postSlugs":[{"postType":"ideas","postSlug":"Linux Systemd","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"journalctl","slug":"journalctl","path":"/tags/journalctl","postSlugs":[{"postType":"ideas","postSlug":"Linux Systemd","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"timedatectl","slug":"timedatectl","path":"/tags/timedatectl","postSlugs":[{"postType":"ideas","postSlug":"Linux Systemd","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"BasicKnowledge","slug":"basicknowledge","path":"/tags/basicknowledge","postSlugs":[{"postType":"ideas","postSlug":"Linux Systemd","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postSlug":"Linux ä¿¡å·å¤„ç† â€”â€” Signal","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” å †å’Œæ ˆ","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å †å’Œæ ˆ"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"},{"postType":"ideas","postSlug":"Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹","postPagePath":"/ideas/Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹"}]},{"tag":"Operation","slug":"operation","path":"/tags/operation","postSlugs":[{"postType":"ideas","postSlug":"Linux Systemd","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postSlug":"Linux ä¿¡å·å¤„ç† â€”â€” Signal","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"}]},{"tag":"Signal","slug":"signal","path":"/tags/signal","postSlugs":[{"postType":"ideas","postSlug":"Linux ä¿¡å·å¤„ç† â€”â€” Signal","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"}]},{"tag":"memory","slug":"memory","path":"/tags/memory","postSlugs":[{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” å †å’Œæ ˆ","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å †å’Œæ ˆ"},{"postType":"ideas","postSlug":"Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"}]},{"tag":"schedule","slug":"schedule","path":"/tags/schedule","postSlugs":[{"postType":"ideas","postSlug":"Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹","postPagePath":"/ideas/Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹"}]},{"tag":"Cloud Computing","slug":"cloud-computing","path":"/tags/cloud-computing","postSlugs":[{"postType":"ideas","postSlug":"newest","postPagePath":"/ideas/newest"}]},{"tag":"PyTorch","slug":"pytorch","path":"/tags/pytorch","postSlugs":[{"postType":"learn_from_ai","postSlug":"deep-learning-model-formats","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postSlug":"pytorch-backpropagation-mechanism","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"},{"postType":"learn_from_ai","postSlug":"pytorch-model-save-and-load","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"}]},{"tag":"ONNX","slug":"onnx","path":"/tags/onnx","postSlugs":[{"postType":"learn_from_ai","postSlug":"deep-learning-model-formats","postPagePath":"/learn_from_ai/deep-learning-model-formats"}]},{"tag":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","path":"/tags/æ·±åº¦å­¦ä¹ ","postSlugs":[{"postType":"learn_from_ai","postSlug":"deep-learning-model-formats","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postSlug":"lora-matrix-initialization-strategy","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postSlug":"pytorch-backpropagation-mechanism","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"æ¨¡å‹éƒ¨ç½²","slug":"æ¨¡å‹éƒ¨ç½²","path":"/tags/æ¨¡å‹éƒ¨ç½²","postSlugs":[{"postType":"learn_from_ai","postSlug":"deep-learning-model-formats","postPagePath":"/learn_from_ai/deep-learning-model-formats"}]},{"tag":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","path":"/tags/å­¦ä¹ ç¬”è®°","postSlugs":[{"postType":"learn_from_ai","postSlug":"deep-learning-model-formats","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postSlug":"opencv-coordinate-system-conventions","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"},{"postType":"learn_from_ai","postSlug":"executable-file-formats","postPagePath":"/learn_from_ai/executable-file-formats"},{"postType":"learn_from_ai","postSlug":"lora-matrix-initialization-strategy","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postSlug":"pytorch-backpropagation-mechanism","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"OpenCV","slug":"opencv","path":"/tags/opencv","postSlugs":[{"postType":"learn_from_ai","postSlug":"opencv-coordinate-system-conventions","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"}]},{"tag":"å›¾åƒå¤„ç†","slug":"å›¾åƒå¤„ç†","path":"/tags/å›¾åƒå¤„ç†","postSlugs":[{"postType":"learn_from_ai","postSlug":"opencv-coordinate-system-conventions","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"}]},{"tag":"Rust","slug":"rust","path":"/tags/rust","postSlugs":[{"postType":"learn_from_ai","postSlug":"cpp-rvo-and-rust-move-semantics","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","path":"/tags/ç¼–ç¨‹è¯­è¨€","postSlugs":[{"postType":"learn_from_ai","postSlug":"cpp-rvo-and-rust-move-semantics","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"Windows","slug":"windows","path":"/tags/windows","postSlugs":[{"postType":"learn_from_ai","postSlug":"executable-file-formats","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"macOS","slug":"macos","path":"/tags/macos","postSlugs":[{"postType":"learn_from_ai","postSlug":"executable-file-formats","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"å¯æ‰§è¡Œæ–‡ä»¶","slug":"å¯æ‰§è¡Œæ–‡ä»¶","path":"/tags/å¯æ‰§è¡Œæ–‡ä»¶","postSlugs":[{"postType":"learn_from_ai","postSlug":"executable-file-formats","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"LoRA","slug":"lora","path":"/tags/lora","postSlugs":[{"postType":"learn_from_ai","postSlug":"lora-matrix-initialization-strategy","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"}]},{"tag":"å‚æ•°é«˜æ•ˆå¾®è°ƒ","slug":"å‚æ•°é«˜æ•ˆå¾®è°ƒ","path":"/tags/å‚æ•°é«˜æ•ˆå¾®è°ƒ","postSlugs":[{"postType":"learn_from_ai","postSlug":"lora-matrix-initialization-strategy","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"}]},{"tag":"æ¨¡å‹è®­ç»ƒ","slug":"æ¨¡å‹è®­ç»ƒ","path":"/tags/æ¨¡å‹è®­ç»ƒ","postSlugs":[{"postType":"learn_from_ai","postSlug":"lora-matrix-initialization-strategy","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"}]},{"tag":"åå‘ä¼ æ’­","slug":"åå‘ä¼ æ’­","path":"/tags/åå‘ä¼ æ’­","postSlugs":[{"postType":"learn_from_ai","postSlug":"pytorch-backpropagation-mechanism","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"è‡ªåŠ¨å¾®åˆ†","slug":"è‡ªåŠ¨å¾®åˆ†","path":"/tags/è‡ªåŠ¨å¾®åˆ†","postSlugs":[{"postType":"learn_from_ai","postSlug":"pytorch-backpropagation-mechanism","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"GoLang","slug":"golang","path":"/tags/golang","postSlugs":[{"postType":"learn_from_ai","postSlug":"golang-new-and-memory-management","postPagePath":"/learn_from_ai/golang-new-and-memory-management"}]},{"tag":"Memory Management","slug":"memory-management","path":"/tags/memory-management","postSlugs":[{"postType":"learn_from_ai","postSlug":"golang-new-and-memory-management","postPagePath":"/learn_from_ai/golang-new-and-memory-management"}]},{"tag":"Deep Learning","slug":"deep-learning","path":"/tags/deep-learning","postSlugs":[{"postType":"learn_from_ai","postSlug":"pytorch-model-save-and-load","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"},{"postType":"learn_from_ai","postSlug":"resnet-math-and-gradient-vanishing","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"Model Management","slug":"model-management","path":"/tags/model-management","postSlugs":[{"postType":"learn_from_ai","postSlug":"pytorch-model-save-and-load","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"}]},{"tag":"Neural Networks","slug":"neural-networks","path":"/tags/neural-networks","postSlugs":[{"postType":"learn_from_ai","postSlug":"resnet-math-and-gradient-vanishing","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"ResNet","slug":"resnet","path":"/tags/resnet","postSlugs":[{"postType":"learn_from_ai","postSlug":"resnet-math-and-gradient-vanishing","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"Mathematics","slug":"mathematics","path":"/tags/mathematics","postSlugs":[{"postType":"learn_from_ai","postSlug":"resnet-math-and-gradient-vanishing","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]}],"selectedTagInfo":{"tag":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","path":"/tags/å­¦ä¹ ç¬”è®°","postSlugs":[{"postType":"learn_from_ai","postSlug":"deep-learning-model-formats","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postSlug":"opencv-coordinate-system-conventions","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"},{"postType":"learn_from_ai","postSlug":"executable-file-formats","postPagePath":"/learn_from_ai/executable-file-formats"},{"postType":"learn_from_ai","postSlug":"lora-matrix-initialization-strategy","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postSlug":"pytorch-backpropagation-mechanism","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},"posts":[{"pathMapping":{"filePath":"public/content/learn_from_ai/2025-03-06-pytorch-backpropagation-mechanism.md","pagePath":"/learn_from_ai/pytorch-backpropagation-mechanism","slug":"pytorch-backpropagation-mechanism"},"meta":{"content":"\n\u003e æœ¬æ–‡ä¸ºç”¨æˆ·ä¸ DeepSeek çš„é—®ç­”ã€‚ä¸»é¢˜ä¸º PyTorch çš„åå‘ä¼ æ’­æœºåˆ¶ã€‚æœ¬æ–‡ä»æ•°å­¦åŸç†ã€è®¡ç®—å›¾æœºåˆ¶å’Œå®é™…éœ€æ±‚ä¸‰ä¸ªæ–¹é¢æ·±å…¥è§£é‡Šå…¶å·¥ä½œåŸç†ï¼Œå¹¶ç»“åˆ PyTorch çš„è‡ªåŠ¨å¾®åˆ†ï¼ˆAutogradï¼‰ç³»ç»Ÿè¿›è¡Œè¯´æ˜ã€‚\n\n## Q; æ·±å…¥è§£æ PyTorch ä¸­çš„åå‘ä¼ æ’­æœºåˆ¶\n\n\u003e [!query]\n\u003e\n\u003e æ·±å…¥è§£é‡Š torch ä¸­åå‘ä¼ æ’­æœºåˆ¶çš„æ•°å­¦åŸç†ä¸ä¸ºä½•éœ€è¦åå‘ä¼ æ’­æœºåˆ¶ã€‚æç¤ºï¼šä½ å¯ä»¥ä½¿ç”¨å…¬å¼ã€Mermaid å›¾è¡¨ã€è¡¨æ ¼ç­‰æ–¹å¼ä½¿å†…å®¹æ›´å®¹æ˜“ç†è§£ã€‚\n\n\u003e [!reasoning]-\n\u003e\n\u003e å—¯ï¼Œç”¨æˆ·è®©æˆ‘æ·±å…¥è§£é‡Š PyTorch ä¸­çš„åå‘ä¼ æ’­æœºåˆ¶çš„æ•°å­¦åŸç†ä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒã€‚å¥½çš„ï¼Œæˆ‘å¾—å…ˆå›å¿†ä¸€ä¸‹åå‘ä¼ æ’­çš„åŸºç¡€çŸ¥è¯†ï¼Œç„¶åç»“åˆ PyTorch çš„å…·ä½“å®ç°æ¥å±•å¼€ã€‚\n\u003e\n\u003e é¦–å…ˆï¼Œåå‘ä¼ æ’­æ˜¯ç¥ç»ç½‘ç»œè®­ç»ƒçš„æ ¸å¿ƒï¼Œç”¨äºè®¡ç®—æ¢¯åº¦ã€‚ç”¨æˆ·å¯èƒ½å·²ç»äº†è§£æ¢¯åº¦ä¸‹é™ï¼Œä½†éœ€è¦æ›´åº•å±‚çš„æ•°å­¦è§£é‡Šã€‚æˆ‘åº”è¯¥ä»è®¡ç®—å›¾å¼€å§‹ï¼Œå› ä¸º PyTorch ä½¿ç”¨åŠ¨æ€å›¾æœºåˆ¶ã€‚æ¯ä¸ªå¼ é‡çš„è¿ç®—éƒ½ä¼šè®°å½•åœ¨è®¡ç®—å›¾ä¸­ï¼Œè¿™æ ·åœ¨åå‘ä¼ æ’­æ—¶å¯ä»¥è‡ªåŠ¨è®¡ç®—æ¢¯åº¦ã€‚\n\u003e\n\u003e æ•°å­¦åŸç†æ–¹é¢ï¼Œå¾—å…ˆè®²é“¾å¼æ³•åˆ™ã€‚æ¯”å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œy = w*x + bï¼Œç„¶åæŸå¤±å‡½æ•°æ˜¯ L = (y - t)^2ã€‚é‚£ä¹ˆæ±‚ L å¯¹ w çš„æ¢¯åº¦å°±éœ€è¦é“¾å¼æ³•åˆ™ï¼šdL/dw = dL/dy * dy/dwã€‚åå‘ä¼ æ’­çš„è¿‡ç¨‹å°±æ˜¯ä»è¾“å‡ºå±‚å¼€å§‹ï¼Œé€å±‚åº”ç”¨é“¾å¼æ³•åˆ™ï¼Œå°†æ¢¯åº¦ä¼ æ’­å›å„å±‚çš„å‚æ•°ã€‚\n\u003e\n\u003e ç„¶åéœ€è¦è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦åå‘ä¼ æ’­ã€‚æ‰‹åŠ¨è®¡ç®—æ¢¯åº¦åœ¨å¤æ‚ç½‘ç»œä¸­ä¸ç°å®ï¼Œåå‘ä¼ æ’­è‡ªåŠ¨é«˜æ•ˆåœ°è®¡ç®—æ‰€æœ‰å‚æ•°çš„æ¢¯åº¦ï¼ŒèŠ‚çœäº†æ—¶é—´å’Œå‡å°‘é”™è¯¯ã€‚å¯èƒ½è¿˜éœ€è¦æ¯”è¾ƒå‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­çš„è®¡ç®—é‡ï¼Œæ¯”å¦‚åå‘ä¼ æ’­å¦‚ä½•å¤ç”¨å‰å‘çš„ä¸­é—´ç»“æœï¼Œæé«˜æ•ˆç‡ã€‚\n\u003e\n\u003e PyTorch ä¸­çš„ autograd æœºåˆ¶æ˜¯å…³é”®ã€‚æ¯ä¸ª Tensor çš„.grad_fn å±æ€§è®°å½•äº†åˆ›å»ºå®ƒçš„æ“ä½œï¼Œè¿™æ ·åœ¨è°ƒç”¨.backward()æ—¶ï¼Œä¼šæ²¿ç€è¿™äº›å‡½æ•°å½¢æˆçš„è®¡ç®—å›¾åå‘éå†ï¼Œåº”ç”¨é“¾å¼æ³•åˆ™ã€‚éœ€è¦ä¸¾ä¾‹è¯´æ˜ï¼Œæ¯”å¦‚æ„å»ºä¸€ä¸ªç®€å•çš„è®¡ç®—å›¾ï¼Œç„¶åå±•ç¤ºæ¢¯åº¦è®¡ç®—çš„è¿‡ç¨‹ã€‚\n\u003e\n\u003e å¯èƒ½ç”¨æˆ·å¯¹è®¡ç®—å›¾çš„å…·ä½“å®ç°ç»†èŠ‚æ„Ÿå…´è¶£ï¼Œæ¯”å¦‚ PyTorch çš„åŠ¨æ€å›¾ç‰¹æ€§ï¼Œæ¯æ¬¡å‰å‘ä¼ æ’­éƒ½ä¼šæ„å»ºæ–°çš„å›¾ï¼Œè¿™æ ·æ›´çµæ´»ã€‚ä½†æ•°å­¦åŸç†è¿˜æ˜¯é“¾å¼æ³•åˆ™ï¼Œä¸ç®¡å›¾çš„ç»“æ„å¦‚ä½•å˜åŒ–ï¼Œæ¢¯åº¦è®¡ç®—çš„æ–¹æ³•æ˜¯ä¸€è‡´çš„ã€‚\n\u003e\n\u003e å¦å¤–ï¼Œå¯èƒ½éœ€è¦æåˆ°ä¸ºä»€ä¹ˆä¸èƒ½åªç”¨æ•°å€¼æ–¹æ³•æ¥è¿‘ä¼¼æ¢¯åº¦ï¼Œæ¯”å¦‚è®¡ç®—èµ„æºçš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯é«˜ç»´å‚æ•°æ—¶ï¼Œæ•°å€¼æ¢¯åº¦è®¡ç®—é‡å¤ªå¤§ã€‚è€Œåå‘ä¼ æ’­é€šè¿‡è§£ææ³•é«˜æ•ˆè®¡ç®—ï¼Œé€‚åˆæ·±åº¦å­¦ä¹ çš„å¤§è§„æ¨¡å‚æ•°ã€‚\n\u003e\n\u003e è¿˜è¦æ³¨æ„è§£é‡Šå¶å­èŠ‚ç‚¹å’Œä¸­é—´èŠ‚ç‚¹çš„æ¢¯åº¦å­˜å‚¨æƒ…å†µï¼ŒPyTorch é»˜è®¤åªä¿ç•™å¶å­èŠ‚ç‚¹çš„æ¢¯åº¦ï¼Œä¸­é—´èŠ‚ç‚¹çš„æ¢¯åº¦ä¼šè¢«é‡Šæ”¾ä»¥èŠ‚çœå†…å­˜ã€‚è¿™å¯èƒ½åœ¨è®­ç»ƒå¤§æ¨¡å‹æ—¶å¾ˆé‡è¦ï¼Œç”¨æˆ·å¯èƒ½éœ€è¦äº†è§£å¦‚ä½•æ§åˆ¶æ¢¯åº¦çš„ä¿ç•™ã€‚\n\u003e\n\u003e æˆ–è®¸ç”¨æˆ·å¯¹åå‘ä¼ æ’­çš„æ•°å­¦æ¨å¯¼æœ‰æ›´æ·±çš„éœ€æ±‚ï¼Œæ¯”å¦‚å¦‚ä½•æ‰©å±•åˆ°å¤šå±‚ç½‘ç»œï¼Œæˆ–è€…å¦‚ä½•å¤„ç†å¤æ‚çš„å±‚ç»“æ„å¦‚å·ç§¯å±‚ã€å¾ªç¯å±‚ã€‚ä½†æ ¹æ®é—®é¢˜ï¼Œå¯èƒ½åªéœ€è¦åŸºç¡€æ•°å­¦ï¼Œæ¯”å¦‚é“¾å¼æ³•åˆ™çš„å¤šæ¬¡åº”ç”¨ï¼Œä»¥åŠå¦‚ä½•ç´¯ç§¯å„å±‚çš„æ¢¯åº¦ã€‚\n\u003e\n\u003e æœ€åï¼Œæ€»ç»“åå‘ä¼ æ’­çš„å¿…è¦æ€§ï¼šè‡ªåŠ¨åŒ–ã€é«˜æ•ˆã€å‡†ç¡®è®¡ç®—æ¢¯åº¦ï¼Œä½¿å¾—è®­ç»ƒæ·±å±‚ç½‘ç»œå¯è¡Œã€‚è€Œ PyTorch çš„è‡ªåŠ¨å¾®åˆ†æœºåˆ¶è®©ç”¨æˆ·æ— éœ€æ‰‹åŠ¨å®ç°è¿™äº›å¤æ‚çš„è®¡ç®—ï¼Œåªéœ€å…³æ³¨æ¨¡å‹ç»“æ„ã€‚\n\u003e\n\u003e å¯èƒ½éœ€è¦ç”¨å…¬å¼æ¥å±•ç¤ºé“¾å¼æ³•åˆ™çš„åº”ç”¨ï¼Œæ¯”å¦‚å¤šå±‚çš„æ¢¯åº¦ç›¸ä¹˜ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªä¸‰å±‚çš„ç½‘ç»œï¼Œæ¯ä¸€å±‚çš„æƒé‡æ¢¯åº¦å¦‚ä½•è®¡ç®—ã€‚åŒæ—¶ï¼Œç”¨ Mermaid å›¾å±•ç¤ºè®¡ç®—å›¾çš„ç»“æ„ï¼Œè¯´æ˜å‰å‘å’Œåå‘çš„è·¯å¾„ã€‚\n\u003e\n\u003e è¿˜æœ‰å¯èƒ½è¦è€ƒè™‘æ¿€æ´»å‡½æ•°çš„å¯¼æ•°ï¼Œæ¯”å¦‚ ReLU åœ¨åå‘ä¼ æ’­ä¸­çš„å¤„ç†ï¼Œè¿™æ ·åœ¨è®¡ç®—å›¾ä¸­å¦‚ä½•å¤„ç†ä¸å¯å¯¼ç‚¹ï¼Œä½† PyTorch çš„ autograd ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›ã€‚\n\u003e\n\u003e æ€»ä¹‹ï¼Œæˆ‘éœ€è¦ä»æ•°å­¦åŸç†ï¼ˆé“¾å¼æ³•åˆ™ï¼‰ã€è®¡ç®—å›¾çš„æ¦‚å¿µã€PyTorch çš„å®ç°æœºåˆ¶ï¼ˆåŠ¨æ€å›¾ã€autogradï¼‰ã€ä»¥åŠåå‘ä¼ æ’­çš„å¿…è¦æ€§ï¼ˆé«˜æ•ˆã€è‡ªåŠ¨ï¼‰è¿™å‡ ä¸ªæ–¹é¢æ¥ç»„ç»‡å†…å®¹ï¼Œå¹¶ç”¨å…¬å¼å’Œå›¾è¡¨è¾…åŠ©è¯´æ˜ã€‚\n\u003e\n\u003e æœ€åï¼Œæˆ‘éœ€è¦ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œï¼Œæ¥å±•ç¤ºåå‘ä¼ æ’­çš„æ•´ä¸ªè¿‡ç¨‹ï¼ŒåŒ…æ‹¬å‰å‘ä¼ æ’­ã€åå‘ä¼ æ’­ã€æ¢¯åº¦è®¡ç®—å’Œå‚æ•°æ›´æ–°ã€‚è¿™æ ·ç”¨æˆ·å¯ä»¥ç›´è§‚åœ°ç†è§£åå‘ä¼ æ’­çš„æ¯ä¸ªæ­¥éª¤ã€‚\n\u003e\n\u003e å¦‚æœç”¨æˆ·å¯¹ PyTorch çš„ä»£ç å®ç°æ„Ÿå…´è¶£ï¼Œæˆ‘ä¹Ÿå¯ä»¥æä¾›ä¸€äº›å…³é”®ä»£ç æ®µçš„è§£æï¼Œæ¯”å¦‚å¦‚ä½•å®šä¹‰è®¡ç®—å›¾ã€å¦‚ä½•è·Ÿè¸ªæ¢¯åº¦ã€å¦‚ä½•æ‰§è¡Œåå‘ä¼ æ’­ç­‰ã€‚\n\u003e\n\u003e æ€»ä¹‹ï¼Œæˆ‘éœ€è¦ç¡®ä¿è§£é‡Šæ¸…æ™°ï¼Œç»“åˆæ•°å­¦åŸç†å’Œä»£ç ç¤ºä¾‹ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£ PyTorch ä¸­çš„åå‘ä¼ æ’­æœºåˆ¶ã€‚\n\n### æ·±å…¥è§£æ PyTorch ä¸­çš„åå‘ä¼ æ’­æœºåˆ¶\n\nåå‘ä¼ æ’­ï¼ˆBackpropagationï¼‰æ˜¯ç¥ç»ç½‘ç»œè®­ç»ƒçš„æ ¸å¿ƒç®—æ³•ã€‚æœ¬æ–‡å°†ä»æ•°å­¦åŸç†ã€è®¡ç®—å›¾æœºåˆ¶å’Œå®é™…éœ€æ±‚ä¸‰ä¸ªæ–¹é¢æ·±å…¥è§£é‡Šå…¶å·¥ä½œåŸç†ï¼Œå¹¶ç»“åˆ PyTorch çš„è‡ªåŠ¨å¾®åˆ†ï¼ˆAutogradï¼‰ç³»ç»Ÿè¿›è¡Œè¯´æ˜ã€‚\n\n---\n\n#### ä¸€ã€åå‘ä¼ æ’­çš„æ•°å­¦åŸç†\n\n##### 1. é“¾å¼æ³•åˆ™ï¼ˆChain Ruleï¼‰\n\nåå‘ä¼ æ’­æœ¬è´¨ä¸Šæ˜¯é“¾å¼æ³•åˆ™çš„é«˜æ•ˆå®ç°ã€‚å‡è®¾ç¥ç»ç½‘ç»œçš„è®¡ç®—æµç¨‹ä¸ºï¼š\n\n$$\nL = f(g(h(x)))\n$$\n\nå…¶ä¸­ï¼š\n\n- $$ h(x) = W_1x + b_1 $$\n- $$ g(z) = \\text{ReLU}(z) $$\n- $$ f(y) = \\frac{1}{2}(y - t)^2 $$ ï¼ˆå‡æ–¹è¯¯å·®æŸå¤±ï¼‰\n\nåˆ™æ¢¯åº¦è®¡ç®—ä¸ºï¼š\n\n$$\n\\frac{\\partial L}{\\partial W_1} = \\frac{\\partial L}{\\partial f} \\cdot \\frac{\\partial f}{\\partial g} \\cdot \\frac{\\partial g}{\\partial h} \\cdot \\frac{\\partial h}{\\partial W_1}\n$$\n\n##### 2. æ¢¯åº¦ç´¯ç§¯å…¬å¼\n\nå¯¹äºä»»æ„å‚æ•° $$ \\theta $$ï¼Œæ¢¯åº¦è®¡ç®—å¯è¡¨ç¤ºä¸ºï¼š\n\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial \\theta} = \\sum_{\\text{path } \\theta \\to \\mathcal{L}} \\left( \\prod_{i} \\frac{\\partial \\text{op}_i}{\\partial \\text{input}_i} \\right)\n$$\n\n---\n\n#### äºŒã€PyTorch çš„å®ç°æœºåˆ¶\n\n##### 1. åŠ¨æ€è®¡ç®—å›¾ï¼ˆDynamic Computation Graphï¼‰\n\nPyTorch åœ¨å‰å‘ä¼ æ’­æ—¶è‡ªåŠ¨æ„å»ºè®¡ç®—å›¾ï¼ŒèŠ‚ç‚¹ä¸ºå¼ é‡ï¼Œè¾¹ä¸ºè¿ç®—æ“ä½œï¼š\n\n```mermaid\ngraph LR\n  x((x)) --\u003e MatMul --\u003e h((h))\n  W1((W1)) --\u003e MatMul\n  b1((b1)) --\u003e Add --\u003e z((z))\n  h --\u003e Add\n  z --\u003e ReLU --\u003e y((y))\n  y --\u003e MSE --\u003e Loss((Loss))\n```\n\n##### 2. Autograd æ ¸å¿ƒç»„ä»¶\n\n| ç»„ä»¶                   | ä½œç”¨                                     |\n| ---------------------- | ---------------------------------------- |\n| `Tensor.requires_grad` | æ ‡è®°éœ€è¦è·Ÿè¸ªæ¢¯åº¦çš„å¼ é‡                   |\n| `Tensor.grad_fn`       | è®°å½•åˆ›å»ºè¯¥å¼ é‡çš„æ“ä½œï¼ˆå¦‚ `MulBackward`ï¼‰ |\n| `Tensor.grad`          | å­˜å‚¨è®¡ç®—å¾—åˆ°çš„æ¢¯åº¦                       |\n\n##### 3. åå‘ä¼ æ’­è¿‡ç¨‹\n\n```python\nimport torch\n\nx = torch.tensor([2.0], requires_grad=True)\nW = torch.tensor([3.0], requires_grad=True)\ny = W * x\ny.backward()\n\nprint(W.grad)  # è¾“å‡º: tensor([2.])\nprint(x.grad)  # è¾“å‡º: tensor([3.])\n```\n\n---\n\n#### ä¸‰ã€ä¸ºä½•éœ€è¦åå‘ä¼ æ’­ï¼Ÿ\n\n##### 1. æ‰‹åŠ¨è®¡ç®—ä¸å¯è¡Œæ€§\n\nå¯¹äºåŒ…å«ç™¾ä¸‡å‚æ•°çš„ç°ä»£ç¥ç»ç½‘ç»œï¼Œæ‰‹åŠ¨è®¡ç®—æ¢¯åº¦çš„æ—¶é—´å¤æ‚åº¦ä¸º $$ O(n^2) $$ ï¼Œè€Œåå‘ä¼ æ’­åªéœ€ $$ O(n) $$ ã€‚\n\n##### 2. è®¡ç®—æ•ˆç‡å¯¹æ¯”\n\n| æ–¹æ³•                 | æ—¶é—´å¤æ‚åº¦   | ç©ºé—´å¤æ‚åº¦ | æ•°å€¼ç¨³å®šæ€§ |\n| -------------------- | ------------ | ---------- | ---------- |\n| æ•°å€¼å¾®åˆ†             | $$ O(n^2) $$ | $$ O(1) $$ | å·®         |\n| ç¬¦å·å¾®åˆ†             | $$ O(1) $$   | $$ O(n) $$ | å¥½         |\n| è‡ªåŠ¨å¾®åˆ†ï¼ˆåå‘ä¼ æ’­ï¼‰ | $$ O(n) $$   | $$ O(n) $$ | ä¼˜ç§€       |\n\n##### 3. å†…å­˜ä¼˜åŒ–ç­–ç•¥\n\nPyTorch é‡‡ç”¨ä»¥ä¸‹æŠ€æœ¯é™ä½å†…å­˜å ç”¨ï¼š\n\n- **æ¢¯åº¦æ£€æŸ¥ç‚¹**ï¼šåªä¿ç•™å…³é”®èŠ‚ç‚¹çš„ä¸­é—´ç»“æœ\n- **å³æ—¶é‡Šæ”¾ä¸­é—´æ¢¯åº¦**ï¼šé»˜è®¤åªä¿ç•™å¶å­èŠ‚ç‚¹çš„æ¢¯åº¦\n\n---\n\n#### å››ã€åå‘ä¼ æ’­çš„æ•°å­¦æ‰©å±•\n\n##### 1. çŸ©é˜µæ±‚å¯¼ç¤ºä¾‹\n\nå¯¹äºå…¨è¿æ¥å±‚ $$ Y = XW + b $$ ï¼Œæ¢¯åº¦è®¡ç®—ä¸ºï¼š\n\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial W} = X^T \\cdot \\frac{\\partial \\mathcal{L}}{\\partial Y}\n$$\n\n##### 2. å¤æ‚è¿ç®—å¤„ç†\n\n```python\n# PyTorch è‡ªåŠ¨å¤„ç†ä¸å¯å¯¼ç‚¹\nx = torch.tensor([-1.0, 0.0, 2.0], requires_grad=True)\ny = torch.relu(x)\ny.backward(torch.tensor([1.0, 1.0, 1.0]))\nprint(x.grad)  # è¾“å‡º: tensor([0., 0., 1.])\n```\n\n---\n\n#### äº”ã€æ€»ç»“\n\n**åå‘ä¼ æ’­çš„å¿…è¦æ€§**ï¼š\n\n1. **è‡ªåŠ¨å¾®åˆ†**ï¼šé¿å…æ‰‹å·¥æ¨å¯¼å¤æ‚å¯¼æ•°\n2. **è®¡ç®—é«˜æ•ˆ**ï¼šåˆ©ç”¨é“¾å¼æ³•åˆ™çš„åˆ†è§£ç‰¹æ€§\n3. **å†…å­˜ä¼˜åŒ–**ï¼šåŠ¨æ€å›¾çš„å³æ—¶æ„å»ºä¸é”€æ¯\n4. **æ¡†æ¶æ”¯æ’‘**ï¼šæ”¯æŒä»»æ„å¤æ‚ç½‘ç»œç»“æ„\n\nPyTorch é€šè¿‡åŠ¨æ€è®¡ç®—å›¾å’Œ Autograd ç³»ç»Ÿï¼Œå°†åå‘ä¼ æ’­çš„æ•°å­¦åŸç†é«˜æ•ˆå®ç°ï¼Œä½¿å¾—æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒå˜å¾—å¯è¡Œä¸”é«˜æ•ˆã€‚ç†è§£è¿™ä¸€æœºåˆ¶å¯¹äºè°ƒè¯•æ¨¡å‹ã€ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’Œå®ç°è‡ªå®šä¹‰ç®—å­è‡³å…³é‡è¦ã€‚\n\n## Q: å‚æ•°çš„æ¢¯åº¦ç´¯åŠ è®¡ç®—å…¬å¼\n\n\u003e [!query]\n\u003e\n\u003e ä½ æåˆ°å¯¹äºä»»æ„å‚æ•° $$ \\theta $$ï¼Œæ¢¯åº¦è®¡ç®—å¯è¡¨ç¤ºä¸ºï¼š\n\u003e\n\u003e $$\n\u003e \\frac{\\partial \\mathcal{L}}{\\partial \\theta} = \\sum_{\\text{path } \\theta \\to \\mathcal{L}} \\left( \\prod_{i} \\frac{\\partial \\text{op}_i}{\\partial \\text{input}_i} \\right)\n\u003e $$\n\u003e\n\u003e è¿™ä¸ªå…¬å¼æˆ‘æ²¡æ‡‚ï¼Œå†æ·±å…¥è§£é‡Šä¸€ä¸‹ã€‚æˆ‘åªæœ‰æœ¬ç§‘ç¨‹åº¦çš„é«˜ç­‰æ•°å­¦çŸ¥è¯†ä¸çº¿æ€§ä»£æ•°çŸ¥è¯†ï¼Œå»ºè®®ä¸€æ­¥ä¸€æ­¥è§£é‡Šæ¨ç†è¿‡ç¨‹ã€‚\n\n\u003e [!reasoning]-\n\u003e\n\u003e å—¯ï¼Œç”¨æˆ·é—®çš„æ˜¯å…³äºåå‘ä¼ æ’­ä¸­æ¢¯åº¦è®¡ç®—çš„å…¬å¼ï¼Œé‚£ä¸ªå…¬å¼çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œå¯¹å§ï¼Ÿè®©æˆ‘å…ˆä»”ç»†çœ‹çœ‹ç”¨æˆ·çš„é—®é¢˜ã€‚ä»–æåˆ°ï¼Œå¯¹äºä»»æ„å‚æ•° Î¸ï¼Œæ¢¯åº¦è®¡ç®—æ˜¯è·¯å¾„ Î¸ åˆ° L çš„å’Œï¼Œæ¯ä¸ªè·¯å¾„ä¸­çš„å„ä¸ªæ“ä½œçš„å¯¼æ•°ç›¸ä¹˜ã€‚ç”¨æˆ·æœ¬ç§‘æ•°å­¦å’Œçº¿æ€§ä»£æ•°åŸºç¡€ï¼Œå¯èƒ½éœ€è¦æ›´åŸºç¡€çš„è§£é‡Šã€‚\n\u003e\n\u003e é¦–å…ˆï¼Œæˆ‘éœ€è¦ç¡®è®¤ç”¨æˆ·å¯¹è¿™ä¸ªå…¬å¼çš„ç†è§£ç¨‹åº¦ã€‚å…¬å¼é‡Œçš„æ±‚å’Œç¬¦å·å’Œè·¯å¾„å¯èƒ½è®©ä»–å›°æƒ‘ã€‚å¯èƒ½ç”¨æˆ·å¯¹é“¾å¼æ³•åˆ™æœ‰ä¸€å®šçš„äº†è§£ï¼Œä½†è·¯å¾„çš„æ¦‚å¿µä¸å¤ªæ¸…æ¥šã€‚æ¯”å¦‚ï¼Œåœ¨è®¡ç®—å›¾ä¸­ï¼Œå‚æ•° Î¸ åˆ°æŸå¤± L å¯èƒ½æœ‰å¤šä¸ªä¸åŒçš„è·¯å¾„ï¼Œæ¯ä¸ªè·¯å¾„å¯¹åº”ä¸€ä¸ªæ¢¯åº¦è´¡çŒ®ï¼Œæ‰€ä»¥æ¢¯åº¦æ˜¯è¿™äº›è·¯å¾„è´¡çŒ®çš„æ€»å’Œã€‚\n\u003e\n\u003e æ¥ä¸‹æ¥ï¼Œæˆ‘éœ€è¦ç”¨æ›´ç®€å•çš„æ–¹å¼æ¥è§£é‡Šè¿™ä¸ªå…¬å¼ã€‚æˆ–è®¸ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥è¯´æ˜ä¼šæ›´å¥½ã€‚æ¯”å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ªç®€å•çš„è®¡ç®—å›¾ï¼Œå…¶ä¸­ Î¸ åˆ†ä¸¤ä¸ªè·¯å¾„å½±å“ Lï¼Œæ¯ä¸ªè·¯å¾„éƒ½éœ€è¦è®¡ç®—å¯¼æ•°çš„ä¹˜ç§¯ï¼Œç„¶åå°†å®ƒä»¬ç›¸åŠ ã€‚\n\u003e\n\u003e ç„¶åï¼Œæˆ‘åº”è¯¥åˆ†æ­¥éª¤è§£é‡Šé“¾å¼æ³•åˆ™ï¼Œä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å°†ä¸åŒè·¯å¾„çš„æ¢¯åº¦ç›¸åŠ ã€‚å¯èƒ½éœ€è¦ç”¨å›¾ç¤ºæ¥è¾…åŠ©ï¼Œæ¯”å¦‚ç”»ä¸€ä¸ªç®€å•çš„è®¡ç®—å›¾ï¼Œå±•ç¤ºå¤šä¸ªåˆ†æ”¯çš„æƒ…å†µï¼Œæ¯ä¸ªåˆ†æ”¯å¯¹åº”ä¸€ä¸ªä¹˜ç§¯é¡¹ï¼Œæœ€åç›¸åŠ å¾—åˆ°æ€»çš„æ¢¯åº¦ã€‚\n\u003e\n\u003e å¦å¤–ï¼Œç”¨æˆ·å¯èƒ½å¯¹â€œè·¯å¾„â€è¿™ä¸ªè¯ä¸å¤ªç†è§£ï¼Œéœ€è¦æ˜ç¡®åœ¨è®¡ç®—å›¾ä¸­çš„è·¯å¾„æŒ‡çš„æ˜¯ä»€ä¹ˆã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå‚æ•°å¯èƒ½åœ¨å¤šä¸ªå±‚ä¸­ä½¿ç”¨ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªä¸åŒçš„è·¯å¾„åˆ°æŸå¤±å‡½æ•°ï¼Œå› æ­¤æ¯ä¸ªè·¯å¾„çš„æ¢¯åº¦éƒ½éœ€è¦è¢«è®¡ç®—å¹¶ç´¯åŠ ã€‚\n\u003e\n\u003e è¿˜è¦æ³¨æ„ï¼Œç”¨æˆ·å¯èƒ½å¯¹ä¹˜ç§¯çš„éƒ¨åˆ†æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆæ˜¯å„ä¸ªæ“ä½œçš„å¯¼æ•°ç›¸ä¹˜ã€‚è¿™æ—¶å€™éœ€è¦å›é¡¾é“¾å¼æ³•åˆ™çš„åŸºæœ¬åŸç†ï¼Œå³å¤åˆå‡½æ•°æ±‚å¯¼æ—¶ï¼Œå¤–å±‚å‡½æ•°çš„å¯¼æ•°å’Œå†…å±‚å‡½æ•°çš„å¯¼æ•°ç›¸ä¹˜ï¼Œè€Œå¦‚æœæœ‰å¤šä¸ªä¸­é—´æ­¥éª¤ï¼Œå°±éœ€è¦è¿ä¹˜è¿™äº›å¯¼æ•°ã€‚\n\u003e\n\u003e å¯èƒ½è¿˜éœ€è¦è§£é‡Šä¸ºä»€ä¹ˆä¼šæœ‰å¤šä¸ªè·¯å¾„ï¼Œä¾‹å¦‚åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œä¸€ä¸ªå‚æ•°å¯èƒ½åœ¨å¤šä¸ªç¥ç»å…ƒä¸­è¢«ä½¿ç”¨ï¼Œæˆ–è€…åœ¨ä¸åŒçš„æ—¶é—´æ­¥ï¼ˆå¦‚ RNN ä¸­ï¼‰ï¼Œå¯¼è‡´æ¢¯åº¦éœ€è¦ä»å„ä¸ªè·¯å¾„åå‘ä¼ æ’­å›æ¥ï¼Œç„¶åç´¯åŠ èµ·æ¥ã€‚\n\u003e\n\u003e æœ€åï¼Œé€šè¿‡ä¸€ä¸ªå…·ä½“çš„æ•°å­¦ä¾‹å­ï¼Œé€æ­¥è®¡ç®—æ¯ä¸ªæ­¥éª¤çš„å¯¼æ•°ï¼Œå¹¶å°†å®ƒä»¬ç›¸ä¹˜ï¼Œæœ€åç›¸åŠ ï¼Œæ¥éªŒè¯è¿™ä¸ªå…¬å¼çš„æ­£ç¡®æ€§ã€‚è¿™æ ·ç”¨æˆ·å¯ä»¥é€šè¿‡å®é™…çš„è®¡ç®—è¿‡ç¨‹ç†è§£æŠ½è±¡çš„å…¬å¼ã€‚\n\u003e\n\u003e æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘éœ€è¦ç”¨å…·ä½“çš„ä¾‹å­ã€å›¾ç¤ºï¼Œåˆ†æ­¥éª¤è§£é‡Šé“¾å¼æ³•åˆ™åœ¨è®¡ç®—å›¾ä¸­çš„å¤šä¸ªè·¯å¾„ä¸­çš„åº”ç”¨ï¼Œä»¥åŠæ¢¯åº¦ç´¯åŠ çš„åŸå› ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£è¿™ä¸ªå…¬å¼çš„å«ä¹‰å’Œæ¨å¯¼è¿‡ç¨‹ã€‚\n\nå¥½çš„ï¼æˆ‘å°†ç”¨æœ€ç›´è§‚çš„æ–¹å¼ï¼Œé€šè¿‡ä¸€ä¸ªå…·ä½“ä¾‹å­é€æ­¥è§£é‡Šè¿™ä¸ªå…¬å¼çš„æ•°å­¦åŸç†ã€‚æˆ‘ä»¬ç»“åˆå›¾ç¤ºå’Œåˆ†æ­¥æ¨å¯¼æ¥ç†è§£é“¾å¼æ³•åˆ™åœ¨åå‘ä¼ æ’­ä¸­çš„åº”ç”¨ã€‚\n\n---\n\n### **ä¸€ã€é—®é¢˜åœºæ™¯è®¾å®š**\n\nå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„è®¡ç®—å›¾ï¼Œå…¶ä¸­å‚æ•° $$\\theta$$ é€šè¿‡ä¸¤æ¡è·¯å¾„å½±å“æœ€ç»ˆæŸå¤± $$L$$ ï¼š\n\n```mermaid\ngraph LR\n    Î¸((Î¸)) --\u003e Op1 --\u003e A\n    Î¸ --\u003e Op2 --\u003e B\n    A --\u003e Op3 --\u003e L\n    B --\u003e Op3 --\u003e L\n```\n\n- **è·¯å¾„ 1**ï¼š$$\\theta \\xrightarrow{\\text{Op1}} A \\xrightarrow{\\text{Op3}} L$$\n- **è·¯å¾„ 2**ï¼š$$\\theta \\xrightarrow{\\text{Op2}} B \\xrightarrow{\\text{Op3}} L$$\n\nç›®æ ‡æ˜¯è®¡ç®— $$\\frac{\\partial L}{\\partial \\theta}$$ã€‚\n\n---\n\n### **äºŒã€åˆ†æ­¥æ¨å¯¼**\n\n#### **æ­¥éª¤ 1ï¼šå‰å‘ä¼ æ’­è¡¨è¾¾å¼**\n\nå‡è®¾å…·ä½“æ“ä½œä¸ºï¼š\n\n- $$A = \\theta^2$$ ï¼ˆOp1ï¼šå¹³æ–¹æ“ä½œï¼‰\n- $$B = 2\\theta$$ ï¼ˆOp2ï¼šçº¿æ€§æ“ä½œï¼‰\n- $$L = A + B$$ ï¼ˆOp3ï¼šåŠ æ³•æ“ä½œï¼‰\n\nåˆ™æœ€ç»ˆæŸå¤±ä¸ºï¼š\n\n$$\nL = \\theta^2 + 2\\theta\n$$\n\n#### **æ­¥éª¤ 2ï¼šç›´æ¥æ±‚å¯¼ï¼ˆå¯¹æ¯”éªŒè¯ï¼‰**\n\nç›´æ¥å¯¹ $$L$$ æ±‚å¯¼ï¼š\n\n$$\n\\frac{\\partial L}{\\partial \\theta} = 2\\theta + 2\n$$\n\n---\n\n#### **æ­¥éª¤ 3ï¼šåå‘ä¼ æ’­è§†è§’**\n\næ ¹æ®è®¡ç®—å›¾ï¼Œæ¢¯åº¦éœ€è¦æ²¿ç€ä¸¤æ¡è·¯å¾„åå‘ä¼ æ’­ï¼š\n\n##### **è·¯å¾„ 1 çš„æ¢¯åº¦è®¡ç®—ï¼ˆÎ¸ â†’ A â†’ Lï¼‰**\n\n1. $$A = \\theta^2 \\quad \\Rightarrow \\quad \\frac{\\partial A}{\\partial \\theta} = 2\\theta$$\n2. $$L = A + B \\quad \\Rightarrow \\quad \\frac{\\partial L}{\\partial A} = 1$$\n3. è·¯å¾„ 1 çš„æ¢¯åº¦è´¡çŒ®ï¼š\n   $$\n   \\frac{\\partial L}{\\partial \\theta} \\bigg|_{\\text{è·¯å¾„1}} = \\frac{\\partial L}{\\partial A} \\cdot \\frac{\\partial A}{\\partial \\theta} = 1 \\cdot 2\\theta = 2\\theta\n   $$\n\n##### **è·¯å¾„ 2 çš„æ¢¯åº¦è®¡ç®—ï¼ˆÎ¸ â†’ B â†’ Lï¼‰**\n\n1. $$B = 2\\theta \\quad \\Rightarrow \\quad \\frac{\\partial B}{\\partial \\theta} = 2$$\n2. $$L = A + B \\quad \\Rightarrow \\quad \\frac{\\partial L}{\\partial B} = 1$$\n3. è·¯å¾„ 2 çš„æ¢¯åº¦è´¡çŒ®ï¼š\n   $$\n   \\frac{\\partial L}{\\partial \\theta} \\bigg|_{\\text{è·¯å¾„2}} = \\frac{\\partial L}{\\partial B} \\cdot \\frac{\\partial B}{\\partial \\theta} = 1 \\cdot 2 = 2\n   $$\n\n##### **æ€»æ¢¯åº¦ = è·¯å¾„ 1 + è·¯å¾„ 2**\n\n$$\n\\frac{\\partial L}{\\partial \\theta} = 2\\theta + 2\n$$\n\n---\n\n### **ä¸‰ã€é€šç”¨å…¬å¼è§£æ**\n\nåŸå…¬å¼ï¼š\n\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial \\theta} = \\sum_{\\text{path } \\theta \\to \\mathcal{L}} \\left( \\prod_{i} \\frac{\\partial \\text{op}_i}{\\partial \\text{input}_i} \\right)\n$$\n\n#### **1. ç¬¦å·è§£é‡Š**\n\n- **è·¯å¾„ï¼ˆPathï¼‰**ï¼šå‚æ•° $$\\theta$$ åˆ°æŸå¤± $$\\mathcal{L}$$ çš„æ‰€æœ‰å¯èƒ½æ•°æ®æµåŠ¨è·¯å¾„ã€‚\n- **ä¹˜ç§¯é¡¹ $$\\prod$$**ï¼šæ²¿æŸæ¡è·¯å¾„çš„æ‰€æœ‰æ“ä½œï¼ˆopï¼‰çš„å¯¼æ•°è¿ä¹˜ï¼ˆé“¾å¼æ³•åˆ™ï¼‰ã€‚\n- **æ±‚å’Œé¡¹ $$\\sum$$**ï¼šå°†æ‰€æœ‰è·¯å¾„çš„æ¢¯åº¦è´¡çŒ®ç›¸åŠ ï¼ˆå¤šè·¯å¾„æ—¶æ¢¯åº¦ç´¯åŠ ï¼‰ã€‚\n\n#### **2. å…³é”®æ€§è´¨**\n\n- **é“¾å¼æ³•åˆ™**ï¼šå¤åˆå‡½æ•°çš„å¯¼æ•° = å¤–å±‚å¯¼æ•° Ã— å†…å±‚å¯¼æ•°ã€‚\n- **å¤šè·¯å¾„å åŠ **ï¼šå¦‚æœå‚æ•°å½±å“è¾“å‡ºçš„å¤šä¸ªåˆ†æ”¯ï¼Œæ¢¯åº¦æ˜¯å„åˆ†æ”¯è´¡çŒ®çš„æ€»å’Œã€‚\n\n---\n\n### **å››ã€å¤æ‚æ¡ˆä¾‹éªŒè¯**\n\nè€ƒè™‘ä¸€ä¸ªæ›´å¤æ‚çš„è®¡ç®—å›¾ï¼š\n\n```mermaid\ngraph LR\n    Î¸((Î¸)) --\u003e Op1 --\u003e C\n    Î¸ --\u003e Op2 --\u003e D\n    C --\u003e Op3 --\u003e E\n    D --\u003e Op4 --\u003e E\n    E --\u003e Op5 --\u003e L\n```\n\n#### **å‰å‘ä¼ æ’­è¡¨è¾¾å¼**\n\n- $$C = \\theta^3$$ï¼ˆOp1ï¼‰\n- $$D = \\sin(\\theta)$$ï¼ˆOp2ï¼‰\n- $$E = C \\cdot D$$ï¼ˆOp3ï¼‰\n- $$L = \\ln(E)$$ï¼ˆOp4ï¼‰\n\n#### **åå‘ä¼ æ’­è®¡ç®—**\n\n##### **è·¯å¾„ 1ï¼šÎ¸ â†’ C â†’ E â†’ L**\n\n$$\n\\frac{\\partial L}{\\partial \\theta} \\bigg|_{\\text{è·¯å¾„1}} = \\frac{\\partial L}{\\partial E} \\cdot \\frac{\\partial E}{\\partial C} \\cdot \\frac{\\partial C}{\\partial \\theta} = \\frac{1}{E} \\cdot D \\cdot 3\\theta^2\n$$\n\n##### **è·¯å¾„ 2ï¼šÎ¸ â†’ D â†’ E â†’ L**\n\n$$\n\\frac{\\partial L}{\\partial \\theta} \\bigg|_{\\text{è·¯å¾„2}} = \\frac{\\partial L}{\\partial E} \\cdot \\frac{\\partial E}{\\partial D} \\cdot \\frac{\\partial D}{\\partial \\theta} = \\frac{1}{E} \\cdot C \\cdot \\cos(\\theta)\n$$\n\n##### **æ€»æ¢¯åº¦**\n\n$$\n\\frac{\\partial L}{\\partial \\theta} = \\frac{D \\cdot 3\\theta^2 + C \\cdot \\cos(\\theta)}{E}\n$$\n\n---\n\n### **äº”ã€åå‘ä¼ æ’­çš„æœ¬è´¨**\n\n1. **è‡ªåŠ¨åŒ–çš„é“¾å¼æ³•åˆ™**ï¼šæ¡†æ¶é€šè¿‡è®¡ç®—å›¾è‡ªåŠ¨è¿½è¸ªæ“ä½œè·¯å¾„ã€‚\n2. **æ¢¯åº¦ç´¯åŠ è§„åˆ™**ï¼šå½“ä¸€ä¸ªå‚æ•°å½±å“å¤šä¸ªåˆ†æ”¯æ—¶ï¼Œæ¢¯åº¦æ˜¯æ‰€æœ‰è·¯å¾„è´¡çŒ®çš„æ€»å’Œã€‚\n3. **è®¡ç®—æ•ˆç‡**ï¼šé¿å…é‡å¤è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ç½‘ç»œæ·±åº¦æˆçº¿æ€§å…³ç³»ï¼ˆ$$O(n)$$ï¼‰ã€‚\n\n---\n\n### **å…­ã€æ€»ç»“**\n\n- **ä¸ºä»€ä¹ˆéœ€è¦æ±‚å’Œï¼ˆ$$\\sum$$ï¼‰**ï¼šå› ä¸ºå‚æ•°å¯èƒ½é€šè¿‡å¤šä¸ªè·¯å¾„å½±å“æŸå¤±ï¼Œæ¯ä¸ªè·¯å¾„è´¡çŒ®ä¸€éƒ¨åˆ†æ¢¯åº¦ã€‚\n- **ä¸ºä»€ä¹ˆéœ€è¦è¿ä¹˜ï¼ˆ$$\\prod$$ï¼‰**ï¼šé“¾å¼æ³•åˆ™è¦æ±‚å°†è·¯å¾„ä¸Šçš„æ‰€æœ‰å±€éƒ¨å¯¼æ•°ç›¸ä¹˜ã€‚\n- **åå‘ä¼ æ’­çš„ä¼˜åŠ¿**ï¼šå°†å¤æ‚çš„å…¨å±€æ±‚å¯¼åˆ†è§£ä¸ºå±€éƒ¨å¯¼æ•°çš„è¿ä¹˜ä¸è·¯å¾„æ±‚å’Œï¼Œå¤§å¹…é™ä½è®¡ç®—å¤æ‚åº¦ã€‚\n\né€šè¿‡è¿™ç§åˆ†è·¯å¾„è®¡ç®—å†ç´¯åŠ çš„æ–¹å¼ï¼Œåå‘ä¼ æ’­å·§å¦™åœ°åˆ©ç”¨è®¡ç®—å›¾çš„ç»“æ„ä¿¡æ¯ï¼Œå®ç°äº†é«˜æ•ˆçš„æ¢¯åº¦è®¡ç®—ã€‚\n\n## Q: ä» PyTorch ä»£ç å±‚é¢æ·±å…¥è§£é‡Šä¸€ä¸‹ PyTorch çš„åå‘ä¼ æ’­å¦‚ä½•å®ç°\n\n\u003e [!query]\n\u003e\n\u003e ä» PyTorch ä»£ç å±‚é¢æ·±å…¥è§£é‡Šä¸€ä¸‹ PyTorch çš„åå‘ä¼ æ’­å¦‚ä½•å®ç°\n\n\u003e [!reasoning]-\n\u003e\n\u003e å—¯ï¼Œç”¨æˆ·ä¹‹å‰å·²ç»äº†è§£äº†åå‘ä¼ æ’­çš„æ•°å­¦åŸç†å’Œä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Œç°åœ¨ä»–ä»¬æƒ³ä» PyTorch ä»£ç å±‚é¢æ·±å…¥ç†è§£åå‘ä¼ æ’­çš„å®ç°ã€‚ç”¨æˆ·å¯èƒ½æœ‰ä¸€å®šçš„ç¼–ç¨‹åŸºç¡€ï¼Œä½†å¯èƒ½å¯¹ PyTorch çš„å†…éƒ¨æœºåˆ¶ä¸å¤ªç†Ÿæ‚‰ã€‚æˆ‘éœ€è¦ç¡®ä¿è§£é‡Šæ¸…æ™°ï¼Œç»“åˆä»£ç ç¤ºä¾‹ï¼ŒåŒæ—¶é¿å…è¿‡äºå¤æ‚çš„æœ¯è¯­ã€‚\n\u003e\n\u003e é¦–å…ˆï¼Œç”¨æˆ·æåˆ°äº†ä¹‹å‰çš„å…¬å¼ï¼Œå…³äºæ¢¯åº¦çš„è·¯å¾„æ±‚å’Œï¼Œç°åœ¨éœ€è¦å°†è¿™ä¸€æ•°å­¦æ¦‚å¿µä¸ PyTorch çš„å…·ä½“å®ç°è”ç³»èµ·æ¥ã€‚ä»–ä»¬å¯èƒ½æƒ³çŸ¥é“ PyTorch æ˜¯å¦‚ä½•åŠ¨æ€æ„å»ºè®¡ç®—å›¾çš„ï¼Œå¦‚ä½•è·Ÿè¸ªæ¢¯åº¦ï¼Œä»¥åŠ backward()æ–¹æ³•å…·ä½“åšäº†ä»€ä¹ˆã€‚\n\u003e\n\u003e æ¥ä¸‹æ¥ï¼Œæˆ‘åº”è¯¥åˆ†æ­¥éª¤è§£é‡Š PyTorch çš„å…³é”®ç»„ä»¶ï¼Œæ¯”å¦‚ Tensor çš„ requires_grad å±æ€§ã€grad_fnã€grad å±æ€§ï¼Œä»¥åŠåŠ¨æ€è®¡ç®—å›¾çš„æ„å»ºè¿‡ç¨‹ã€‚éœ€è¦ä¸¾ä¾‹è¯´æ˜ï¼Œæ¯”å¦‚ä¸€ä¸ªç®€å•çš„è®¡ç®—å›¾ï¼Œå¹¶å±•ç¤ºæ¢¯åº¦æ˜¯å¦‚ä½•ç´¯ç§¯çš„ã€‚åŒæ—¶ï¼Œç”¨æˆ·å¯èƒ½å¯¹æ¢¯åº¦ç´¯ç§¯å’Œå†…å­˜ç®¡ç†æ„Ÿå…´è¶£ï¼Œæ¯”å¦‚ PyTorch å¦‚ä½•é‡Šæ”¾ä¸­é—´å˜é‡ï¼Œå¦‚ä½•é€šè¿‡ retain_grad()æ¥ä¿ç•™æ¢¯åº¦ã€‚\n\u003e\n\u003e å¦å¤–ï¼Œç”¨æˆ·å¯èƒ½å¯¹å¤šè·¯å¾„æ¢¯åº¦ç´¯åŠ çš„æƒ…å†µæœ‰ç–‘é—®ï¼Œæ¯”å¦‚å½“å¤šä¸ªæ“ä½œå½±å“åŒä¸€ä¸ªå‚æ•°æ—¶ï¼Œæ¢¯åº¦æ˜¯å¦‚ä½•ç›¸åŠ çš„ã€‚è¿™æ—¶å€™éœ€è¦ä¸¾ä¾‹è¯´æ˜ï¼Œæ¯”å¦‚ä¸€ä¸ªå‚æ•°é€šè¿‡ä¸¤æ¡è·¯å¾„å½±å“æŸå¤±å‡½æ•°ï¼ŒPyTorch å¦‚ä½•å¤„ç†è¿™ç§æƒ…å†µã€‚\n\u003e\n\u003e è¿˜éœ€è¦æåˆ° Autograd å¼•æ“çš„å·¥ä½œåŸç†ï¼Œæ¯”å¦‚å¦‚ä½•éå†è®¡ç®—å›¾ï¼Œæ‰§è¡Œåå‘ä¼ æ’­ï¼Œä»¥åŠå¦‚ä½•ä¼˜åŒ–è®¡ç®—æ•ˆç‡ã€‚å¯èƒ½è¿˜éœ€è¦è®¨è®ºä¸€äº›é«˜çº§è¯é¢˜ï¼Œæ¯”å¦‚ detach()çš„ä½œç”¨ï¼Œæˆ–è€…å¦‚ä½•è‡ªå®šä¹‰åå‘ä¼ æ’­å‡½æ•°ï¼Œä½†æ ¹æ®ç”¨æˆ·çš„çŸ¥è¯†æ°´å¹³ï¼Œå¯èƒ½éœ€è¦ä¿æŒåŸºç¡€ã€‚\n\u003e\n\u003e ç”¨æˆ·å¯èƒ½å­˜åœ¨çš„è¯¯åŒºæ˜¯è®¤ä¸º PyTorch ä¼šä¿å­˜æ‰€æœ‰ä¸­é—´å˜é‡çš„æ¢¯åº¦ï¼Œä½†å®é™…ä¸Šé»˜è®¤åªä¿ç•™å¶å­èŠ‚ç‚¹çš„æ¢¯åº¦ã€‚è¿™éœ€è¦ç‰¹åˆ«è¯´æ˜ï¼Œå¹¶è§£é‡Šå¦‚ä½•é€šè¿‡ retain_grad()æ¥æŸ¥çœ‹ä¸­é—´èŠ‚ç‚¹çš„æ¢¯åº¦ã€‚\n\u003e\n\u003e æœ€åï¼Œåº”è¯¥æ€»ç»“ PyTorch åå‘ä¼ æ’­çš„å…³é”®ç‚¹ï¼Œå¼ºè°ƒå…¶åŠ¨æ€è®¡ç®—å›¾çš„ä¼˜åŠ¿ï¼Œä»¥åŠå¦‚ä½•é«˜æ•ˆç®¡ç†å†…å­˜å’Œè®¡ç®—èµ„æºã€‚ç¡®ä¿ç”¨æˆ·ç†è§£ä¸ºä»€ä¹ˆ PyTorch é€‚åˆåŠ¨æ€å›¾æ¨¡å‹ï¼Œä»¥åŠåœ¨å®é™…è°ƒè¯•ä¸­å¦‚ä½•åˆ©ç”¨è¿™äº›æœºåˆ¶ã€‚\n\nä»¥ä¸‹æ˜¯å…³äº PyTorch åå‘ä¼ æ’­å®ç°æœºåˆ¶çš„ä»£ç çº§æ·±å…¥è§£æï¼Œç»“åˆå…³é”®ä»£ç æ®µå’Œåº•å±‚åŸç†è¯´æ˜ï¼š\n\n---\n\n### **ä¸€ã€PyTorch åå‘ä¼ æ’­çš„ä¸‰å¤§æ ¸å¿ƒç»„ä»¶**\n\n#### **1. Tensor çš„æ¢¯åº¦è¿½è¸ªæœºåˆ¶**\n\n```python\nimport torch\n\n# åˆ›å»ºéœ€è¦æ¢¯åº¦è¿½è¸ªçš„å¼ é‡\nx = torch.tensor([2.0], requires_grad=True)  # å¶å­èŠ‚ç‚¹\nW = torch.tensor([3.0], requires_grad=True)  # å¶å­èŠ‚ç‚¹\n\n# æ‰§è¡Œè®¡ç®—ï¼ˆè‡ªåŠ¨è®°å½•æ“ä½œï¼‰\ny = W * x           # grad_fn=\u003cMulBackward0\u003e\nz = y + 1           # grad_fn=\u003cAddBackward0\u003e\nloss = z.mean()      # grad_fn=\u003cMeanBackward0\u003e\n\nprint(loss.grad_fn)  # è¾“å‡º: \u003cMeanBackward0 object\u003e\n```\n\n- **`requires_grad=True`**ï¼šæ ‡è®°éœ€è¦è¿½è¸ªæ¢¯åº¦çš„å¼ é‡ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰\n- **`grad_fn`**ï¼šè®°å½•åˆ›å»ºè¯¥å¼ é‡çš„æ“ä½œï¼ˆåå‘ä¼ æ’­æ—¶çŸ¥é“å¦‚ä½•è®¡ç®—æ¢¯åº¦ï¼‰\n\n#### **2. è®¡ç®—å›¾çš„åŠ¨æ€æ„å»º**\n\nPyTorch çš„è®¡ç®—å›¾æ˜¯**åŠ¨æ€æ„å»ºçš„**ï¼Œæ¯æ¬¡å‰å‘ä¼ æ’­éƒ½ä¼šæ–°å»ºä¸€ä¸ªå›¾ï¼š\n\n```python\n# ç¤ºä¾‹ï¼šåŠ¨æ€å›¾ç‰¹æ€§\ndef forward(x):\n    if x.sum() \u003e 0:\n        return x * 2\n    else:\n        return x * (-1)\n\nx = torch.tensor([3.0], requires_grad=True)\nout = forward(x)  # æ ¹æ®è¾“å…¥å€¼åŠ¨æ€åˆ›å»ºä¸åŒçš„è®¡ç®—å›¾\nout.backward()    # è‡ªåŠ¨é€‚åº”ä¸åŒçš„åˆ†æ”¯è·¯å¾„\n```\n\n#### **3. åå‘ä¼ æ’­å¼•æ“ï¼ˆAutograd Engineï¼‰**\n\nå½“è°ƒç”¨ `.backward()` æ—¶ï¼ŒPyTorch ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\n\n```python\nloss.backward()  # è§¦å‘åå‘ä¼ æ’­\n```\n\n- **åå‘éå†è®¡ç®—å›¾**ï¼šä» `loss` çš„ `grad_fn` å¼€å§‹ï¼Œæ²¿ç€ `next_functions` é€’å½’\n- **è®¡ç®—å±€éƒ¨æ¢¯åº¦**ï¼šåœ¨æ¯ä¸ªæ“ä½œèŠ‚ç‚¹è°ƒç”¨å·²æ³¨å†Œçš„ `backward()` æ–¹æ³•\n- **æ¢¯åº¦ç´¯åŠ **ï¼šå°†è®¡ç®—ç»“æœç´¯ç§¯åˆ°å¯¹åº”å¼ é‡çš„ `.grad` å±æ€§ä¸­\n\n---\n\n### **äºŒã€ä»£ç çº§åå‘ä¼ æ’­æµç¨‹åˆ†è§£**\n\n#### **æ­¥éª¤ 1ï¼šå‰å‘ä¼ æ’­æ„å»ºè®¡ç®—å›¾**\n\n```python\na = torch.tensor(2.0, requires_grad=True)\nb = torch.tensor(3.0, requires_grad=True)\nc = a * b      # grad_fn=\u003cMulBackward0\u003e\nd = c + 1      # grad_fn=\u003cAddBackward0\u003e\nloss = d**2    # grad_fn=\u003cPowBackward0\u003e\n```\n\næ­¤æ—¶çš„è®¡ç®—å›¾ç»“æ„ï¼š\n\n```mermaid\ngraph LR\n  a --\u003e Mul --\u003e c\n  b --\u003e Mul\n  c --\u003e Add --\u003e d\n  d --\u003e Pow --\u003e loss\n```\n\n#### **æ­¥éª¤ 2ï¼šæ‰§è¡Œåå‘ä¼ æ’­**\n\n```python\nloss.backward()  # è§¦å‘åå‘ä¼ æ’­\n```\n\n##### **åº•å±‚æ“ä½œåˆ†è§£**ï¼š\n\n1. **åˆå§‹åŒ–æ¢¯åº¦**ï¼šè®¾ç½® `loss.grad = 1.0`ï¼ˆæ ‡é‡æŸå¤±çš„é»˜è®¤æ¢¯åº¦ï¼‰\n2. **åå‘ä¼ æ’­åˆ° d**ï¼š\n   - è°ƒç”¨ `PowBackward0` çš„ `backward()` æ–¹æ³•ï¼š\n     ```python\n     d_grad = 2 * d  # å¯¼æ•°å…¬å¼ï¼šd(loss)/d(d) = 2d\n     ```\n3. **åå‘ä¼ æ’­åˆ° c**ï¼š\n   - è°ƒç”¨ `AddBackward0` çš„ `backward()` æ–¹æ³•ï¼š\n     ```python\n     c_grad = d_grad * 1  # åŠ æ³•æ“ä½œçš„å¯¼æ•°ä¸º1\n     ```\n4. **åå‘ä¼ æ’­åˆ° a å’Œ b**ï¼š\n   - è°ƒç”¨ `MulBackward0` çš„ `backward()` æ–¹æ³•ï¼š\n     ```python\n     a_grad = c_grad * b  # å¯¼æ•°å…¬å¼ï¼šd(c)/d(a) = b\n     b_grad = c_grad * a  # å¯¼æ•°å…¬å¼ï¼šd(c)/d(b) = a\n     ```\n5. **æ¢¯åº¦ç´¯åŠ **ï¼š\n   ```python\n   a.grad += a_grad  # å®é™…ä¸º in-place æ“ä½œ\n   b.grad += b_grad\n   ```\n\n#### **æ­¥éª¤ 3ï¼šæŸ¥çœ‹ç»“æœ**\n\n```python\nprint(a.grad)  # è¾“å‡º: 2*d* b = 2*(2*3+1)*3 = 42\nprint(b.grad)  # è¾“å‡º: 2*d* a = 2*(2*3+1)*2 = 28\n```\n\n---\n\n### **ä¸‰ã€PyTorch åå‘ä¼ æ’­çš„å…³é”®å®ç°ç»†èŠ‚**\n\n#### **1. æ¢¯åº¦è®¡ç®—è§„åˆ™æ³¨å†Œ**\n\næ¯ä¸ª `torch` æ“ä½œéƒ½æœ‰é¢„å®šä¹‰çš„æ¢¯åº¦è®¡ç®—è§„åˆ™ï¼š\n\n```python\n# ç¤ºä¾‹ï¼šè‡ªå®šä¹‰æ“ä½œçš„æ¢¯åº¦è§„åˆ™\nclass MyAdd(torch.autograd.Function):\n    @staticmethod\n    def forward(ctx, x, y):\n        ctx.save_for_backward(x, y)  # ä¿å­˜å‰å‘ä¼ æ’­çš„è¾“å…¥\n        return x + y\n\n    @staticmethod\n    def backward(ctx, grad_output):\n        x, y = ctx.saved_tensors\n        return grad_output * 1, grad_output * 1  # åŠ æ³•æ“ä½œçš„å¯¼æ•°\n\n# ä½¿ç”¨è‡ªå®šä¹‰æ“ä½œ\na = torch.tensor(2.0, requires_grad=True)\nb = torch.tensor(3.0, requires_grad=True)\nc = MyAdd.apply(a, b)\nc.backward()\n```\n\n#### **2. æ¢¯åº¦ç´¯åŠ æœºåˆ¶**\n\nPyTorch é»˜è®¤ä¼š**ç´¯åŠ æ¢¯åº¦**ï¼Œå› æ­¤æ¯æ¬¡åå‘ä¼ æ’­å‰éœ€è¦æ‰‹åŠ¨æ¸…é›¶ï¼š\n\n```python\noptimizer.zero_grad()  # æ ‡å‡†è®­ç»ƒå¾ªç¯ä¸­çš„å¿…è¦æ“ä½œ\nloss.backward()        # æ¢¯åº¦ä¼šç´¯åŠ åˆ° .grad å±æ€§ä¸­\noptimizer.step()\n```\n\n#### **3. éæ ‡é‡å¼ é‡çš„åå‘ä¼ æ’­**\n\nå½“è¾“å‡ºä¸ºéæ ‡é‡æ—¶ï¼Œéœ€è¦æä¾› `gradient` å‚æ•°ï¼š\n\n```python\nx = torch.tensor([1.0, 2.0], requires_grad=True)\ny = x * 2\n\n# å‡è®¾ y æ˜¯å‘é‡ï¼Œéœ€è¦æä¾›æ¢¯åº¦åˆå§‹å€¼\ny.backward(gradient=torch.tensor([0.1, 0.2]))\nprint(x.grad)  # è¾“å‡º: tensor([0.2, 0.4])\n```\n\n#### **4. å†…å­˜ä¼˜åŒ–ç­–ç•¥**\n\n- **ä¸­é—´å˜é‡é‡Šæ”¾**ï¼šé»˜è®¤åªä¿ç•™å¶å­èŠ‚ç‚¹çš„æ¢¯åº¦\n- **æ¢¯åº¦æ£€æŸ¥ç‚¹**ï¼šé€šè¿‡ `torch.utils.checkpoint` å‡å°‘å†…å­˜å ç”¨\n- **ç¦ç”¨æ¢¯åº¦è®¡ç®—**ï¼šä½¿ç”¨ `with torch.no_grad():` æˆ– `@torch.inference_mode()`\n\n---\n\n### **å››ã€å¯è§†åŒ–åå‘ä¼ æ’­è¿‡ç¨‹**\n\n#### **ç¤ºä¾‹ä»£ç **\n\n```python\nimport torchviz\n\na = torch.tensor(3.0, requires_grad=True)\nb = torch.tensor(4.0, requires_grad=True)\nc = a * b\nd = c.sin()\nd.backward()\n\n# ç”Ÿæˆè®¡ç®—å›¾å¯è§†åŒ–\ntorchviz.make_dot(d, params={'a':a, 'b':b}).render(\"graph\")\n```\n\n#### **ç”Ÿæˆçš„è®¡ç®—å›¾ç»“æ„**\n\n```mermaid\ngraph LR\n  a((a)) --\u003e Mul --\u003e c\n  b((b)) --\u003e Mul\n  c --\u003e Sin --\u003e d((d))\n  d --\u003e Backward\n```\n\n---\n\n### **äº”ã€PyTorch åå‘ä¼ æ’­çš„æ€§èƒ½ä¼˜åŒ–**\n\n#### **1. å¼‚æ­¥æ‰§è¡Œ**\n\n```python\n# ä½¿ç”¨ CUDA æµå®ç°å¼‚æ­¥è®¡ç®—\nwith torch.cuda.stream(torch.cuda.Stream()):\n    loss.backward()  # åœ¨éé»˜è®¤æµä¸­æ‰§è¡Œåå‘ä¼ æ’­\n```\n\n#### **2. æ··åˆç²¾åº¦è®­ç»ƒ**\n\n```python\nscaler = torch.cuda.amp.GradScaler()\n\nwith torch.cuda.amp.autocast():\n    output = model(input)\n    loss = loss_fn(output, target)\n\nscaler.scale(loss).backward()  # è‡ªåŠ¨ç¼©æ”¾æ¢¯åº¦\nscaler.step(optimizer)\nscaler.update()\n```\n\n#### **3. æ¢¯åº¦è£å‰ª**\n\n```python\ntorch.nn.utils.clip_grad_norm_(model.parameters(), max_norm=1.0)\n```\n\n---\n\n### **å…­ã€è°ƒè¯•æŠ€å·§**\n\n#### **1. æ£€æŸ¥æ¢¯åº¦æ˜¯å¦å­˜åœ¨**\n\n```python\nprint([p.requires_grad for p in model.parameters()])  # æ£€æŸ¥å‚æ•°æ˜¯å¦å¯ç”¨æ¢¯åº¦\n```\n\n#### **2. æ¢¯åº¦æ•°å€¼æ£€æŸ¥**\n\n```python\nfor name, param in model.named_parameters():\n    if param.grad is not None:\n        print(f\"{name} æ¢¯åº¦å‡å€¼: {param.grad.mean().item()}\")\n```\n\n#### **3. ä¿ç•™ä¸­é—´æ¢¯åº¦**\n\n```python\ny = x * 2\ny.retain_grad()  # å¼ºåˆ¶ä¿ç•™ä¸­é—´å˜é‡çš„æ¢¯åº¦\ny.backward()\nprint(y.grad)    # å¯ä»¥æŸ¥çœ‹ä¸­é—´æ¢¯åº¦\n```\n\n---\n\n### **ä¸ƒã€åº•å±‚å®ç°åŸç†**\n\n#### **1. C++ æ ¸å¿ƒå¼•æ“**\n\nPyTorch çš„åå‘ä¼ æ’­å¼•æ“ä¸»è¦ç”±ä»¥ä¸‹ C++ ç»„ä»¶æ„æˆï¼š\n\n- **`torch::autograd::Engine`**ï¼šç®¡ç†åå‘ä¼ æ’­ä»»åŠ¡çš„æ‰§è¡Œ\n- **`torch::autograd::Node`**ï¼šè¡¨ç¤ºè®¡ç®—å›¾ä¸­çš„æ“ä½œèŠ‚ç‚¹\n- **`torch::autograd::Edge`**ï¼šè¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³»\n\n#### **2. åå‘ä¼ æ’­ä»»åŠ¡è°ƒåº¦**\n\n```cpp\n// ä¼ªä»£ç ï¼šå¼•æ“æ‰§è¡Œæµç¨‹\nvoid Engine::execute(const EdgeList\u0026 roots) {\n    // 1. æ„å»ºä»»åŠ¡é˜Ÿåˆ—\n    // 2. ä½¿ç”¨çº¿ç¨‹æ± å¹¶è¡Œæ‰§è¡Œåå‘ä»»åŠ¡\n    // 3. å¤„ç†ä¾èµ–å…³ç³»ï¼ˆæ‹“æ‰‘æ’åºï¼‰\n    // 4. è°ƒç”¨æ¯ä¸ª Node çš„ apply() æ–¹æ³•\n}\n```\n\n---\n\n### **å…«ã€æ€»ç»“ï¼šPyTorch åå‘ä¼ æ’­çš„è®¾è®¡å“²å­¦**\n\n1. **åŠ¨æ€è®¡ç®—å›¾**ï¼šå³æ—¶æ„å»ºã€å³æ—¶é”€æ¯ï¼Œçµæ´»é€‚åº”å¯å˜ç½‘ç»œç»“æ„\n2. **å»¶è¿Ÿè®¡ç®—**ï¼šåªåœ¨éœ€è¦æ—¶æ‰§è¡Œæ¢¯åº¦è®¡ç®—ï¼Œä¼˜åŒ–å†…å­˜ä½¿ç”¨\n3. **åˆ†ç¦»å¼è®¾è®¡**ï¼šå‰å‘ä¼ æ’­è®°å½•æ“ä½œï¼Œåå‘ä¼ æ’­æ—¶æ‰§è¡Œå®é™…è®¡ç®—\n4. **å¯æ‰©å±•æ€§**ï¼šé€šè¿‡æ³¨å†Œè‡ªå®šä¹‰ Function æ”¯æŒä»»æ„å¤æ‚æ“ä½œ\n\nç†è§£è¿™äº›åº•å±‚æœºåˆ¶ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…ï¼š\n\n- æ›´é«˜æ•ˆåœ°è°ƒè¯•æ¢¯åº¦ç›¸å…³é—®é¢˜\n- åˆç†æ§åˆ¶å†…å­˜ä½¿ç”¨ï¼ˆå¦‚ä½¿ç”¨ `detach()` æˆªæ–­è®¡ç®—å›¾ï¼‰\n- å®ç°è‡ªå®šä¹‰ç¥ç»ç½‘ç»œå±‚å’ŒæŸå¤±å‡½æ•°\n- ä¼˜åŒ–è®­ç»ƒè¿‡ç¨‹çš„æ€§èƒ½\n\n## Q: æ·±å…¥è®²è§£å‡ ç§å¾®åˆ†æ–¹æ³•çš„å¤æ‚åº¦ä¸æ•°å€¼ç¨³å®šæ€§\n\n\u003e [!query]\n\u003e\n\u003e ä½ ä¹‹å‰æåˆ°æ•°å€¼å¾®åˆ†ã€ç¬¦å·å¾®åˆ†ã€è‡ªåŠ¨å¾®åˆ†çš„æ—¶é—´ç©ºé—´å¤æ‚åº¦ä»¥åŠæ•°å€¼ç¨³å®šæ€§çš„å¯¹æ¯”ã€‚è¿™äº›å¤æ‚åº¦æ˜¯å¦‚ä½•è®¡ç®—å‡ºçš„ç»“æœï¼Ÿæ•°å€¼ç¨³å®šæ€§åˆå¦‚ä½•è¯„ä¼°ï¼Ÿ\n\n\u003e [!reasoning]-\n\u003e\n\u003e å¥½çš„ï¼Œæˆ‘ç°åœ¨éœ€è¦ä»”ç»†ç†è§£ç”¨æˆ·çš„é—®é¢˜ã€‚ç”¨æˆ·ä¹‹å‰è¯¢é—®äº† PyTorch çš„åå‘ä¼ æ’­æœºåˆ¶ï¼Œç°åœ¨é’ˆå¯¹æ•°å€¼å¾®åˆ†ã€ç¬¦å·å¾®åˆ†å’Œè‡ªåŠ¨å¾®åˆ†çš„æ—¶é—´ç©ºé—´å¤æ‚åº¦ä»¥åŠæ•°å€¼ç¨³å®šæ€§å¯¹æ¯”æå‡ºç–‘é—®ï¼Œæƒ³çŸ¥é“è¿™äº›å¤æ‚åº¦æ˜¯å¦‚ä½•è®¡ç®—çš„ï¼Œä»¥åŠæ•°å€¼ç¨³å®šæ€§å¦‚ä½•è¯„ä¼°ã€‚ç”¨æˆ·å¯èƒ½åœ¨å­¦ä¹ è¿™äº›å¾®åˆ†æ–¹æ³•æ—¶ï¼Œå¯¹èƒŒåçš„æ•°å­¦åŸç†å’Œè¯„ä¼°æ–¹æ³•æ„Ÿåˆ°å›°æƒ‘ï¼Œéœ€è¦æ›´æ·±å…¥çš„è§£é‡Šã€‚\n\u003e\n\u003e é¦–å…ˆï¼Œæˆ‘éœ€è¦å›å¿†æ•°å€¼å¾®åˆ†ã€ç¬¦å·å¾®åˆ†å’Œè‡ªåŠ¨å¾®åˆ†çš„åŸºæœ¬æ¦‚å¿µã€‚æ•°å€¼å¾®åˆ†æ˜¯é€šè¿‡æœ‰é™å·®åˆ†è¿‘ä¼¼å¯¼æ•°ï¼Œç¬¦å·å¾®åˆ†æ˜¯é€šè¿‡ä»£æ•°è§„åˆ™æ±‚å¯¼è¡¨è¾¾å¼ï¼Œè‡ªåŠ¨å¾®åˆ†ï¼ˆå¦‚åå‘ä¼ æ’­ï¼‰åˆ™æ˜¯é€šè¿‡åˆ†è§£è®¡ç®—è¿‡ç¨‹ï¼Œåˆ©ç”¨é“¾å¼æ³•åˆ™é«˜æ•ˆè®¡ç®—æ¢¯åº¦ã€‚ç”¨æˆ·å·²ç»çŸ¥é“å®ƒä»¬çš„å¤æ‚åº¦å¯¹æ¯”è¡¨æ ¼ï¼Œä½†éœ€è¦äº†è§£è¿™äº›å¤æ‚åº¦æ˜¯å¦‚ä½•å¾—å‡ºçš„ï¼Œä»¥åŠæ•°å€¼ç¨³å®šæ€§çš„è¯„ä¼°æ–¹æ³•ã€‚\n\u003e\n\u003e æ¥ä¸‹æ¥ï¼Œæ—¶é—´å¤æ‚åº¦çš„è®¡ç®—ã€‚å¯¹äºæ•°å€¼å¾®åˆ†ï¼Œå‡è®¾æœ‰ n ä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°éƒ½éœ€è¦å•ç‹¬è®¡ç®—æ¢¯åº¦ï¼Œæ¯æ¬¡è®¡ç®—éœ€è¦ä¸¤æ¬¡å‰å‘ä¼ æ’­ï¼ˆf(x+h)å’Œ f(x-h)ï¼‰ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)çš„å‰å‘è®¡ç®—ä¹˜ä»¥ n ä¸ªå‚æ•°ï¼Œå¾—åˆ° O(n^2)ã€‚è€Œè‡ªåŠ¨å¾®åˆ†åªéœ€è¦ä¸€æ¬¡å‰å‘å’Œä¸€æ¬¡åå‘ä¼ æ’­ï¼Œåå‘ä¼ æ’­çš„æ—¶é—´å¤æ‚åº¦ä¸å‰å‘ç›¸å½“ï¼Œæ‰€ä»¥æ€»çš„æ˜¯ O(n)ã€‚ç¬¦å·å¾®åˆ†åˆ™å¯èƒ½å› ä¸ºè¡¨è¾¾å¼è†¨èƒ€å¯¼è‡´æœ€åæƒ…å†µæŒ‡æ•°çº§å¤æ‚åº¦ï¼Œä½†é€šå¸¸æƒ…å†µæ˜¯çº¿æ€§çš„ï¼Œä½†éœ€è¦å­˜å‚¨æ•´ä¸ªè¡¨è¾¾å¼ï¼Œç©ºé—´å¤æ‚åº¦é«˜ã€‚è¿™äº›éœ€è¦è¯¦ç»†è§£é‡Šã€‚\n\u003e\n\u003e ç©ºé—´å¤æ‚åº¦æ–¹é¢ï¼Œæ•°å€¼å¾®åˆ†ä¸éœ€è¦å­˜å‚¨ä¸­é—´å˜é‡ï¼Œæ‰€ä»¥æ˜¯ O(1)ã€‚è‡ªåŠ¨å¾®åˆ†éœ€è¦å­˜å‚¨è®¡ç®—å›¾ä¸­çš„ä¸­é—´ç»“æœï¼Œæ‰€ä»¥æ˜¯ O(n)ã€‚ç¬¦å·å¾®åˆ†éœ€è¦å­˜å‚¨æ•´ä¸ªç¬¦å·è¡¨è¾¾å¼ï¼Œå¯èƒ½éšç€æ±‚å¯¼æ¬¡æ•°å¢åŠ è€Œè†¨èƒ€ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯ O(n)ã€‚è¿™é‡Œå¯èƒ½éœ€è¦æ›´å…·ä½“çš„ä¾‹å­è¯´æ˜ã€‚\n\u003e\n\u003e æ•°å€¼ç¨³å®šæ€§æ–¹é¢ï¼Œæ•°å€¼å¾®åˆ†å› ä¸ºä½¿ç”¨äº†æœ‰é™å·®åˆ†ï¼Œå®¹æ˜“å—åˆ°èˆå…¥è¯¯å·®å½±å“ï¼Œå°¤å…¶æ˜¯å½“ h å¾ˆå°æ—¶ã€‚ç¬¦å·å¾®åˆ†å› ä¸ºæ˜¯ç²¾ç¡®æ±‚å¯¼ï¼Œç¨³å®šæ€§å¥½ã€‚è‡ªåŠ¨å¾®åˆ†é€šè¿‡é“¾å¼æ³•åˆ™è®¡ç®—ï¼Œç²¾åº¦ä¸æ•°å­¦æ¨å¯¼ç›¸åŒï¼Œæ‰€ä»¥ç¨³å®šæ€§ä¼˜ç§€ã€‚éœ€è¦è§£é‡Šä¸ºä»€ä¹ˆä¸åŒæ–¹æ³•ä¼šæœ‰ä¸åŒçš„ç¨³å®šæ€§ï¼Œæ¯”å¦‚èˆå…¥è¯¯å·®å’Œè¡¨è¾¾å¼è†¨èƒ€çš„å½±å“ã€‚\n\u003e\n\u003e ç”¨æˆ·å¯èƒ½æ²¡æœ‰å®Œå…¨ç†è§£è¿™äº›å¤æ‚åº¦æ˜¯å¦‚ä½•æ¨å¯¼å‡ºæ¥çš„ï¼Œæ¯”å¦‚ä¸ºä»€ä¹ˆè‡ªåŠ¨å¾®åˆ†çš„æ—¶é—´æ˜¯çº¿æ€§çš„ï¼Œæˆ–è€…ç¬¦å·å¾®åˆ†çš„ç©ºé—´å¤æ‚åº¦å¦‚ä½•ã€‚éœ€è¦åˆ†æ­¥éª¤è§£é‡Šï¼Œå¯èƒ½ç”¨å…·ä½“çš„ä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ªæœ‰ n ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå¦‚ä½•è®¡ç®—æ¯ç§æ–¹æ³•æ‰€éœ€çš„æ­¥éª¤æ•°ï¼Œä»è€Œå¾—å‡ºæ—¶é—´å¤æ‚åº¦ã€‚\n\u003e\n\u003e æ­¤å¤–ï¼Œç”¨æˆ·å¯èƒ½å¯¹æ•°å€¼ç¨³å®šæ€§çš„è¯„ä¼°æ–¹æ³•ä¸æ¸…æ¥šã€‚éœ€è¦è§£é‡Šæ•°å€¼ç¨³å®šæ€§é€šå¸¸é€šè¿‡è¯¯å·®åˆ†æï¼Œæ¯”å¦‚èˆå…¥è¯¯å·®å’Œæˆªæ–­è¯¯å·®çš„å½±å“ã€‚ä¾‹å¦‚ï¼Œæ•°å€¼å¾®åˆ†çš„è¯¯å·®æ¥æºåŒ…æ‹¬é€‰æ‹© h çš„å¤§å°ï¼Œè¿‡å¤§ä¼šå¯¼è‡´æˆªæ–­è¯¯å·®ï¼Œè¿‡å°å¯¼è‡´èˆå…¥è¯¯å·®ã€‚è€Œç¬¦å·å¾®åˆ†æ²¡æœ‰æ•°å€¼è¯¯å·®ï¼Œè‡ªåŠ¨å¾®åˆ†åˆ™å› ä¸ºä½¿ç”¨æµ®ç‚¹è¿ç®—å¯èƒ½æœ‰èˆå…¥è¯¯å·®ï¼Œä½†ç›¸å¯¹äºæ•°å€¼å¾®åˆ†æ›´ç¨³å®šã€‚\n\u003e\n\u003e éœ€è¦æ³¨æ„ç”¨æˆ·çš„æ•°å­¦èƒŒæ™¯æ˜¯æœ¬ç§‘é«˜ç­‰æ•°å­¦å’Œçº¿æ€§ä»£æ•°ï¼Œæ‰€ä»¥éœ€è¦ç”¨ä»–ä»¬èƒ½ç†è§£çš„è¯­è¨€ï¼Œé¿å…è¿‡äºå¤æ‚çš„æ•°å­¦æ¨å¯¼ï¼Œä½†åˆè¦è¶³å¤Ÿä¸¥è°¨ã€‚å¯èƒ½éœ€è¦ä½¿ç”¨å…·ä½“çš„ä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œæ¯”è¾ƒä¸‰ç§æ–¹æ³•åœ¨è®¡ç®—æ¢¯åº¦æ—¶çš„æ­¥éª¤ï¼Œä»è€Œè¯´æ˜æ—¶é—´å¤æ‚åº¦çš„å·®å¼‚ã€‚\n\u003e\n\u003e ä¾‹å¦‚ï¼Œè€ƒè™‘å‡½æ•° f(w)=w1*x1 + w2*x2 + ... + wn\\*xnï¼Œæœ‰ n ä¸ªå‚æ•° w1 åˆ° wnã€‚æ•°å€¼å¾®åˆ†éœ€è¦å¯¹æ¯ä¸ª wi è®¡ç®—ä¸¤æ¬¡ f çš„å€¼ï¼Œæ‰€ä»¥æ€»è®¡ç®—æ¬¡æ•°æ˜¯ 2n æ¬¡ï¼Œæ¯æ¬¡è®¡ç®—éœ€è¦ O(n)æ—¶é—´ï¼ˆå› ä¸ºè®¡ç®—ç‚¹ç§¯ï¼‰ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(n^2)ã€‚è‡ªåŠ¨å¾®åˆ†åˆ™è®¡ç®—ä¸€æ¬¡å‰å‘ä¼ æ’­ï¼ˆO(n)æ—¶é—´ï¼‰ï¼Œåå‘ä¼ æ’­æ¯ä¸ªèŠ‚ç‚¹çš„æ¢¯åº¦è®¡ç®—æ˜¯ O(1)ï¼Œn ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æ€»æ—¶é—´æ˜¯ O(n)ã€‚ç¬¦å·å¾®åˆ†åˆ™ç”Ÿæˆå¯¼æ•°è¡¨è¾¾å¼ï¼Œå¯èƒ½æœ‰ n é¡¹ï¼Œæ¯ä¸ªé¡¹æ˜¯ xiï¼Œæ‰€ä»¥å¯¼æ•°æ˜¯ xiï¼Œå­˜å‚¨è¿™äº›éœ€è¦ O(n)ç©ºé—´ï¼Œä½†å¦‚æœæ˜¯æ›´å¤æ‚çš„å‡½æ•°ï¼Œæ¯”å¦‚å¤šå±‚å¤åˆå‡½æ•°ï¼Œç¬¦å·è¡¨è¾¾å¼å¯èƒ½è†¨èƒ€ï¼Œå¯¼è‡´ç©ºé—´å¢åŠ ã€‚\n\u003e\n\u003e åœ¨æ•°å€¼ç¨³å®šæ€§æ–¹é¢ï¼Œæ¯”å¦‚ç”¨æ•°å€¼å¾®åˆ†è®¡ç®— f(w)=sin(w)ï¼Œå½“ w å¾ˆå¤§æ—¶ï¼Œè®¡ç®—å¯¼æ•°æ—¶çš„å°å˜åŒ–å¯èƒ½å¯¼è‡´è¾ƒå¤§çš„èˆå…¥è¯¯å·®ã€‚è€Œè‡ªåŠ¨å¾®åˆ†ç›´æ¥è®¡ç®— cos(w)ï¼Œæ²¡æœ‰è¿™ç§è¯¯å·®ã€‚\n\u003e\n\u003e æ€»ç»“ï¼Œç”¨æˆ·éœ€è¦åˆ†æ­¥éª¤çš„å¤æ‚åº¦æ¨å¯¼è¿‡ç¨‹å’Œæ•°å€¼ç¨³å®šæ€§çš„è¯„ä¼°æ–¹æ³•ï¼Œç»“åˆå…·ä½“ä¾‹å­å’Œæ•°å­¦è§£é‡Šï¼Œç¡®ä¿ä»–ä»¬èƒ½ç†è§£ä¸ºä»€ä¹ˆä¸åŒæ–¹æ³•æœ‰ä¸åŒçš„å¤æ‚åº¦å’Œç¨³å®šæ€§ã€‚åŒæ—¶ï¼Œå¯èƒ½éœ€è¦æŒ‡å‡ºè¿™äº›å¤æ‚åº¦æ˜¯ç†è®ºä¸Šçš„æœ€åæƒ…å†µè¿˜æ˜¯å…¸å‹æƒ…å†µï¼Œæ¯”å¦‚ç¬¦å·å¾®åˆ†çš„è¡¨è¾¾å¼è†¨èƒ€åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½æ›´ä¸¥é‡ã€‚\n\nä»¥ä¸‹æ˜¯å…³äºæ•°å€¼å¾®åˆ†ã€ç¬¦å·å¾®åˆ†å’Œè‡ªåŠ¨å¾®åˆ†çš„æ—¶é—´/ç©ºé—´å¤æ‚åº¦è®¡ç®—åŸç†ï¼Œä»¥åŠæ•°å€¼ç¨³å®šæ€§è¯„ä¼°æ–¹æ³•çš„è¯¦ç»†è§£é‡Šï¼š\n\n---\n\n### ä¸€ã€æ—¶é—´å¤æ‚åº¦è®¡ç®—åŸç†\n\n#### 1. æ•°å€¼å¾®åˆ†ï¼ˆNumerical Differentiationï¼‰\n\n**å®ç°æ–¹å¼**ï¼šé€šè¿‡æœ‰é™å·®åˆ†è¿‘ä¼¼å¯¼æ•°\n$$ f'(x) \\approx \\frac{f(x+h)-f(x-h)}{2h} $$\n\n**æ—¶é—´å¤æ‚åº¦åˆ†æ**ï¼š\n\n- **å•å‚æ•°è®¡ç®—**ï¼šæ¯æ¬¡è®¡ç®—éœ€è¦ **2 æ¬¡å‰å‘ä¼ æ’­**\n- **n ä¸ªå‚æ•°**ï¼šéœ€è¦ **2n æ¬¡å‰å‘ä¼ æ’­**\n- **å‰å‘ä¼ æ’­å¤æ‚åº¦**ï¼šå‡è®¾å•æ¬¡å‰å‘ä¼ æ’­ä¸º $$ O(k) $$ï¼ˆk ä¸ºè®¡ç®—æ­¥éª¤æ•°ï¼‰\n- **æ€»æ—¶é—´å¤æ‚åº¦**ï¼š$$ O(2n \\times k) = O(nk) $$\n\n**å…³é”®ç»“è®º**ï¼šæ—¶é—´å¤æ‚åº¦ä¸å‚æ•°æ•°é‡æˆçº¿æ€§å…³ç³»ï¼Œä½†å‰å‘ä¼ æ’­çš„ $$ k $$ é€šå¸¸ä¸ç½‘ç»œè§„æ¨¡ç›¸å…³ï¼Œå®é™…å¤æ‚åº¦ä¸º $$ O(n^2) $$\n\n\u003e ç¤ºä¾‹ï¼šè®¡ç®— $$ f(w*1,w_2,...,w*{100}) $$ çš„æ¢¯åº¦ï¼Œéœ€è¦ 200 æ¬¡å‰å‘ä¼ æ’­\n\n---\n\n#### 2. ç¬¦å·å¾®åˆ†ï¼ˆSymbolic Differentiationï¼‰\n\n**å®ç°æ–¹å¼**ï¼šé€šè¿‡ä»£æ•°è§„åˆ™æ¨å¯¼é—­å¼è¡¨è¾¾å¼\n\n**æ—¶é—´å¤æ‚åº¦åˆ†æ**ï¼š\n\n- **è¡¨è¾¾å¼è†¨èƒ€**ï¼šå¯¹å¤åˆå‡½æ•° $$ f(g(h(x))) $$ æ±‚å¯¼ä¼šäº§ç”ŸåµŒå¥—ä¹˜ç§¯é¡¹\n- **æœ€åæƒ…å†µ**ï¼šæ¯å±‚æ“ä½œå¯¼è‡´è¡¨è¾¾å¼é•¿åº¦æŒ‡æ•°çº§å¢é•¿ $$ O(2^d) $$ï¼ˆd ä¸ºç½‘ç»œæ·±åº¦ï¼‰\n- **ä¼˜åŒ–æƒ…å†µ**ï¼šç°ä»£ç³»ç»Ÿä¼šè¿›è¡Œè¡¨è¾¾å¼ç®€åŒ–ï¼Œå…¸å‹å¤æ‚åº¦ä¸º $$ O(d) $$\n\n\u003e ç¤ºä¾‹ï¼šå¯¹ $$ f(x) = \\sin(e^{x^2}) $$ æ±‚å¯¼ï¼š\n\u003e $$ f'(x) = \\cos(e^{x^2}) \\cdot e^{x^2} \\cdot 2x $$\n\u003e è¡¨è¾¾å¼é•¿åº¦éšæ±‚å¯¼æ¬¡æ•°çº¿æ€§å¢é•¿\n\n---\n\n#### 3. è‡ªåŠ¨å¾®åˆ†ï¼ˆAutomatic Differentiationï¼‰\n\n**å®ç°æ–¹å¼**ï¼šåŸºäºè®¡ç®—å›¾åˆ†è§£æ±‚å¯¼è¿‡ç¨‹\n\n**æ—¶é—´å¤æ‚åº¦åˆ†æ**ï¼š\n\n- **å‰å‘ä¼ æ’­**ï¼š$$ O(d) $$ï¼ˆd ä¸ºè®¡ç®—å›¾æ·±åº¦ï¼‰\n- **åå‘ä¼ æ’­**ï¼šæ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œå›ºå®šæ—¶é—´çš„æ¢¯åº¦è®¡ç®—ï¼Œå¤æ‚åº¦ $$ O(d) $$\n- **æ€»æ—¶é—´å¤æ‚åº¦**ï¼š$$ O(d) + O(d) = O(d) $$\n\n**å…³é”®ä¼˜åŒ–**ï¼šè®¡ç®—å›¾èŠ‚ç‚¹æ•°é€šå¸¸ä¸å‚æ•°æ•°é‡ $$ n $$ æˆçº¿æ€§å…³ç³»ï¼Œå› æ­¤å¤æ‚åº¦å¯è¡¨ç¤ºä¸º $$ O(n) $$\n\n\u003e ç¤ºä¾‹ï¼šå…¨è¿æ¥ç½‘ç»œçš„åå‘ä¼ æ’­æ—¶é—´ä¸å‚æ•°æ•°é‡æˆæ­£æ¯”\n\n---\n\n### äºŒã€ç©ºé—´å¤æ‚åº¦è®¡ç®—åŸç†\n\n#### å¯¹æ¯”è¡¨æ ¼\n\n| æ–¹æ³•     | ç©ºé—´å¤æ‚åº¦ | åŸå›                                                        |\n| -------- | ---------- | ---------------------------------------------------------- |\n| æ•°å€¼å¾®åˆ† | $$ O(1) $$ | åªéœ€å­˜å‚¨å½“å‰å‚æ•°å€¼å’Œæ‰°åŠ¨ç»“æœ                               |\n| ç¬¦å·å¾®åˆ† | $$ O(n) $$ | éœ€è¦å­˜å‚¨å®Œæ•´çš„ç¬¦å·è¡¨è¾¾å¼ï¼ˆå¯èƒ½æŒ‡æ•°è†¨èƒ€ï¼Œä½†ä¼˜åŒ–åçº¿æ€§å¢é•¿ï¼‰ |\n| è‡ªåŠ¨å¾®åˆ† | $$ O(n) $$ | éœ€è¦å­˜å‚¨è®¡ç®—å›¾ä¸­æ‰€æœ‰ä¸­é—´å˜é‡çš„å‰å‘å€¼                       |\n\n**è¯¦ç»†è§£é‡Š**ï¼š\n\n- **æ•°å€¼å¾®åˆ†**ï¼šä»…éœ€ä¿æŒåŸå§‹å‚æ•°å’Œæ‰°åŠ¨åçš„å‚æ•°å‰¯æœ¬ï¼Œå†…å­˜å ç”¨æ’å®š\n- **ç¬¦å·å¾®åˆ†**ï¼šå¯¼æ•°çš„ç¬¦å·è¡¨è¾¾å¼å¯èƒ½éå¸¸åºå¤§ï¼Œä¾‹å¦‚ï¼š\n  $$ \\frac{\\partial}{\\partial x} \\prod*{i=1}^n x_i = \\sum*{j=1}^n \\prod\\_{i \\neq j} x_i $$\n  éœ€è¦å­˜å‚¨ $$ n $$ ä¸ªä¹˜ç§¯é¡¹\n- **è‡ªåŠ¨å¾®åˆ†**ï¼šéœ€è¦ä¿å­˜å‰å‘ä¼ æ’­çš„æ‰€æœ‰ä¸­é—´ç»“æœç”¨äºåå‘è®¡ç®—ï¼Œä¾‹å¦‚ï¼š\n  ```python\n  # å‰å‘è®¡ç®—éœ€è¦ä¿å­˜è¿™äº›å€¼\n  a = W1 * x\n  b = a + b1\n  c = relu(b)\n  ```\n\n---\n\n### ä¸‰ã€æ•°å€¼ç¨³å®šæ€§è¯„ä¼°æ–¹æ³•\n\n#### 1. æ•°å€¼å¾®åˆ†ç¨³å®šæ€§\n\n**è¯¯å·®æ¥æº**ï¼š\n\n- **æˆªæ–­è¯¯å·®**ï¼š$$ O(h^2) $$ï¼ˆæ¥è‡ªæ³°å‹’å±•å¼€çš„è¿‘ä¼¼ï¼‰\n- **èˆå…¥è¯¯å·®**ï¼š$$ O(\\epsilon/h) $$ï¼ˆ$$ \\epsilon $$ ä¸ºæœºå™¨ç²¾åº¦ï¼‰\n\n**ç¨³å®šæ€§åˆ†æ**ï¼š\n$$ \\text{æ€»è¯¯å·®} = O(h^2) + O(\\epsilon/h) $$\n\n- **æœ€ä¼˜æ­¥é•¿é€‰æ‹©**ï¼šå½“ $$ h \\approx \\sqrt[3]{\\epsilon} $$ æ—¶è¯¯å·®æœ€å°\n- **å…¸å‹é—®é¢˜**ï¼šå¯¹äºç—…æ€æ¡ä»¶æ•°çš„é—®é¢˜ï¼ˆå¦‚æŒ‡æ•°å‡½æ•°ï¼‰ï¼Œå°æ­¥é•¿ä¼šæ”¾å¤§èˆå…¥è¯¯å·®\n\n\u003e ç¤ºä¾‹ï¼šè®¡ç®— $$ f(x) = e^x $$ åœ¨ $$ x=20 $$ å¤„çš„å¯¼æ•°ï¼š\n\u003e\n\u003e - çœŸå®å¯¼æ•°ï¼š$$ e^{20} \\approx 4.85 \\times 10^8 $$\n\u003e - æ•°å€¼è®¡ç®—å¯èƒ½äº§ç”Ÿæ˜¾è‘—ç›¸å¯¹è¯¯å·®\n\n---\n\n#### 2. ç¬¦å·å¾®åˆ†ç¨³å®šæ€§\n\n**ç‰¹ç‚¹**ï¼š\n\n- **ç²¾ç¡®è®¡ç®—**ï¼šç†è®ºä¸Šæ²¡æœ‰æ•°å€¼è¯¯å·®\n- **å®é™…é™åˆ¶**ï¼š\n  - ç¬¦å·åŒ–ç®€å¯èƒ½å¯¼è‡´æ•°å€¼ä¸ç¨³å®šè¡¨è¾¾å¼\n  - è½¬æ¢ä¸ºæµ®ç‚¹è¿ç®—æ—¶ä»ä¼šå¼•å…¥èˆå…¥è¯¯å·®\n\n**è¯„ä¼°æ–¹æ³•**ï¼š\n\n- **è¡¨è¾¾å¼å¤æ‚åº¦**ï¼šæ£€æŸ¥å¯¼æ•°è¡¨è¾¾å¼æ˜¯å¦åŒ…å«ç—…æ€æ“ä½œï¼ˆå¦‚å¤§æ•°ç›¸å‡ï¼‰\n  $$ \\frac{\\partial}{\\partial x} (e^x - e^{-x}) = e^x + e^{-x} $$\n  ç›´æ¥è®¡ç®—å¯èƒ½åœ¨ $$ x $$ è¾ƒå¤§æ—¶å‡ºç°ç²¾åº¦æŸå¤±\n\n---\n\n#### 3. è‡ªåŠ¨å¾®åˆ†ç¨³å®šæ€§\n\n**è¯¯å·®æ¥æº**ï¼š\n\n- **å‰å‘ä¼ æ’­èˆå…¥è¯¯å·®**ï¼šä¸ç¬¦å·å¾®åˆ†ç›¸åŒé‡çº§\n- **åå‘ä¼ æ’­ç¨³å®šæ€§**ï¼šå–å†³äºæ¢¯åº¦è®¡ç®—è·¯å¾„\n\n**ç¨³å®šæ€§ä¼˜åŠ¿**ï¼š\n\n- **é¿å…è¯¯å·®ç´¯ç§¯**ï¼šé€šè¿‡ä¿æŒåŸå§‹è®¡ç®—è·¯å¾„çš„æ•°å€¼ç‰¹æ€§\n- **å…¸å‹å¯¹æ¯”**ï¼š\n  - ç›´æ¥è®¡ç®— $$ f(x) = \\sqrt{x^2 + 1} - x $$ çš„å¯¼æ•°\n  - ç¬¦å·å¾®åˆ†å¯èƒ½å¾—åˆ°ä¸ç¨³å®šçš„ $$ \\frac{x}{\\sqrt{x^2+1}} - 1 $$\n  - è‡ªåŠ¨å¾®åˆ†åœ¨è®¡ç®—æ—¶ä¿æŒåŸå§‹è¡¨è¾¾å¼ç»“æ„\n\n---\n\n### å››ã€ç»¼åˆå¯¹æ¯”ä¸å·¥ç¨‹é€‰æ‹©\n\n#### 1. æ–¹æ³•é€‰æ‹©å†³ç­–æ ‘\n\n```mermaid\ngraph TD\n    A[éœ€è¦å¾®åˆ†] --\u003e B{å‚æ•°è§„æ¨¡}\n    B --\u003e|\"å°è§„æ¨¡(n\u003c100)\"| C[ç¬¦å·å¾®åˆ†]\n    B --\u003e|ä¸­å¤§è§„æ¨¡| D{æ˜¯å¦éœ€è¦æœ€é«˜ç²¾åº¦}\n    D --\u003e|æ˜¯| E[è‡ªåŠ¨å¾®åˆ†]\n    D --\u003e|å¦| F[æ•°å€¼å¾®åˆ†]\n    C --\u003e G[è·å¾—ç²¾ç¡®è¡¨è¾¾å¼]\n    E --\u003e H[é«˜æ•ˆè®¡ç®—æ¢¯åº¦]\n    F --\u003e I[å¿«é€Ÿä½†ä½ç²¾åº¦]\n```\n\n#### 2. å®é™…æ¡†æ¶å®ç°\n\n- **PyTorch/TensorFlow**ï¼šé‡‡ç”¨è‡ªåŠ¨å¾®åˆ†ï¼ˆåå‘ä¼ æ’­ï¼‰\n- **Mathematica**ï¼šä½¿ç”¨ç¬¦å·å¾®åˆ†\n- **æœ‰é™å·®åˆ†åº“**ï¼šå¸¸ç”¨äºéªŒè¯å…¶ä»–æ–¹æ³•çš„æ­£ç¡®æ€§\n\n---\n\n### äº”ã€æ·±åº¦å­¦ä¹ ä¸­çš„ç‰¹æ®Šè€ƒé‡\n\n#### 1. GPU å†…å­˜ç“¶é¢ˆ\n\n- **è‡ªåŠ¨å¾®åˆ†ä¼˜åŒ–**ï¼šPyTorch çš„ `checkpoint` æœºåˆ¶é€šè¿‡ç‰ºç‰²è®¡ç®—æ¢å†…å­˜\n  ```python\n  # å‡å°‘ä¸­é—´å˜é‡å­˜å‚¨\n  from torch.utils.checkpoint import checkpoint\n  x = checkpoint(layer1, x)\n  x = checkpoint(layer2, x)\n  ```\n\n#### 2. æ··åˆç²¾åº¦è®­ç»ƒ\n\n- **ç¨³å®šæ€§æŒ‘æˆ˜**ï¼šfloat16 ç±»å‹ä¸‹çš„æ¢¯åº¦è®¡ç®—éœ€è¦ç‰¹æ®Šå¤„ç†\n- **è§£å†³æ–¹æ¡ˆ**ï¼šæ¢¯åº¦ç¼©æ”¾ï¼ˆGradient Scalingï¼‰\n  ```python\n  scaler = torch.cuda.amp.GradScaler()\n  with torch.cuda.amp.autocast():\n      output = model(input)\n  scaler.scale(loss).backward()\n  ```\n\n---\n\n### å…­ã€æ•°å­¦è¯æ˜ç¤ºä¾‹\n\n#### æ•°å€¼å¾®åˆ†è¯¯å·®åˆ†æ\n\nè®¾çœŸå®å¯¼æ•°ä¸º $$ f'(x) $$ï¼Œæ•°å€¼è¿‘ä¼¼ä¸ºï¼š\n$$ \\tilde{f}'(x) = \\frac{f(x+h) - f(x-h)}{2h} $$\n\n**æ³°å‹’å±•å¼€**ï¼š\n$$ f(x+h) = f(x) + hf'(x) + \\frac{h^2}{2}f''(x) + \\frac{h^3}{6}f'''(Î¾_1) $$\n$$ f(x-h) = f(x) - hf'(x) + \\frac{h^2}{2}f''(x) - \\frac{h^3}{6}f'''(Î¾_2) $$\n\n**ç›¸å‡å¾—**ï¼š\n$$ \\tilde{f}'(x) = f'(x) + \\frac{h^2}{12}[f'''(Î¾_1) + f'''(Î¾_2)] $$\n\n**è¯¯å·®é¡¹**ï¼š\n$$ \\text{æˆªæ–­è¯¯å·®} = O(h^2) $$\n\n---\n\n### ä¸ƒã€æ€»ç»“ç†è§£\n\n1. **å¤æ‚åº¦è®¡ç®—æœ¬è´¨**ï¼š\n\n   - æ—¶é—´å¤æ‚åº¦ï¼šè®¡ç®—ä»£ä»·éšé—®é¢˜è§„æ¨¡çš„å¢é•¿ç‡\n   - ç©ºé—´å¤æ‚åº¦ï¼šå†…å­˜éœ€æ±‚éšé—®é¢˜è§„æ¨¡çš„å¢é•¿ç‡\n\n2. **ç¨³å®šæ€§è¯„ä¼°æ ¸å¿ƒ**ï¼š\n\n   - å¯¹èˆå…¥è¯¯å·®å’Œæˆªæ–­è¯¯å·®çš„æ•æ„Ÿåº¦\n   - ä¿æŒæ•°å€¼è®¡ç®—ç²¾åº¦çš„èƒ½åŠ›\n\n3. **å·¥ç¨‹å®è·µæŒ‡å¯¼**ï¼š\n   - å°è§„æ¨¡é—®é¢˜ï¼šä¼˜å…ˆç¬¦å·å¾®åˆ†ï¼ˆå¦‚ç‰©ç†ä»¿çœŸï¼‰\n   - å¤§è§„æ¨¡å¯å¾®ç¼–ç¨‹ï¼šå¿…é€‰è‡ªåŠ¨å¾®åˆ†ï¼ˆæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼‰\n   - å¿«é€ŸéªŒè¯ï¼šä½¿ç”¨æ•°å€¼å¾®åˆ†ï¼ˆåŸå‹å¼€å‘é˜¶æ®µï¼‰\n\n\u003e [!NOTE] äº®æ›°ï¼š\n\u003e\n\u003e - æ•°å€¼å¾®åˆ†ï¼šå‚æ•°åš Delta ï¼Œè®¡ç®—æœ€ç»ˆå€¼çš„å·®ï¼Œæ²¡æœ‰åå‘ä¼ æ’­è¿‡ç¨‹\n\u003e - ç¬¦å·å¾®åˆ†ï¼šç›´æ¥æ¨å¯¼å‡ºå¯¼æ•°è¡¨è¾¾å¼ï¼Œå†ä»£å…¥è®¡ç®—ï¼Œè¡¨è¾¾å¼å¤æ‚\n\u003e - è‡ªåŠ¨å¾®åˆ†ï¼šå‰å‘ä¼ æ’­è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œå†åå‘ä¼ æ’­ç”¨é“¾å¼æ³•åˆ™è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„æ¢¯åº¦ã€‚\n\u003e\n\u003e è‡ªåŠ¨å¾®åˆ†å¯ä»¥ç®—æ˜¯ä¸€ç§åŠ¨æ€è§„åˆ’ï¼Œæš‚å­˜è®¡ç®—ä¸­é‡å¤ç”¨åˆ°çš„ä¸­é—´æ•°æ®ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ã€‚æ›´è¿›ä¸€æ­¥ï¼Œåå‘ä¼ æ’­æ—¶ï¼Œç”¨å±‚åºéå†è®¡ç®—å›¾ï¼Œå½“èŠ‚ç‚¹çš„æ‰€æœ‰å…¥è¾¹ï¼ˆåå‘æ—¶çš„å‡ºè¾¹ï¼‰éƒ½è®¡ç®—å®Œåï¼Œå³å¯å°†å½“å‰èŠ‚ç‚¹ä»é˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œä»è€ŒèŠ‚çœå†…å­˜ã€‚\n","title":"PyTorch è‡ªåŠ¨å¾®åˆ†ä¸åå‘ä¼ æ’­æœºåˆ¶åŸç†è§£æ","abstract":"\u003e æœ¬æ–‡ä¸ºç”¨æˆ·ä¸ DeepSeek çš„é—®ç­”ã€‚ä¸»é¢˜ä¸º PyTorch çš„åå‘ä¼ æ’­æœºåˆ¶ã€‚æœ¬æ–‡ä»æ•°å­¦åŸç†ã€è®¡ç®—å›¾æœºåˆ¶å’Œå®é™…éœ€æ±‚ä¸‰ä¸ªæ–¹é¢æ·±å…¥è§£é‡Šå…¶å·¥ä½œåŸç†ï¼Œå¹¶ç»“åˆ PyTorch çš„è‡ªåŠ¨å¾®åˆ†ï¼ˆAutogradï¼‰ç³»ç»Ÿè¿›è¡Œè¯´æ˜ã€‚\n\u003e [!query]\n\u003e","length":952,"created_at":"2025-03-06T15:50:00.000Z","updated_at":"2025-03-06T15:50:00.000Z","tags":["PyTorch","æ·±åº¦å­¦ä¹ ","åå‘ä¼ æ’­","è‡ªåŠ¨å¾®åˆ†","å­¦ä¹ ç¬”è®°"],"license":true}},{"pathMapping":{"filePath":"public/content/learn_from_ai/2025-03-05-lora-matrix-initialization-strategy.md","pagePath":"/learn_from_ai/lora-matrix-initialization-strategy","slug":"lora-matrix-initialization-strategy"},"meta":{"content":"\n\u003e æœ¬æ–‡æ˜¯ä¸ Deepseek-R1 æ¨¡å‹+Search çš„å¯¹è¯è®°å½•ï¼Œè¯¦ç»†æ¢è®¨äº† LoRAï¼ˆä½ç§©é€‚åº”ï¼‰å¾®è°ƒæŠ€æœ¯ä¸­çŸ©é˜µåˆå§‹åŒ–ç­–ç•¥çš„æ•°å­¦åŸç†ã€‚æ–‡ç« åˆ†æäº†ä¸ºä»€ä¹ˆåœ¨ LoRA ä¸­çŸ©é˜µ A é‡‡ç”¨éšæœºåˆå§‹åŒ–è€ŒçŸ©é˜µ B é‡‡ç”¨é›¶åˆå§‹åŒ–çš„åŸå› ï¼ŒåŒ…æ‹¬ä¿æŒåˆå§‹æ¨¡å‹ç¨³å®šæ€§ã€ç¡®ä¿æ¢¯åº¦æ›´æ–°æœ‰æ•ˆæ€§ã€å®ç°é€æ­¥å­¦ä¹ çš„ä½ç§©æ›´æ–°ç­‰æ–¹é¢ã€‚åŒæ—¶ï¼Œæ–‡ç« ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆåå‘åˆå§‹åŒ–ç­–ç•¥ï¼ˆBéšæœºè€ŒAä¸ºé›¶ï¼‰åœ¨ç†è®ºä¸Šå­˜åœ¨é—®é¢˜ï¼Œä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±å’Œè®­ç»ƒæ•ˆç‡ä¸‹é™ã€‚è¿™äº›åˆ†ææœ‰åŠ©äºç†è§£æ·±åº¦å­¦ä¹ ä¸­å‚æ•°é«˜æ•ˆå¾®è°ƒæŠ€æœ¯çš„è®¾è®¡åŸç†ã€‚\n\n## Q: åˆå§‹åŒ– LoRA æ—¶ï¼Œä¸ºä»€ä¹ˆ A çŸ©é˜µæ˜¯éšæœºåˆå§‹åŒ–è€Œ B çŸ©é˜µæ˜¯ 0 åˆå§‹åŒ–ï¼Ÿ\n\n\u003e [!reasoning]-\n\u003e å—¯ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å…³äºLoRAï¼ˆä½ç§©é€‚åº”ï¼‰åˆå§‹åŒ–çš„ã€‚ä¸ºä»€ä¹ˆåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒçŸ©é˜µAæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œè€ŒçŸ©é˜µBæ˜¯é›¶åˆå§‹åŒ–çš„å‘¢ï¼Ÿæˆ‘éœ€è¦ä»”ç»†æ€è€ƒä¸€ä¸‹ã€‚\n\u003e\n\u003e é¦–å…ˆï¼Œæˆ‘åº”è¯¥å›å¿†ä¸€ä¸‹LoRAçš„åŸºæœ¬åŸç†ã€‚LoRAæ˜¯ä¸€ç§ç”¨äºå¾®è°ƒå¤§å‹é¢„è®­ç»ƒæ¨¡å‹çš„æŠ€æœ¯ï¼Œå®ƒé€šè¿‡ä½ç§©åˆ†è§£æ¥å‡å°‘å¯è®­ç»ƒå‚æ•°çš„æ•°é‡ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºé¢„è®­ç»ƒæ¨¡å‹ä¸­çš„æŸä¸ªæƒé‡çŸ©é˜µWï¼ŒLoRAå¼•å…¥ä¸¤ä¸ªè¾ƒå°çš„çŸ©é˜µAå’ŒBï¼Œä½¿å¾—åŸæ¥çš„æƒé‡æ›´æ–°Î”Wå¯ä»¥è¡¨ç¤ºä¸ºBAã€‚è¿™æ ·ï¼Œè®­ç»ƒçš„æ—¶å€™åªéœ€è¦æ›´æ–°Aå’ŒBï¼Œè€Œä¸æ˜¯æ•´ä¸ªWï¼Œä»è€ŒèŠ‚çœäº†è®¡ç®—èµ„æºå’Œå†…å­˜ã€‚\n\u003e\n\u003e é‚£é—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆåˆå§‹åŒ–çš„æ—¶å€™ï¼ŒAæ˜¯éšæœºçš„ï¼Œè€ŒBæ˜¯é›¶å‘¢ï¼Ÿå¯èƒ½çš„è§£é‡Šæ˜¯ï¼Œè¿™æ ·åˆå§‹åŒ–åï¼Œåˆå§‹çš„Î”Wï¼ˆå³BAï¼‰æ˜¯é›¶çŸ©é˜µï¼Œè¿™æ ·åœ¨è®­ç»ƒå¼€å§‹æ—¶ï¼Œæ¨¡å‹çš„è¡Œä¸ºå’ŒåŸå§‹é¢„è®­ç»ƒæ¨¡å‹ä¿æŒä¸€è‡´ï¼Œä¸ä¼šå› ä¸ºéšæœºåˆå§‹åŒ–å¸¦æ¥å¤§çš„æ‰°åŠ¨ã€‚å› ä¸ºå¦‚æœBåˆå§‹åŒ–ä¸ºé›¶ï¼Œæ— è®ºAæ˜¯ä»€ä¹ˆï¼ŒBAéƒ½æ˜¯é›¶ï¼Œæ‰€ä»¥Î”Wåˆå§‹ä¸ºé›¶ï¼Œè¿™æ ·æ¨¡å‹çš„åˆå§‹è¾“å‡ºä¸ä¼šæ”¹å˜ï¼Œä¿è¯äº†è®­ç»ƒçš„ç¨³å®šæ€§ã€‚\n\u003e\n\u003e ä¸è¿‡ï¼Œè¿™é‡Œå¯èƒ½æœ‰ä¸€ä¸ªç–‘é—®ï¼šå¦‚æœBåˆå§‹åŒ–ä¸ºé›¶ï¼Œé‚£ä¹ˆåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¢¯åº¦æ˜¯å¦‚ä½•æ›´æ–°çš„å‘¢ï¼Ÿå› ä¸ºå¦‚æœBä¸€å¼€å§‹æ˜¯é›¶ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡åå‘ä¼ æ’­æ—¶ï¼ŒBçš„æ¢¯åº¦å¯èƒ½ä¾èµ–äºAçš„å€¼ã€‚è€ŒAæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥å¯èƒ½æ¢¯åº¦ä¼šæœ‰å˜åŒ–ã€‚ä¸è¿‡ï¼Œå› ä¸ºAæ˜¯éšæœºçš„ï¼Œåˆå§‹çš„BAæ˜¯é›¶ï¼Œè¿™æ ·åœ¨ç¬¬ä¸€æ¬¡å‰å‘ä¼ æ’­æ—¶ï¼ŒÎ”Wä¸å½±å“åŸå§‹æƒé‡ï¼Œå› æ­¤æŸå¤±å‡½æ•°å’ŒåŸå§‹æ¨¡å‹ä¸€æ ·ï¼Œæ¢¯åº¦å¯èƒ½ä»è¯¯å·®ä¿¡å·å¼€å§‹ç´¯ç§¯ï¼Œé€æ­¥è°ƒæ•´Aå’ŒBçš„å‚æ•°ã€‚\n\u003e\n\u003e å¦å¤–ï¼Œå¯èƒ½è¿˜æœ‰å‚æ•°æ›´æ–°çš„è€ƒè™‘ã€‚ä¾‹å¦‚ï¼Œå¦‚æœAæ˜¯éšæœºåˆå§‹åŒ–ï¼ŒBåˆå§‹åŒ–ä¸ºé›¶ï¼Œé‚£ä¹ˆåœ¨è®­ç»ƒå¼€å§‹æ—¶ï¼Œå‚æ•°çš„å˜åŒ–ä»é›¶å¼€å§‹é€æ­¥å¢åŠ ï¼Œè¿™ç±»ä¼¼äºæ®‹å·®è¿æ¥çš„æ€æƒ³ï¼Œå³åˆå§‹æ—¶æ²¡æœ‰æ”¹å˜ï¼Œç„¶åé€æ¸å­¦ä¹ è°ƒæ•´ã€‚è¿™æœ‰åŠ©äºè®­ç»ƒçš„ç¨³å®šæ€§ï¼Œé¿å…äº†åˆå§‹é˜¶æ®µçš„å¤§å¹…åº¦æ³¢åŠ¨ã€‚\n\u003e\n\u003e å†æƒ³ä¸€ä¸‹ï¼Œå¦‚æœåè¿‡æ¥ï¼ŒæŠŠAåˆå§‹åŒ–ä¸ºé›¶ï¼ŒBéšæœºåˆå§‹åŒ–ï¼Œé‚£ä¹ˆÎ”Wä¸€å¼€å§‹å°±æ˜¯é›¶ï¼Œå› ä¸ºAæ˜¯é›¶ï¼Œè¿™æ ·å¯èƒ½æ— æ³•æœ‰æ•ˆè®­ç»ƒï¼Œå› ä¸ºæ— è®ºBå¦‚ä½•å˜åŒ–ï¼Œå¦‚æœAæ˜¯é›¶çš„è¯ï¼ŒÎ”Wå§‹ç»ˆæ˜¯é›¶ï¼Œé™¤éAè¢«æ›´æ–°ã€‚ä½†é€šå¸¸æ¥è¯´ï¼Œå‚æ•°éœ€è¦ä¸€å®šçš„éšæœºæ€§æ¥æ‰“ç ´å¯¹ç§°æ€§ï¼Œä½¿å¾—æ¢¯åº¦å¯ä»¥æœ‰æ•ˆåœ°æ›´æ–°ä¸åŒçš„å‚æ•°ã€‚æ‰€ä»¥å¯èƒ½å¦‚æœAåˆå§‹åŒ–ä¸ºé›¶ï¼Œé‚£ä¹ˆåç»­çš„æ›´æ–°å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ï¼Œå› ä¸ºæ¢¯åº¦å¯èƒ½éœ€è¦åŒæ—¶æ›´æ–°Aå’ŒBæ‰èƒ½æœ‰æ•ˆï¼Œè€Œåˆå§‹æ—¶Açš„æ¢¯åº¦å¯èƒ½å¾ˆå°ï¼Œå¯¼è‡´è®­ç»ƒç¼“æ…¢ã€‚å› æ­¤ï¼Œå°†Aéšæœºåˆå§‹åŒ–ï¼ŒBåˆå§‹åŒ–ä¸ºé›¶ï¼Œå¯ä»¥ç¡®ä¿åˆå§‹çš„Î”Wä¸ºé›¶ï¼ŒåŒæ—¶Açš„éšæœºæ€§å…è®¸æ¢¯åº¦åœ¨åå‘ä¼ æ’­æ—¶æœ‰æ•ˆåœ°æ›´æ–°å‚æ•°ï¼Œè€Œä¸ä¼šå¯¼è‡´åˆå§‹é˜¶æ®µçš„å¤§åå·®ã€‚\n\u003e\n\u003e æ€»ç»“ä¸€ä¸‹ï¼Œå¯èƒ½çš„åŸå› åŒ…æ‹¬ï¼š\n\u003e\n\u003e 1. ä¿æŒåˆå§‹Î”Wä¸ºé›¶ï¼Œä½¿å¾—æ¨¡å‹å¼€å§‹è®­ç»ƒæ—¶å’ŒåŸå§‹é¢„è®­ç»ƒæ¨¡å‹ä¸€è‡´ï¼Œè®­ç»ƒç¨³å®šæ€§ã€‚\n\u003e\n\u003e 2. éšæœºåˆå§‹åŒ–Aå¯ä»¥æ‰“ç ´å¯¹ç§°æ€§ï¼Œå…è®¸æ¢¯åº¦æœ‰æ•ˆæ›´æ–°å‚æ•°ï¼Œè€ŒBåˆå§‹åŒ–ä¸ºé›¶åˆ™ä¿è¯åˆå§‹æ—¶æ²¡æœ‰æ”¹å˜æƒé‡ï¼Œè¿™æ ·è®­ç»ƒå¯ä»¥é€æ­¥è¿›è¡Œã€‚\n\u003e\n\u003e 3. å¦‚æœBåˆå§‹åŒ–ä¸ºéé›¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´åˆå§‹Î”Wä¸ä¸ºé›¶ï¼Œä»è€Œå¼•å…¥ä¸å¿…è¦çš„å™ªå£°ï¼Œå½±å“è®­ç»ƒåˆå§‹é˜¶æ®µçš„ç¨³å®šæ€§ã€‚\n\u003e\n\u003e å¯èƒ½è¿˜æœ‰å…¶ä»–åŸå› ï¼Œæ¯”å¦‚ä¼˜åŒ–å™¨çš„åŠ¨æ€ç‰¹æ€§ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½¿ç”¨Adamè¿™æ ·çš„ä¼˜åŒ–å™¨ï¼Œå‚æ•°çš„åˆå§‹æ­¥é•¿å¯èƒ½ä¼šæ ¹æ®æ¢¯åº¦çš„å†å²è¿›è¡Œè°ƒæ•´ã€‚å¦‚æœBåˆå§‹åŒ–ä¸ºé›¶ï¼Œé‚£ä¹ˆåœ¨æœ€åˆçš„å‡ æ¬¡è¿­ä»£ä¸­ï¼ŒBçš„æ¢¯åº¦å¯èƒ½ä¼šè¾ƒå°ï¼Œä»è€Œè°ƒæ•´å…¶å­¦ä¹ ç‡ï¼Œè€ŒAçš„éšæœºåˆå§‹åŒ–å¯èƒ½æœ‰åŠ©äºæ¢¯åº¦æ–¹å‘çš„å¤šæ ·æ€§ï¼Œä¿ƒè¿›æœ‰æ•ˆçš„å‚æ•°æ›´æ–°ã€‚\n\u003e\n\u003e å¦å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘çŸ©é˜µä¹˜æ³•çš„é¡ºåºã€‚åœ¨LoRAä¸­ï¼ŒÎ”W = B*Aï¼Œå‡è®¾Açš„ç»´åº¦æ˜¯dÃ—rï¼ŒBçš„ç»´åº¦æ˜¯rÃ—dï¼Œé‚£ä¹ˆBAçš„ä¹˜ç§¯æ˜¯dÃ—dçš„çŸ©é˜µï¼Œä¸åŸæƒé‡çŸ©é˜µWçš„å¤§å°ç›¸åŒã€‚å½“Båˆå§‹åŒ–ä¸ºé›¶æ—¶ï¼Œæ— è®ºAçš„å€¼å¦‚ä½•ï¼ŒÎ”Wéƒ½æ˜¯é›¶ï¼Œè¿™æ ·åˆå§‹çš„æ¨¡å‹è¾“å‡ºä¸ä¼šæ”¹å˜ã€‚ç„¶åï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡è°ƒæ•´Bå’ŒAæ¥é€æ¸å­¦ä¹ Î”Wã€‚è¿™å¯èƒ½æ¯”åŒæ—¶éšæœºåˆå§‹åŒ–ä¸¤è€…æ›´ç¨³å®šï¼Œå› ä¸ºå¦‚æœä¸¤è€…éƒ½éšæœºåˆå§‹åŒ–ï¼ŒÎ”Wå¯èƒ½ä¼šæœ‰ä¸€ä¸ªè¾ƒå¤§çš„åˆå§‹å€¼ï¼Œå½±å“æ¨¡å‹çš„åˆå§‹è¡¨ç°ã€‚\n\u003e\n\u003e ä¾‹å¦‚ï¼Œå‡è®¾Aå’ŒBéƒ½æ˜¯éšæœºé«˜æ–¯åˆå§‹åŒ–ï¼Œå‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸ºÏƒã€‚é‚£ä¹ˆBAçš„å…ƒç´ å°†æ˜¯ä¸¤ä¸ªç‹¬ç«‹é«˜æ–¯å˜é‡çš„ä¹˜ç§¯ä¹‹å’Œï¼Œè¿™å¯èƒ½ä¼šæœ‰è¾ƒå¤§çš„æ–¹å·®ï¼Œå¯¼è‡´Î”Wçš„åˆå§‹å€¼è¾ƒå¤§ï¼Œå¯èƒ½å¹²æ‰°é¢„è®­ç»ƒæ¨¡å‹çš„åŸå§‹æƒé‡ï¼Œå¯¼è‡´è®­ç»ƒåˆæœŸçš„ä¸ç¨³å®šã€‚è€Œå°†Båˆå§‹åŒ–ä¸ºé›¶ï¼Œåˆ™é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºåˆå§‹æ—¶Î”Wä¸ºé›¶ï¼Œä¹‹åéšç€è®­ç»ƒé€æ¸è°ƒæ•´ï¼Œè¿™æ ·æ›´å®‰å…¨ã€‚\n\u003e\n\u003e æ­¤å¤–ï¼Œè¿™ç§åˆå§‹åŒ–æ–¹å¼å¯èƒ½ç±»ä¼¼äºæ®‹å·®ç½‘ç»œä¸­çš„æ®‹å·®å—åˆå§‹åŒ–ï¼Œå°†æ®‹å·®è·¯å¾„åˆå§‹åŒ–ä¸ºé›¶ï¼Œä½¿å¾—åˆå§‹é˜¶æ®µç½‘ç»œä¸»è¦ä¾èµ–åŸå§‹è·¯å¾„ï¼Œç„¶åé€æ­¥å­¦ä¹ æ®‹å·®è°ƒæ•´ã€‚ç±»ä¼¼çš„æ€è·¯å¯èƒ½è¢«åº”ç”¨åˆ°äº†LoRAä¸­ï¼Œå³åˆå§‹æ—¶ä¸æ”¹å˜åŸæ¨¡å‹ï¼Œé€æ­¥è¿›è¡Œä½ç§©è°ƒæ•´ã€‚\n\u003e\n\u003e è¿˜æœ‰ä¸€ä¸ªè§’åº¦æ˜¯å‚æ•°çš„æ¢¯åº¦è®¡ç®—ã€‚å½“Båˆå§‹åŒ–ä¸ºé›¶æ—¶ï¼Œç¬¬ä¸€æ¬¡å‰å‘ä¼ æ’­ä¸­ï¼ŒBAä¸ºé›¶ï¼Œå› æ­¤åœ¨åå‘ä¼ æ’­æ—¶ï¼ŒæŸå¤±å‡½æ•°å¯¹Bçš„æ¢¯åº¦å°†ä¾èµ–äºAçš„å€¼ã€‚ç”±äºAæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œè¿™æ ·Bçš„æ¢¯åº¦ä¼šæœ‰ä¸€å®šçš„æ–¹å‘æ€§ï¼Œä»è€Œå…è®¸Bè¢«æœ‰æ•ˆåœ°æ›´æ–°ã€‚ç›¸åï¼Œå¦‚æœAåˆå§‹åŒ–ä¸ºé›¶ï¼Œé‚£ä¹ˆBçš„æ¢¯åº¦ä¹Ÿä¼šæ˜¯é›¶ï¼Œå¯¼è‡´æ— æ³•æ›´æ–°å‚æ•°ã€‚å› æ­¤ï¼Œå¿…é¡»å°†Aéšæœºåˆå§‹åŒ–ï¼Œä»¥ä¾¿åœ¨ç¬¬ä¸€æ¬¡åå‘ä¼ æ’­æ—¶ï¼ŒBèƒ½å¤Ÿè·å¾—æœ‰æ•ˆçš„æ¢¯åº¦ã€‚\n\u003e\n\u003e ä¾‹å¦‚ï¼Œå‡è®¾æŸå¤±å‡½æ•°Lå¯¹Bçš„æ¢¯åº¦æ˜¯âˆ‚L/âˆ‚B = (âˆ‚L/âˆ‚(BA)) * A^Tã€‚å¦‚æœAåˆå§‹åŒ–ä¸ºé›¶ï¼Œé‚£ä¹ˆæ¢¯åº¦âˆ‚L/âˆ‚Bä¹Ÿä¸ºé›¶ï¼Œå¯¼è‡´Bæ— æ³•è¢«æ›´æ–°ã€‚è€Œå¦‚æœAæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œåˆ™æ¢¯åº¦ä¸ä¸ºé›¶ï¼Œå…è®¸Bè¢«æ›´æ–°ã€‚åŒæ—¶ï¼ŒBåˆå§‹åŒ–ä¸ºé›¶ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡æ›´æ–°æ—¶ï¼ŒBçš„å€¼ä¼šæ ¹æ®æ¢¯åº¦è°ƒæ•´ï¼Œè€ŒAä¹Ÿä¼šæ ¹æ®æ¢¯åº¦è¿›è¡Œæ›´æ–°ã€‚è¿™æ ·ï¼Œä¸¤è€…å¯ä»¥ååŒå·¥ä½œï¼Œé€æ¸æ„å»ºå‡ºæœ‰æ•ˆçš„ä½ç§©æ›´æ–°çŸ©é˜µã€‚\n\u003e\n\u003e å› æ­¤ï¼Œæ€»ç»“å¯èƒ½çš„åŸå› ï¼š\n\u003e\n\u003e - ä¿æŒåˆå§‹Î”Wä¸ºé›¶ï¼Œç»´æŒé¢„è®­ç»ƒæ¨¡å‹çš„åˆå§‹è¡¨ç°ï¼Œä¿è¯è®­ç»ƒç¨³å®šæ€§ã€‚\n\u003e\n\u003e - éšæœºåˆå§‹åŒ–Aæ‰“ç ´å¯¹ç§°æ€§ï¼Œå…è®¸æ¢¯åº¦æœ‰æ•ˆæ›´æ–°Bçš„å‚æ•°ã€‚\n\u003e\n\u003e - é¿å…åˆå§‹Î”Wçš„éšæœºæ€§å¸¦æ¥çš„å¹²æ‰°ï¼Œåªé€šè¿‡è®­ç»ƒè¿‡ç¨‹é€æ­¥è°ƒæ•´ã€‚\n\u003e\n\u003e - å¦‚æœAåˆå§‹åŒ–ä¸ºéé›¶è€ŒBä¸ºé›¶ï¼Œè¿™æ ·BAä¸ºé›¶ï¼ŒåŒæ—¶å…è®¸æ¢¯åº¦åœ¨åå‘ä¼ æ’­æ—¶æœ‰æ•ˆä¼ é€’åˆ°Bï¼Œä»è€Œå¯åŠ¨è®­ç»ƒè¿‡ç¨‹ã€‚\n\u003e\n\u003e å¯èƒ½è¿˜æœ‰å…¶ä»–å› ç´ ï¼Œæ¯”å¦‚å®ç°ä¸Šçš„ç®€ä¾¿æ€§ï¼Œæˆ–è€…å®éªŒéªŒè¯è¿‡è¿™ç§åˆå§‹åŒ–æ–¹å¼çš„æ•ˆæœæ›´å¥½ã€‚ä½†æ ¸å¿ƒçš„æ•°å­¦å’Œä¼˜åŒ–åŸå› åº”è¯¥æ˜¯ä¸Šè¿°å‡ ç‚¹ã€‚\n\nåœ¨åˆå§‹åŒ–LoRAï¼ˆä½ç§©é€‚åº”ï¼‰æ—¶ï¼ŒçŸ©é˜µAé‡‡ç”¨éšæœºåˆå§‹åŒ–è€ŒçŸ©é˜µBåˆå§‹åŒ–ä¸ºé›¶ï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š\n\n1. **ä¿æŒåˆå§‹æ¨¡å‹ç¨³å®šæ€§**ï¼š  \n   å½“Båˆå§‹åŒ–ä¸ºé›¶æ—¶ï¼Œæ— è®ºAçš„å€¼å¦‚ä½•ï¼Œä½ç§©æ›´æ–°çŸ©é˜µÎ”W = BAåˆå§‹å€¼ä¸ºé›¶ã€‚è¿™ä½¿å¾—å¾®è°ƒå¼€å§‹æ—¶ï¼Œæ¨¡å‹çš„è¾“å‡ºä¸åŸå§‹é¢„è®­ç»ƒæ¨¡å‹å®Œå…¨ä¸€è‡´ï¼Œé¿å…äº†åˆå§‹é˜¶æ®µå› éšæœºæ‰°åŠ¨å¯¼è‡´çš„æ€§èƒ½æ³¢åŠ¨ï¼Œç¡®ä¿äº†è®­ç»ƒçš„ç¨³å®šæ€§ã€‚\n\n2. **æ¢¯åº¦æ›´æ–°çš„æœ‰æ•ˆæ€§**ï¼š  \n   éšæœºåˆå§‹åŒ–Aèƒ½å¤Ÿæ‰“ç ´å¯¹ç§°æ€§ï¼Œä½¿å¾—åå‘ä¼ æ’­æ—¶Bçš„æ¢¯åº¦ä¾èµ–äºAçš„éšæœºåˆå§‹å€¼ï¼ˆâˆ‚L/âˆ‚B = (âˆ‚L/âˆ‚Î”W) Â· Aáµ€ï¼‰ã€‚è‹¥Aåˆå§‹åŒ–ä¸ºé›¶ï¼ŒBçš„æ¢¯åº¦å°†ä¸ºé›¶ï¼Œå¯¼è‡´è®­ç»ƒæ— æ³•å¯åŠ¨ï¼›è€ŒéšæœºAä¸ºéé›¶ï¼Œä½¿å¾—Bçš„æ¢¯åº¦åœ¨ç¬¬ä¸€æ¬¡æ›´æ–°æ—¶å³å¯æœ‰æ•ˆè°ƒæ•´ã€‚\n\n3. **é€æ­¥å­¦ä¹ ä½ç§©æ›´æ–°**ï¼š  \n   é€šè¿‡Båˆå§‹ä¸ºé›¶ï¼ŒÎ”Wä»é›¶å¼€å§‹é€æ­¥ç§¯ç´¯æ›´æ–°é‡ï¼Œç±»ä¼¼äºæ®‹å·®å­¦ä¹ çš„æ€æƒ³ã€‚è¿™ç§ç­–ç•¥è®©æ¨¡å‹ä¼˜å…ˆä¾èµ–é¢„è®­ç»ƒæƒé‡ï¼Œå†é€æ¸å­¦ä¹ ä½ç§©è°ƒæ•´ï¼Œé¿å…äº†åˆå§‹è¾ƒå¤§çš„éšæœºÎ”Wå¯¹é¢„è®­ç»ƒçŸ¥è¯†çš„å¹²æ‰°ã€‚\n\n4. **ä¼˜åŒ–åŠ¨æ€çš„åˆç†æ€§**ï¼š  \n   è‹¥Aå’ŒBå‡éšæœºåˆå§‹åŒ–ï¼ŒÎ”Wçš„åˆå§‹å€¼å¯èƒ½å…·æœ‰è¾ƒå¤§çš„æ–¹å·®ï¼Œå¼•å…¥ä¸å¿…è¦çš„å™ªå£°ã€‚è€ŒBåˆå§‹ä¸ºé›¶æ—¶ï¼ŒÎ”Wçš„åˆå§‹æ–¹å·®ä¸ºé›¶ï¼Œè®­ç»ƒè¿‡ç¨‹ä¸­é€šè¿‡ååŒä¼˜åŒ–Aå’ŒBé€æ­¥å¼•å…¥æ›´æ–°ï¼Œæ›´ç¬¦åˆä½ç§©é€‚åº”çš„è®¾è®¡ç›®æ ‡ã€‚\n\nç»¼ä¸Šï¼Œè¿™ç§åˆå§‹åŒ–æ–¹å¼åœ¨æ•°å­¦ä¸Šç¡®ä¿äº†è®­ç»ƒçš„é«˜æ•ˆå¯åŠ¨ï¼ŒåŒæ—¶åœ¨å·¥ç¨‹å®è·µä¸­æå‡äº†å¾®è°ƒçš„ç¨³å®šæ€§å’Œæ•ˆæœã€‚\n\n## Q: BçŸ©é˜µéšæœºåˆå§‹åŒ–è€ŒAçŸ©é˜µåˆå§‹åŒ–æ—¶è®¾ä¸º 0 ä¸è¡Œå—ï¼Ÿ\n\n\u003e [!reasoning]-\n\u003e å¥½çš„ï¼Œç”¨æˆ·é—®å¦‚æœBçŸ©é˜µéšæœºåˆå§‹åŒ–è€ŒAçŸ©é˜µåˆå§‹åŒ–ä¸º0è¡Œä¸è¡Œã€‚æˆ‘éœ€è¦ä»”ç»†åˆ†æè¿™ä¸ªé—®é¢˜ã€‚é¦–å…ˆï¼Œå›æƒ³ä¸€ä¸‹ä¹‹å‰çš„å¯¹è¯ï¼Œç”¨æˆ·å·²ç»äº†è§£äº†LoRAåˆå§‹åŒ–æ—¶Aéšæœºï¼ŒBä¸º0çš„åŸå› ã€‚ç°åœ¨ä»–æƒ³åè¿‡æ¥ï¼Œå¯èƒ½æ˜¯åœ¨æ€è€ƒæ˜¯å¦æœ‰å…¶ä»–å¯èƒ½æ€§ã€‚\n\u003e\n\u003e æˆ‘éœ€è¦ä»åŸç†å‡ºå‘ï¼Œè€ƒè™‘è¿™ç§åˆå§‹åŒ–æ–¹å¼å¯¹è®­ç»ƒçš„å½±å“ã€‚å¦‚æœAåˆå§‹åŒ–ä¸º0ï¼Œé‚£ä¹ˆÎ”W = BAå°±ä¼šå˜æˆBä¹˜ä»¥0çŸ©é˜µï¼Œä¹Ÿå°±æ˜¯å…¨0ã€‚è¿™æ ·åœ¨è®­ç»ƒå¼€å§‹æ—¶ï¼Œå¾®è°ƒçš„æ¨¡å—ä¸ä¼šå¯¹åŸæ¨¡å‹äº§ç”Ÿå½±å“ï¼Œå’Œä¹‹å‰çš„æƒ…å†µç±»ä¼¼ã€‚ä½†æ˜¯è¿™é‡Œçš„å…³é”®æ˜¯æ¢¯åº¦å¦‚ä½•ä¼ æ’­ã€‚\n\u003e\n\u003e æ ¹æ®é“¾å¼æ³•åˆ™ï¼Œæ¢¯åº¦ä¼šä»æŸå¤±å‡½æ•°ä¼ åˆ°Î”Wï¼Œç„¶ååˆ†è§£åˆ°Bå’ŒAã€‚å¯¹äºAçš„æ¢¯åº¦æ˜¯Bçš„è½¬ç½®ä¹˜ä»¥Î”Wçš„æ¢¯åº¦ï¼Œè€ŒBçš„æ¢¯åº¦æ˜¯Î”Wçš„æ¢¯åº¦ä¹˜ä»¥Açš„è½¬ç½®ã€‚å¦‚æœAåˆå§‹ä¸º0ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡åå‘ä¼ æ’­æ—¶ï¼ŒBçš„æ¢¯åº¦ä¼šæ˜¯Î”Wçš„æ¢¯åº¦ä¹˜ä»¥0çŸ©é˜µï¼Œå¯¼è‡´Bçš„æ¢¯åº¦ä¸º0ã€‚è¿™æ—¶å€™Bæ— æ³•è¢«æ›´æ–°ï¼Œæ•´ä¸ªè®­ç»ƒå°±å¡ä½äº†ã€‚\n\u003e\n\u003e å¦å¤–ï¼ŒAçš„å‚æ•°å¦‚æœåˆå§‹ä¸º0ï¼Œåœ¨ç¬¬ä¸€æ¬¡å‰å‘æ—¶ï¼ŒÎ”Wæ˜¯0ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ã€‚ä½†æ˜¯ç¬¬ä¸€æ¬¡åå‘ä¼ æ’­æ—¶ï¼ŒAçš„æ¢¯åº¦æ˜¯Bè½¬ç½®ä¹˜ä»¥Î”Wçš„æ¢¯åº¦ã€‚å¦‚æœBæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œè¿™æ—¶å€™Açš„æ¢¯åº¦å¯èƒ½ä¼šæœ‰å€¼ï¼Œå¯ä»¥æ›´æ–°Aã€‚ä½†é—®é¢˜åœ¨äºï¼Œå½“Aè¢«æ›´æ–°åï¼Œä¸‹ä¸€æ¬¡å‰å‘æ—¶Î”W = B*Aä¼šæœ‰å˜åŒ–ã€‚ä½†è¿™é‡Œå¯èƒ½æœ‰ä¸€ä¸ªé¡ºåºé—®é¢˜ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡è¿­ä»£æ—¶Aæ˜¯0ï¼Œå¯¼è‡´Î”Wä¸º0ï¼ŒBçš„æ¢¯åº¦æ— æ³•æ›´æ–°ï¼Œè€ŒAçš„æ¢¯åº¦å¯èƒ½æœ‰æ•ˆï¼Œä½†ä¹‹åAè¢«æ›´æ–°åï¼ŒBæ‰ä¼šæœ‰æœºä¼šæ›´æ–°ã€‚è¿™æ—¶å€™æ˜¯å¦ä¼šå¯¼è‡´è®­ç»ƒä¸ç¨³å®šï¼Ÿ\n\u003e\n\u003e å¯èƒ½éœ€è¦æ›´ä»”ç»†åœ°åˆ†ææ¢¯åº¦æµã€‚å‡è®¾Aåˆå§‹ä¸º0ï¼ŒBéšæœºã€‚ç¬¬ä¸€æ¬¡å‰å‘æ—¶ï¼ŒÎ”W=0ï¼Œä¸å½±å“æ¨¡å‹è¾“å‡ºã€‚åå‘ä¼ æ’­æ—¶ï¼Œè®¡ç®—æ¢¯åº¦ï¼Œå¯¹Açš„æ¢¯åº¦æ˜¯âˆ‚L/âˆ‚A = B^T * âˆ‚L/âˆ‚Î”Wã€‚è€ŒBçš„æ¢¯åº¦æ˜¯âˆ‚L/âˆ‚B = âˆ‚L/âˆ‚Î”W * A^Tã€‚å› ä¸ºAåˆå§‹ä¸º0ï¼Œæ‰€ä»¥âˆ‚L/âˆ‚Bä¼šæ˜¯0ï¼Œå¯¼è‡´Båœ¨ç¬¬ä¸€æ¬¡æ›´æ–°æ—¶æ— æ³•è¢«ä¼˜åŒ–ã€‚è€ŒAçš„æ¢¯åº¦åˆ™å–å†³äºBçš„åˆå§‹å€¼å’ŒÎ”Wçš„æ¢¯åº¦ã€‚å¦‚æœBæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œé‚£ä¹ˆAçš„æ¢¯åº¦ä¸ä¸º0ï¼Œå¯ä»¥æ›´æ–°Aã€‚è¿™æ ·åœ¨ç¬¬äºŒæ¬¡å‰å‘æ—¶ï¼ŒAå·²ç»ä¸æ˜¯0äº†ï¼ŒÎ”W=B*Aä¼šæœ‰éé›¶å€¼ï¼Œæ­¤æ—¶Bçš„æ¢¯åº¦ä¹Ÿä¼šå¼€å§‹æ›´æ–°ã€‚\n\u003e\n\u003e è¿™æ ·çœ‹èµ·æ¥å¯èƒ½å¯è¡Œï¼Œä½†å­˜åœ¨ä»€ä¹ˆé—®é¢˜å—ï¼Ÿæ¯”å¦‚è®­ç»ƒåˆæœŸçš„ä¸ç¨³å®šï¼Œæˆ–è€…éœ€è¦æ›´å¤šçš„è¿­ä»£æ‰èƒ½å¯åŠ¨ã€‚ä¸è¿‡åŸæ¥çš„æ–¹æ³•ä¸­ï¼ŒBåˆå§‹ä¸º0ï¼ŒAéšæœºï¼Œå¯ä»¥ä¿è¯Î”Wåˆå§‹ä¸º0ï¼ŒåŒæ—¶Bçš„æ¢¯åº¦åœ¨ç¬¬ä¸€æ¬¡æ›´æ–°æ—¶å°±å¯ä»¥é€šè¿‡Açš„éšæœºå€¼å¾—åˆ°æœ‰æ•ˆæ›´æ–°ã€‚è€Œåè¿‡æ¥ï¼ŒAåˆå§‹ä¸º0ï¼ŒBéšæœºï¼Œå¯¼è‡´Î”Wåˆå§‹ä¸º0ï¼Œä½†Bçš„æ¢¯åº¦åœ¨ç¬¬ä¸€æ¬¡æ— æ³•æ›´æ–°ï¼Œè€ŒAå¯ä»¥æ›´æ–°ã€‚è¿™æ ·åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£åï¼ŒAæœ‰äº†æ›´æ–°å€¼ï¼Œç¬¬äºŒæ¬¡Bæ‰èƒ½å¼€å§‹æ›´æ–°ã€‚è¿™æ ·å¯èƒ½éœ€è¦å¤šä¸€ä¸ªæ­¥éª¤æ‰èƒ½è®©ä¸¤ä¸ªçŸ©é˜µéƒ½å¼€å§‹å­¦ä¹ ï¼Œå¯èƒ½å½±å“æ”¶æ•›é€Ÿåº¦ã€‚\n\u003e\n\u003e å¦å¤–ï¼Œå½“Aåˆå§‹ä¸º0ï¼ŒBéšæœºæ—¶ï¼Œè™½ç„¶Î”Wåˆå§‹ä¸º0ï¼Œä½†æ­¤æ—¶Açš„æ¢¯åº¦ä¾èµ–äºBçš„éšæœºå€¼ï¼Œå¯èƒ½å¯¼è‡´Açš„åˆå§‹æ›´æ–°æ–¹å‘å¸¦æœ‰è¾ƒå¤§çš„éšæœºæ€§ï¼Œè€ŒBæœ¬èº«æ²¡æœ‰è¢«è°ƒæ•´ï¼Œè¿™æ ·å¯èƒ½ä¼šå¼•å…¥æ›´å¤šçš„å™ªå£°ï¼Œå½±å“è®­ç»ƒçš„ç¨³å®šæ€§ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒåŸæ¥çš„æ–¹æ³•ä¸­ï¼ŒAéšæœºï¼ŒBä¸º0ï¼Œè¿™æ ·Î”Wåˆå§‹ä¸º0ï¼Œè€ŒBçš„æ¢¯åº¦ç›´æ¥ç”±Açš„éšæœºå€¼å’ŒæŸå¤±æ¢¯åº¦å†³å®šï¼Œå¯èƒ½æ›´æœ‰æ•ˆã€‚\n\u003e\n\u003e å†è€ƒè™‘ä¼˜åŒ–åŠ¨æ€ï¼ŒåŸæ¥çš„æ–¹æ³•ä¸­ï¼ŒBåˆå§‹ä¸º0ï¼Œæ„å‘³ç€åœ¨åˆå§‹é˜¶æ®µï¼Œåªæœ‰Açš„éšæœºæ€§è¢«å¼•å…¥ï¼Œä½†é€šè¿‡æ¢¯åº¦ä¸‹é™ï¼ŒBå¯ä»¥å¿«é€Ÿè°ƒæ•´ã€‚è€Œåè¿‡æ¥ï¼ŒAåˆå§‹ä¸º0ï¼ŒBéšæœºï¼Œè™½ç„¶Î”Wåˆå§‹ä¸º0ï¼Œä½†Açš„æ›´æ–°å¯èƒ½æ›´å¿«åœ°å¼•å…¥å˜åŒ–ï¼Œè€ŒBçš„è°ƒæ•´æ»åï¼Œå¯èƒ½å¯¼è‡´è®­ç»ƒåˆæœŸçš„ä¸ç¨³å®šã€‚\n\u003e\n\u003e æ€»ç»“æ¥è¯´ï¼Œè™½ç„¶ç†è®ºä¸Šå¯èƒ½å­˜åœ¨å¯è¡Œçš„è·¯å¾„ï¼Œä½†å®é™…ä¸­åŸæ¥çš„åˆå§‹åŒ–æ–¹å¼åœ¨æ¢¯åº¦æ›´æ–°æ•ˆç‡å’Œç¨³å®šæ€§ä¸Šæ›´ä¼˜ã€‚å› æ­¤ï¼Œå°†Aéšæœºã€Båˆå§‹åŒ–ä¸º0æ˜¯æ›´åˆç†çš„é€‰æ‹©ï¼Œè€Œåè¿‡æ¥å¯èƒ½å¯¼è‡´è®­ç»ƒæ•ˆç‡ä½ä¸‹æˆ–æ”¶æ•›å›°éš¾ã€‚\n\nå°†çŸ©é˜µ **B** éšæœºåˆå§‹åŒ–è€ŒçŸ©é˜µ **A** åˆå§‹åŒ–ä¸ºé›¶ï¼Œåœ¨ç†è®ºä¸Šè™½ç„¶å¯èƒ½ï¼Œä½†ä¼šå¯¼è‡´è®­ç»ƒæ•ˆç‡æ˜¾è‘—ä¸‹é™ç”šè‡³å¤±è´¥ã€‚ä»¥ä¸‹æ˜¯å…·ä½“åˆ†æï¼š\n\n---\n\n### **1. æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼šåå‘ä¼ æ’­çš„æ•°å­¦é™åˆ¶**\n- **å‰å‘ä¼ æ’­**ï¼šè‹¥ **A** åˆå§‹åŒ–ä¸ºé›¶ï¼Œåˆ™åˆå§‹çš„æƒé‡æ›´æ–°ä¸ºï¼š\n  $$\n  \\Delta W = B \\cdot A = B \\cdot 0 = 0\n  $$\n  æ­¤æ—¶æ¨¡å‹çš„è¾“å‡ºä¸åŸå§‹é¢„è®­ç»ƒæ¨¡å‹ä¸€è‡´ï¼Œä¸æ ‡å‡† LoRA åˆå§‹åŒ–ç±»ä¼¼ã€‚\n\n- **åå‘ä¼ æ’­**ï¼š\n  - **B çš„æ¢¯åº¦**ï¼š  \n    $$\n    \\frac{\\partial L}{\\partial B} = \\frac{\\partial L}{\\partial \\Delta W} \\cdot A^\\top\n    $$\n    ç”±äº **A** åˆå§‹åŒ–ä¸ºé›¶ï¼Œ**B** çš„æ¢¯åº¦åœ¨ç¬¬ä¸€æ¬¡æ›´æ–°æ—¶ç›´æ¥ä¸ºé›¶ï¼Œå¯¼è‡´ **B** æ— æ³•è¢«ä¼˜åŒ–ï¼ˆæ¢¯åº¦æ¶ˆå¤±ï¼‰ã€‚\n\n  - **A çš„æ¢¯åº¦**ï¼š  \n    $$\n    \\frac{\\partial L}{\\partial A} = B^\\top \\cdot \\frac{\\partial L}{\\partial \\Delta W}\n    $$\n    è™½ç„¶ **A** çš„æ¢¯åº¦ä¸ä¸ºé›¶ï¼ˆå–å†³äºéšæœºåˆå§‹åŒ–çš„ **B**ï¼‰ï¼Œä½† **A** çš„æ›´æ–°éœ€è¦ä¸ **B** çš„æ›´æ–°ååŒæ‰èƒ½æœ‰æ•ˆè°ƒæ•´æƒé‡ã€‚ç”±äº **B** åœ¨åˆå§‹é˜¶æ®µæ— æ³•æ›´æ–°ï¼Œ**A** çš„æ›´æ–°æ–¹å‘ä¼šå—é™äºåˆå§‹éšæœºçš„ **B**ï¼Œå¯¼è‡´ä¼˜åŒ–è¿‡ç¨‹ä¸ç¨³å®šã€‚\n\n---\n\n### **2. è®­ç»ƒæ•ˆç‡çš„æ˜¾è‘—ä¸‹é™**\n- **B çš„å»¶è¿Ÿæ›´æ–°**ï¼š  \n  ç”±äº **B** çš„æ¢¯åº¦åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£æ—¶ä¸ºé›¶ï¼Œå¿…é¡»ç­‰å¾… **A** è¢«æ›´æ–°ä¸ºéé›¶å€¼åï¼Œ**B** çš„æ¢¯åº¦æ‰ä¼šå¼€å§‹æœ‰æ•ˆæ›´æ–°ã€‚è¿™ä¼šå¼•å…¥é¢å¤–çš„è®­ç»ƒå»¶è¿Ÿï¼Œæ˜¾è‘—é™ä½æ”¶æ•›é€Ÿåº¦ã€‚\n\n- **å‚æ•°è€¦åˆé—®é¢˜**ï¼š  \n  LoRA çš„æ ¸å¿ƒè®¾è®¡æ˜¯ **ä½ç§©åˆ†è§£**ï¼ˆ$$\\Delta W = BA$$ï¼‰ï¼Œå…¶æœ‰æ•ˆæ€§ä¾èµ–äº **A** å’Œ **B** çš„ååŒä¼˜åŒ–ã€‚è‹¥ **A** åˆå§‹ä¸ºé›¶ï¼Œä¸¤è€…çš„ä¼˜åŒ–åŠ¨æ€è¢«è§£è€¦ï¼š**A** çš„æ›´æ–°ä¾èµ–äºéšæœºåˆå§‹åŒ–çš„ **B**ï¼Œè€Œ **B** çš„æ›´æ–°åˆéœ€è¦ç­‰å¾… **A** è¢«è°ƒæ•´ã€‚è¿™ç§è€¦åˆæ–­è£‚ä¼šå¯¼è‡´è®­ç»ƒè¿‡ç¨‹ä½æ•ˆä¸”ä¸ç¨³å®šã€‚\n\n---\n\n### **3. ä¸æ ‡å‡† LoRA åˆå§‹åŒ–çš„å¯¹æ¯”**\n- **æ ‡å‡†åˆå§‹åŒ–ï¼ˆAéšæœºï¼ŒB=0ï¼‰çš„ä¼˜åŠ¿**ï¼š  \n  - **B çš„æ¢¯åº¦æœ‰æ•ˆå¯åŠ¨**ï¼š  \n    ç”±äº **A** éšæœºåˆå§‹åŒ–ï¼Œ**B** çš„æ¢¯åº¦ $$\\frac{\\partial L}{\\partial B} = \\frac{\\partial L}{\\partial \\Delta W} \\cdot A^\\top$$ åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£æ—¶å³å¯éé›¶ï¼Œç¡®ä¿ **B** ç«‹å³å‚ä¸ä¼˜åŒ–ã€‚\n  - **å¯¹ç§°æ€§æ‰“ç ´**ï¼š  \n    **A** çš„éšæœºæ€§å¤©ç„¶æ‰“ç ´äº†å‚æ•°å¯¹ç§°æ€§ï¼Œé¿å…äº†æ¢¯åº¦å†²çªã€‚\n  - **ç¨³å®šçš„æ®‹å·®å­¦ä¹ **ï¼š  \n    $$\\Delta W$$ ä»é›¶å¼€å§‹é€æ­¥å¢é•¿ï¼Œç¬¦åˆæ®‹å·®å­¦ä¹ çš„ç‰¹æ€§ï¼Œä¿æŠ¤äº†é¢„è®­ç»ƒçŸ¥è¯†ã€‚\n\n- **åè½¬åˆå§‹åŒ–ï¼ˆA=0ï¼ŒBéšæœºï¼‰çš„åŠ£åŠ¿**ï¼š  \n  - **B çš„æ¢¯åº¦æ¶ˆå¤±**ï¼šåˆå§‹é˜¶æ®µ **B** æ— æ³•æ›´æ–°ï¼Œå¯¼è‡´è®­ç»ƒ\"å†·å¯åŠ¨\"ã€‚\n  - **å‚æ•°ä¼˜åŒ–çš„å†²çª**ï¼š**A** çš„æ›´æ–°æ–¹å‘å—é™äºéšæœºåˆå§‹åŒ–çš„ **B**ï¼Œå¯èƒ½å¼•å…¥å™ªå£°ã€‚\n\n---\n\n### **4. å®éªŒè§’åº¦çš„éªŒè¯**\nåœ¨å®é™…ä»»åŠ¡ä¸­ï¼ˆå¦‚å¾®è°ƒ GPT æˆ– BERTï¼‰ï¼Œè‹¥å°† **A** åˆå§‹åŒ–ä¸ºé›¶ä¸” **B** éšæœºï¼Œé€šå¸¸ä¼šå¯¼è‡´ä»¥ä¸‹ç°è±¡ï¼š\n1. **è®­ç»ƒæŸå¤±éœ‡è¡**ï¼šç”±äº **A** å’Œ **B** çš„ä¼˜åŒ–åŠ¨æ€ä¸åŒ¹é…ï¼ŒæŸå¤±å‡½æ•°éš¾ä»¥ç¨³å®šä¸‹é™ã€‚\n2. **æ”¶æ•›é€Ÿåº¦ç¼“æ…¢**ï¼šéœ€è¦æ›´å¤šè¿­ä»£æ¬¡æ•°æ‰èƒ½è¾¾åˆ°ä¸æ ‡å‡†åˆå§‹åŒ–ç›¸å½“çš„æ€§èƒ½ã€‚\n3. **æœ€ç»ˆæ€§èƒ½ä¸‹é™**ï¼šå‚æ•°è€¦åˆé—®é¢˜å¯èƒ½å¯¼è‡´æ¨¡å‹é™·å…¥æ¬¡ä¼˜è§£ã€‚\n\n---\n\n### **ç»“è®ºï¼šä¸ºä»€ä¹ˆä¸èƒ½å°† A åˆå§‹åŒ–ä¸ºé›¶ï¼Ÿ**\n- **æ•°å­¦å±‚é¢**ï¼šæ¢¯åº¦æ¶ˆå¤±é—®é¢˜å¯¼è‡´ **B** æ— æ³•åœ¨åˆå§‹é˜¶æ®µæ›´æ–°ï¼Œç ´åäº†ä½ç§©åˆ†è§£çš„ä¼˜åŒ–åŠ¨æ€ã€‚\n- **å·¥ç¨‹å±‚é¢**ï¼šè®­ç»ƒæ•ˆç‡æ˜¾è‘—ä¸‹é™ï¼Œä¸”å¯èƒ½å¼•å…¥ä¸ç¨³å®šæ€§ã€‚\n- **è®¾è®¡å“²å­¦**ï¼šLoRA çš„ç›®æ ‡æ˜¯\"ä»¥æœ€å°çš„æ‰°åŠ¨é«˜æ•ˆè°ƒæ•´é¢„è®­ç»ƒæ¨¡å‹\"ã€‚æ ‡å‡†åˆå§‹åŒ–ï¼ˆAéšæœºï¼ŒB=0ï¼‰é€šè¿‡æ¢¯åº¦ååŒæ€§å’Œæ®‹å·®å­¦ä¹ çš„ç‰¹æ€§ï¼Œå®Œç¾å¥‘åˆè¿™ä¸€ç›®æ ‡ï¼›è€Œåè½¬åˆå§‹åŒ–è¿èƒŒäº†è¿™ä¸€è®¾è®¡åŸåˆ™ã€‚\n\nå› æ­¤ï¼Œ**A éšæœºåˆå§‹åŒ– + B åˆå§‹åŒ–ä¸ºé›¶**æ˜¯å”¯ä¸€åˆç†çš„åˆå§‹åŒ–ç­–ç•¥ã€‚\n\n","title":"LoRAå¾®è°ƒä¸­çš„çŸ©é˜µåˆå§‹åŒ–ç­–ç•¥ï¼šAéšæœºä¸Bé›¶åˆå§‹åŒ–","abstract":"\u003e æœ¬æ–‡æ˜¯ä¸ Deepseek-R1 æ¨¡å‹+Search çš„å¯¹è¯è®°å½•ï¼Œè¯¦ç»†æ¢è®¨äº† LoRAï¼ˆä½ç§©é€‚åº”ï¼‰å¾®è°ƒæŠ€æœ¯ä¸­çŸ©é˜µåˆå§‹åŒ–ç­–ç•¥çš„æ•°å­¦åŸç†ã€‚æ–‡ç« åˆ†æäº†ä¸ºä»€ä¹ˆåœ¨ LoRA ä¸­çŸ©é˜µ A é‡‡ç”¨éšæœºåˆå§‹åŒ–è€ŒçŸ©é˜µ B é‡‡ç”¨é›¶åˆå§‹åŒ–çš„åŸå› ï¼ŒåŒ…æ‹¬ä¿æŒåˆå§‹æ¨¡å‹ç¨³å®šæ€§ã€ç¡®ä¿æ¢¯åº¦æ›´æ–°æœ‰æ•ˆæ€§ã€å®ç°é€æ­¥å­¦ä¹ çš„ä½ç§©æ›´æ–°ç­‰æ–¹é¢ã€‚åŒæ—¶ï¼Œæ–‡ç« ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆåå‘åˆå§‹åŒ–ç­–ç•¥ï¼ˆBéšæœºè€ŒAä¸ºé›¶ï¼‰åœ¨ç†è®ºä¸Šå­˜åœ¨é—®é¢˜ï¼Œä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±å’Œè®­ç»ƒæ•ˆç‡ä¸‹é™ã€‚è¿™äº›åˆ†ææœ‰åŠ©äºç†è§£æ·±åº¦å­¦ä¹ ä¸­å‚æ•°é«˜æ•ˆå¾®è°ƒæŠ€æœ¯çš„è®¾è®¡åŸç†ã€‚\n\u003e [!reasoning]-\n\u003e å—¯ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯å…³äºLoRAï¼ˆä½ç§©é€‚åº”ï¼‰åˆå§‹åŒ–çš„ã€‚ä¸ºä»€ä¹ˆåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒçŸ©é˜µAæ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œè€ŒçŸ©é˜µBæ˜¯é›¶åˆå§‹åŒ–çš„å‘¢ï¼Ÿæˆ‘éœ€è¦ä»”ç»†æ€è€ƒä¸€ä¸‹ã€‚","length":153,"created_at":"2025-03-05T02:00:00.000Z","updated_at":"2025-03-05T02:00:00.000Z","tags":["æ·±åº¦å­¦ä¹ ","LoRA","å‚æ•°é«˜æ•ˆå¾®è°ƒ","æ¨¡å‹è®­ç»ƒ","å­¦ä¹ ç¬”è®°"],"license":true}},{"pathMapping":{"filePath":"public/content/learn_from_ai/2024-12-08-executable-file-formats.md","pagePath":"/learn_from_ai/executable-file-formats","slug":"executable-file-formats"},"meta":{"content":"\n\u003e æœ¬æ–‡ä»‹ç»äº†å‡ ç§ä¸»è¦çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ï¼ŒåŒ…æ‹¬Linuxç³»ç»Ÿä½¿ç”¨çš„ELFæ ¼å¼ã€Windowsç³»ç»Ÿä½¿ç”¨çš„PEæ ¼å¼ã€ä»¥åŠmacOSç³»ç»Ÿä½¿ç”¨çš„Mach-Oæ ¼å¼ç­‰ã€‚æ–‡ç« è¯¦ç»†è®¨è®ºäº†æ¯ç§æ ¼å¼çš„ç‰¹ç‚¹ã€ä½¿ç”¨å¹³å°å’Œå†å²æ¼”å˜ï¼Œå¸®åŠ©è¯»è€…ç†è§£ä¸åŒæ“ä½œç³»ç»Ÿä¸­äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼çš„å·®å¼‚ã€‚\n\n## Q: è§£é‡Š: ELF æ‰§è¡Œæ–‡ä»¶\n\nELFï¼ˆExecutable and Linkable Formatï¼‰æ‰§è¡Œæ–‡ä»¶æ˜¯ä¸€ç§ç”¨äºLinuxå’Œç±»Unixæ“ä½œç³»ç»Ÿçš„æ ‡å‡†äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ã€‚å®ƒåŒ…å«äº†å¯æ‰§è¡Œç¨‹åºã€å…±äº«åº“ã€ç›®æ ‡æ–‡ä»¶å’Œæ ¸å¿ƒè½¬å‚¨æ–‡ä»¶ã€‚ELFæ–‡ä»¶æ ¼å¼è®¾è®¡çµæ´»ã€å¯æ‰©å±•ï¼Œå¹¶ä¸”å¯ç§»æ¤ï¼Œå®ƒå®šä¹‰äº†ç¨‹åºä»£ç çš„åŠ è½½å’Œæ‰§è¡Œæ–¹å¼ï¼ŒåŒ…æ‹¬ä»£ç æ®µã€æ•°æ®æ®µã€ç¬¦å·è¡¨å’Œé‡å®šä½ä¿¡æ¯ç­‰ã€‚æ“ä½œç³»ç»Ÿæ ¹æ®ELFæ–‡ä»¶ä¸­çš„è¿™äº›ä¿¡æ¯æ¥å’Œæ‰§è¡Œç¨‹åºã€‚ELFæ ¼å¼ä¹Ÿå…è®¸ç¨‹åºå…±äº«åº“ï¼Œå³å¤šä¸ªç¨‹åºå¯ä»¥å…±äº«åŒä¸€æ®µä»£ç ï¼Œä»è€Œå‡å°‘å†…å­˜å ç”¨å¹¶æé«˜æ•ˆç‡ã€‚åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒELFæ–‡ä»¶ä½œä¸ºç›®æ ‡æ–‡ä»¶æ ¼å¼åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆï¼Œå¹¶æœ€ç»ˆç”±é“¾æ¥å™¨ç»„åˆå½¢æˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–å…±äº«åº“ã€‚\n\n## Q: æœ‰ä¸ ELF ç›¸å¹¶åˆ—çš„å¦å¤–çš„ä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼å—ï¼Ÿ\n\næ˜¯çš„ï¼Œé™¤äº†ELFï¼ˆExecutable and Linking Formatï¼‰ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–å‡ ç§å¸¸è§çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼Œå®ƒä»¬åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œå¹³å°ä¸Šè¢«å¹¿æ³›ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼š\n\n1. **PEï¼ˆPortable Executableï¼‰**ï¼š\n   - **ä½¿ç”¨å¹³å°**ï¼šä¸»è¦åœ¨Windowsæ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ã€‚\n   - **ç‰¹ç‚¹**ï¼šPEæ ¼å¼æ˜¯COFFï¼ˆCommon Object File Formatï¼‰çš„æ‰©å±•ï¼Œç”¨äºå¯æ‰§è¡Œæ–‡ä»¶ã€ç›®æ ‡æ–‡ä»¶ã€åŠ¨æ€é“¾æ¥åº“DLLsï¼‰å’Œé©±åŠ¨ç¨‹åºç­‰ã€‚PEæ–‡ä»¶åŒ…å«ä¸€ä¸ªå¤´éƒ¨ï¼ˆPE headerï¼‰ã€èŠ‚è¡¨ï¼ˆsection tableï¼‰å’Œå„ä¸ªèŠ‚ï¼ˆsectionsï¼‰ï¼Œå¦‚ä»£ç èŠ‚ã€æ•°æ®èŠ‚ç­‰ã€‚\n\n2. **Mach-Oï¼ˆMach Objectï¼‰**ï¼š\n   - **ä½¿ç”¨å¹³å°**ï¼šä¸»è¦åœ¨Appleçš„macOSå’ŒiOSæ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ã€‚\n   - **ç‰¹ç‚¹**ï¼šMach-Oæ ¼å¼ç”¨äºå­˜å‚¨å¯æ‰§è¡Œæ–‡ä»¶ã€ç›®æ ‡æ–‡ä»¶å’ŒåŠ¨æ€åº“ã€‚å®ƒåŒ…å«å¤šä¸ªæ®µï¼ˆsegmentså’ŒèŠ‚ï¼ˆsectionsï¼‰ï¼Œæ”¯æŒå¤šç§æ¶æ„ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«å¤šä¸ªæ¶æ„çš„ä»£ç ï¼ˆç§°ä¸º\"fat binary\"ï¼‰ã€‚\n\n3. **COFFï¼ˆCommon Object File Formatï¼‰**ï¼š\n   - **ä½¿ç”¨å¹³å°**ï¼šæ—©æœŸåœ¨Unix System Vå’ŒWindows NTä¸Šä½¿ç”¨ã€‚\n   - **ç‰¹ç‚¹**ï¼šCOFFæ ¼å¼æ˜¯ä¸€ç§é€šç”¨çš„ç›®æ ‡æ–‡ä»¶æ ¼å¼ï¼ŒåŒ…å«ä»£ç ã€æ•°æ®å’Œé‡å®šä½ä¿¡æ¯ã€‚è™½ç„¶ç°åœ¨è¾ƒå°‘ç›´æ¥ä½¿ç”¨ï¼Œä½†å®ƒçš„è®¸å¤šæ¦‚å¿µå’Œç»“æ„è¢«PEå’ŒELFç»§æ‰¿ã€‚\n\n4. **a.outï¼ˆAssembler Outputï¼‰**ï¼š\n   - **ä½¿ç”¨å¹³å°**ï¼šæ—©æœŸUnixç³»ç»Ÿä¸Šä½¿ç”¨ã€‚\n   - **ç‰¹ç‚¹**ï¼ša.outæ˜¯ä¸€ç§è¾ƒç®€å•çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼ŒåŒ…å«å¯æ‰§è¡Œä»£ç ã€æ•°æ®å’Œç¬¦å·è¡¨ã€‚éšç€ELFæ ¼å¼çš„å‡ºç°ï¼Œa.outé€æ¸è¢«æ·˜æ±°ã€‚\n\n5. **DOS MZï¼ˆMark Zbikowskiï¼‰**ï¼š\n   - **ä½¿ç”¨å¹³å°**ï¼šæ—©æœŸDOSå’ŒWindowsç³»ç»Ÿä¸Šä½¿ç”¨ã€‚\n   - **ç‰¹ç‚¹**ï¼šDOSZæ ¼å¼æ˜¯DOSå¯æ‰§è¡Œæ–‡ä»¶çš„æ ¼å¼ï¼Œä»¥\"MZ\"ï¼ˆå¼€å‘è€…Mark Zbikowskiçš„é¦–å­—æ¯ï¼‰ä½œä¸ºæ–‡ä»¶å¤´éƒ¨çš„æ ‡è¯†ã€‚å®ƒè¢«åæ¥çš„PEæ ¼å¼æ‰€å–ä»£ã€‚\n\n6. **COMæ–‡ä»¶**ï¼š\n   - **ä½¿ç”¨å¹³å°**ï¼šæ—©æœŸDOSç³»ç»Ÿä¸Šä½¿ç”¨ã€‚\n   - **ç‰¹ç‚¹**ï¼šCOMæ–‡ä»¶æ˜¯ä¸€ç§éå¸¸ç®€å•çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ï¼Œä»…åŒ…å«ä»£ç å’Œæ•°æ®ï¼Œæ²¡æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œå¤§å°é™åˆ¶ä¸º64KBã€‚\n\nè¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼å„æœ‰ç‰¹ç‚¹ï¼Œé€‚ç”¨äºä¸åŒçš„å’Œåœºæ™¯ã€‚å®ƒä»¬åœ¨æ–‡ä»¶ç»“æ„ã€åŠ è½½æœºåˆ¶å’ŒåŠŸèƒ½æ”¯æŒä¸Šæœ‰æ‰€ä¸åŒï¼Œä½†éƒ½æ—¨åœ¨å®ç°ç¨‹åºä»£ç çš„æœ‰æ•ˆå­˜å‚¨å’Œæ‰§è¡Œã€‚\n\n","title":"å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼å¯¹æ¯”ï¼šELFã€PEã€Mach-Oç­‰","abstract":"\u003e æœ¬æ–‡ä»‹ç»äº†å‡ ç§ä¸»è¦çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ï¼ŒåŒ…æ‹¬Linuxç³»ç»Ÿä½¿ç”¨çš„ELFæ ¼å¼ã€Windowsç³»ç»Ÿä½¿ç”¨çš„PEæ ¼å¼ã€ä»¥åŠmacOSç³»ç»Ÿä½¿ç”¨çš„Mach-Oæ ¼å¼ç­‰ã€‚æ–‡ç« è¯¦ç»†è®¨è®ºäº†æ¯ç§æ ¼å¼çš„ç‰¹ç‚¹ã€ä½¿ç”¨å¹³å°å’Œå†å²æ¼”å˜ï¼Œå¸®åŠ©è¯»è€…ç†è§£ä¸åŒæ“ä½œç³»ç»Ÿä¸­äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼çš„å·®å¼‚ã€‚\nELFï¼ˆExecutable and Linkable Formatï¼‰æ‰§è¡Œæ–‡ä»¶æ˜¯ä¸€ç§ç”¨äºLinuxå’Œç±»Unixæ“ä½œç³»ç»Ÿçš„æ ‡å‡†äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ã€‚å®ƒåŒ…å«äº†å¯æ‰§è¡Œç¨‹åºã€å…±äº«åº“ã€ç›®æ ‡æ–‡ä»¶å’Œæ ¸å¿ƒè½¬å‚¨æ–‡ä»¶ã€‚ELFæ–‡ä»¶æ ¼å¼è®¾è®¡çµæ´»ã€å¯æ‰©å±•ï¼Œå¹¶ä¸”å¯ç§»æ¤ï¼Œå®ƒå®šä¹‰äº†ç¨‹åºä»£ç çš„åŠ è½½å’Œæ‰§è¡Œæ–¹å¼ï¼ŒåŒ…æ‹¬ä»£ç æ®µã€æ•°æ®æ®µã€ç¬¦å·è¡¨å’Œé‡å®šä½ä¿¡æ¯ç­‰ã€‚æ“ä½œç³»ç»Ÿæ ¹æ®ELFæ–‡ä»¶ä¸­çš„è¿™äº›ä¿¡æ¯æ¥å’Œæ‰§è¡Œç¨‹åºã€‚ELFæ ¼å¼ä¹Ÿå…è®¸ç¨‹åºå…±äº«åº“ï¼Œå³å¤šä¸ªç¨‹åºå¯ä»¥å…±äº«åŒä¸€æ®µä»£ç ï¼Œä»è€Œå‡å°‘å†…å­˜å ç”¨å¹¶æé«˜æ•ˆç‡ã€‚åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒELFæ–‡ä»¶ä½œä¸ºç›®æ ‡æ–‡ä»¶æ ¼å¼åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆï¼Œå¹¶æœ€ç»ˆç”±é“¾æ¥å™¨ç»„åˆå½¢æˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–å…±äº«åº“ã€‚\næ˜¯çš„ï¼Œé™¤äº†ELFï¼ˆExecutable and Linking Formatï¼‰ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–å‡ ç§å¸¸è§çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼Œå®ƒä»¬åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œå¹³å°ä¸Šè¢«å¹¿æ³›ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼š","length":38,"created_at":"2024-12-08T02:00:00.000Z","updated_at":"2024-12-08T02:00:00.000Z","tags":["Linux","Windows","macOS","å¯æ‰§è¡Œæ–‡ä»¶","å­¦ä¹ ç¬”è®°"],"license":true}},{"pathMapping":{"filePath":"public/content/learn_from_ai/2024-11-29-opencv-coordinate-system-conventions.md","pagePath":"/learn_from_ai/opencv-coordinate-system-conventions","slug":"opencv-coordinate-system-conventions"},"meta":{"content":"\n\u003e ğŸ“ æœ¬æ–‡æ˜¯æˆ‘åœ¨å­¦ä¹  OpenCV æ—¶é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ã€‚é—®é¢˜çš„è§£ç­”å’Œä¸­æ–‡ç¿»è¯‘å‡ç”± AI ç”Ÿæˆã€‚\n\n## OpenCV åæ ‡è¡¨ç¤ºï¼šç†è§£ (y, x) ä¸ (x, y) çš„åŒºåˆ«\n\n## Q\n\nWhy sometimes opencv represent a point coordinate as (y,x) (e.g. the result of cv2.findContours) , and sometimes it represent as (x, y) (e.g. the arg `center` of cv2.circle)?\n\n\u003e ä¸ºä»€ä¹ˆ OpenCV æœ‰æ—¶ç”¨ (y,x) è¡¨ç¤ºåæ ‡ç‚¹ï¼ˆæ¯”å¦‚ cv2.findContours çš„è¿”å›å€¼ï¼‰ï¼Œæœ‰æ—¶åˆç”¨ (x,y) è¡¨ç¤ºï¼ˆæ¯”å¦‚ cv2.circle å‡½æ•°çš„ `center` å‚æ•°ï¼‰ï¼Ÿ\n\n## A\n\nOpenCV uses different conventions for different functions based on their specific requirements and historical reasons:\n\n\u003e OpenCV åŸºäºä¸åŒå‡½æ•°çš„å…·ä½“éœ€æ±‚å’Œå†å²åŸå› ï¼Œä½¿ç”¨äº†ä¸åŒçš„åæ ‡è¡¨ç¤ºçº¦å®šï¼š\n\n1. **(y, x) Convention**: This is often used when dealing with image matrices directly. In image processing, images are typically represented as 2D arrays where the first dimension is the row (height, y-coordinate) and the second dimension is the column (width, x-coordinate). Functions like `cv2.findContours` return coordinates in this order to match the array indexing.\n\n\u003e 1. **(y, x) çº¦å®š**ï¼šè¿™ç§è¡¨ç¤ºæ–¹æ³•é€šå¸¸ç”¨äºç›´æ¥å¤„ç†å›¾åƒçŸ©é˜µæ—¶ã€‚åœ¨å›¾åƒå¤„ç†ä¸­ï¼Œå›¾åƒé€šå¸¸è¡¨ç¤ºä¸ºäºŒç»´æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ç»´æ˜¯è¡Œï¼ˆé«˜åº¦ï¼Œy åæ ‡ï¼‰ï¼Œç¬¬äºŒç»´æ˜¯åˆ—ï¼ˆå®½åº¦ï¼Œx åæ ‡ï¼‰ã€‚åƒ `cv2.findContours` è¿™æ ·çš„å‡½æ•°è¿”å›è¿™ç§é¡ºåºçš„åæ ‡æ˜¯ä¸ºäº†åŒ¹é…æ•°ç»„ç´¢å¼•æ–¹å¼ã€‚\n\n2. **(x, y) Convention**: This is used in functions that deal with geometric shapes or points in a more traditional Cartesian coordinate system, where `x` is the horizontal axis and `y` is the vertical axis. Functions like `cv2.circle` use this convention to specify the center of the circle.\n\n\u003e 2. **(x, y) çº¦å®š**ï¼šè¿™ç§è¡¨ç¤ºæ–¹æ³•ç”¨äºå¤„ç†å‡ ä½•å›¾å½¢æˆ–åœ¨ä¼ ç»Ÿç¬›å¡å°”åæ ‡ç³»ä¸­çš„ç‚¹ï¼Œå…¶ä¸­ `x` æ˜¯æ°´å¹³è½´ï¼Œ`y` æ˜¯å‚ç›´è½´ã€‚åƒ `cv2.circle` è¿™æ ·çš„å‡½æ•°ä½¿ç”¨è¿™ç§çº¦å®šæ¥æŒ‡å®šåœ†å¿ƒä½ç½®ã€‚\n\nThe inconsistency arises because OpenCV aims to balance between image matrix operations and geometric operations, each having their own conventional coordinate systems.\n\n\u003e è¿™ç§ä¸ä¸€è‡´æ€§çš„å‡ºç°æ˜¯å› ä¸º OpenCV éœ€è¦åœ¨å›¾åƒçŸ©é˜µè¿ç®—å’Œå‡ ä½•è¿ç®—ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œè€Œè¿™ä¸¤ç§è¿ç®—å„è‡ªæœ‰å…¶ä¼ ç»Ÿçš„åæ ‡ç³»ç»Ÿè¡¨ç¤ºæ–¹æ³•ã€‚\n","title":"OpenCV åæ ‡è¡¨ç¤ºï¼šç†è§£ (y, x) ä¸ (x, y) çš„åŒºåˆ«","abstract":"\u003e ğŸ“ æœ¬æ–‡æ˜¯æˆ‘åœ¨å­¦ä¹  OpenCV æ—¶é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ã€‚é—®é¢˜çš„è§£ç­”å’Œä¸­æ–‡ç¿»è¯‘å‡ç”± AI ç”Ÿæˆã€‚\nWhy sometimes opencv represent a point coordinate as (y,x) (e.g. the result of cv2.findContours) , and sometimes it represent as (x, y) (e.g. the arg `center` of cv2.circle)?\n\u003e ä¸ºä»€ä¹ˆ OpenCV æœ‰æ—¶ç”¨ (y,x) è¡¨ç¤ºåæ ‡ç‚¹ï¼ˆæ¯”å¦‚ cv2.findContours çš„è¿”å›å€¼ï¼‰ï¼Œæœ‰æ—¶åˆç”¨ (x,y) è¡¨ç¤ºï¼ˆæ¯”å¦‚ cv2.circle å‡½æ•°çš„ `center` å‚æ•°ï¼‰ï¼Ÿ","length":29,"created_at":"2024-11-29T03:00:00.000Z","updated_at":"2024-11-29T03:00:00.000Z","tags":["OpenCV","å›¾åƒå¤„ç†","å­¦ä¹ ç¬”è®°"],"license":true}},{"pathMapping":{"filePath":"public/content/learn_from_ai/2024-11-29-deep-learning-model-formats.md","pagePath":"/learn_from_ai/deep-learning-model-formats","slug":"deep-learning-model-formats"},"meta":{"content":"\n\u003e æœ¬é¡µé¢ä»‹ç»äº†ä¸‰ç§æœºå™¨å­¦ä¹ æ¨¡å‹æ–‡ä»¶æ ¼å¼ï¼š.pthã€.safetensor å’Œ .onnxã€‚ä¸»è¦å†…å®¹åŒ…æ‹¬æ¯ç§æ ¼å¼çš„å®šä¹‰ã€ä¿å­˜çš„å†…å®¹ã€ç”¨é€”ä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œè½¬æ¢æ–¹æ³•ã€‚\n\n## pytorch ä¿å­˜çš„ .pth æ–‡ä»¶é‡Œéƒ½ä¿å­˜äº†äº›ä»€ä¹ˆä¸œè¥¿ï¼Ÿ\n\nPyTorch ä¸­çš„`.pth`æ–‡ä»¶é€šå¸¸ç”¨äºä¿å­˜æ¨¡å‹çš„æƒé‡ï¼ˆparametersï¼‰å’Œè®­ç»ƒè¿‡ç¨‹ä¸­çš„ä¼˜åŒ–å™¨çŠ¶æ€ï¼ˆoptimizer stateï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œä¸€ä¸ª`.pth`æ–‡ä»¶å¯èƒ½åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š\n\n1. **æ¨¡å‹çŠ¶æ€å­—å…¸ï¼ˆModel state dictionaryï¼‰**ï¼š\n   - è¿™æ˜¯`.pth`æ–‡ä»¶ä¸­æœ€ä¸»è¦çš„éƒ¨åˆ†ï¼Œå®ƒåŒ…å«äº†æ¨¡å‹çš„æ‰€æœ‰æƒé‡ï¼ˆå³ç¥ç»ç½‘ç»œçš„å‚æ•°ï¼‰ï¼ŒåŒ…æ‹¬å·ç§¯å±‚çš„æ»¤æ³¢å™¨ã€å…¨è¿æ¥å±‚çš„æƒé‡å’Œåç½®ç­‰ã€‚\n   - çŠ¶æ€å­—å…¸æ˜¯ä¸€ä¸ªç®€å•çš„ Python å­—å…¸å¯¹è±¡ï¼Œå…¶é”®æ˜¯å±‚çš„åå­—ï¼Œå€¼æ˜¯ç›¸åº”çš„å‚æ•°å¼ é‡ã€‚\n2. **ä¼˜åŒ–å™¨çŠ¶æ€å­—å…¸ï¼ˆOptimizer state dictionaryï¼‰**ï¼š\n   - å½“ä¿å­˜æ¨¡å‹æ—¶ï¼Œé€šå¸¸ä¹Ÿä¼šä¿å­˜ä¼˜åŒ–å™¨çš„çŠ¶æ€ï¼Œè¿™æ ·å¯ä»¥åœ¨æ¨¡å‹è®­ç»ƒä¸­æ–­åï¼Œä»ä¸Šæ¬¡åœæ­¢çš„åœ°æ–¹ç»§ç»­è®­ç»ƒã€‚\n   - ä¼˜åŒ–å™¨çŠ¶æ€å­—å…¸é€šå¸¸åŒ…å«æ¯ä¸ªå‚æ•°çš„æ¢¯åº¦ã€åŠ¨é‡ï¼ˆmomentumï¼‰å’Œå…¶ä»–ä¸ä¼˜åŒ–å™¨ç›¸å…³çš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¾‹å¦‚ Adam ä¼˜åŒ–å™¨çš„çŸ©ä¼°è®¡ï¼‰ã€‚\n3. **å…¶ä»–å¯é€‰ä¿¡æ¯**ï¼š\n   - æœ‰æ—¶å€™ï¼Œ`.pth`æ–‡ä»¶å¯èƒ½è¿˜ä¼šåŒ…å«å…¶ä»–è¾…åŠ©ä¿¡æ¯ï¼Œæ¯”å¦‚è®­ç»ƒçš„æŸå¤±å€¼ã€é¢å¤–çš„å…ƒæ•°æ®æˆ–è€…æ‰¹å¤„ç†å¤§å°ç­‰ï¼Œä½†è¿™äº›ä¿¡æ¯ä¸æ˜¯å¿…é¡»çš„ã€‚\n     ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ PyTorch ä¸­ä¿å­˜å’ŒåŠ è½½`.pth`æ–‡ä»¶ï¼š\n\n```python\n# ä¿å­˜æ¨¡å‹å’Œä¼˜åŒ–å™¨çŠ¶æ€\ntorch.save({\n    'epoch': epoch,\n    'model_state_dict': model.state_dict(),\n    'optimizer_state_dict': optimizer.state_dict(),\n    'loss': loss,\n    ...\n}, 'model.pth')\n# åŠ è½½æ¨¡å‹å’Œä¼˜åŒ–å™¨çŠ¶æ€\ncheckpoint = torch.load('model.pth')\nmodel.load_state_dict(checkpoint['model_state_dict'])\noptimizer.load_state_dict(checkpoint['optimizer_state_dict'])\nepoch = checkpoint['epoch']\nloss = checkpoint['loss']\n...\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`model`æ˜¯ä½ è¦ä¿å­˜çš„æ¨¡å‹å¯¹è±¡ï¼Œ`optimizer`æ˜¯è®­ç»ƒè¯¥æ¨¡å‹ä½¿ç”¨çš„ä¼˜åŒ–å™¨ã€‚é€šè¿‡`torch.save`å‡½æ•°ï¼Œä½ å¯ä»¥å°†æ¨¡å‹çš„çŠ¶æ€å­—å…¸å’Œä¼˜åŒ–å™¨çš„çŠ¶æ€å­—å…¸ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨`torch.load`å‡½æ•°æ¥æ¢å¤è¿™äº›çŠ¶æ€ï¼Œä»¥ä¾¿ç»§ç»­è®­ç»ƒæˆ–è€…è¿›è¡Œæ¨ç†ã€‚\n\n## .safetensor æ–‡ä»¶ä¸­åˆä¿å­˜äº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ\n\n`.safetensor` æ–‡ä»¶æ ¼å¼æ˜¯ç”± Hugging Face çš„ Safety Checker å·¥å…·å¼•å…¥çš„ï¼Œå®ƒæ˜¯ä¸ºäº†åœ¨æ¨¡å‹æ¨ç†æ—¶æä¾›ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚ã€‚`.safetensor` æ–‡ä»¶ä¸­ä¿å­˜çš„å†…å®¹ä¸»è¦åŒ…æ‹¬ï¼š\n\n1. **æ¨¡å‹æƒé‡**ï¼š\n   - è¿™æ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œä¸ PyTorch çš„ `.pth` æ–‡ä»¶ç±»ä¼¼ï¼Œ`.safetensor` æ–‡ä»¶ä¹Ÿä¿å­˜äº†æ¨¡å‹çš„æƒé‡ï¼Œå³ç¥ç»ç½‘ç»œä¸­çš„å‚æ•°ã€‚\n2. **å…ƒæ•°æ®**ï¼š\n   - `.safetensor` æ–‡ä»¶åŒ…å«äº†ä¸€äº›å…ƒæ•°æ®ï¼Œè¿™äº›æ•°æ®æè¿°äº†æ¨¡å‹çš„æ¶æ„ã€æƒé‡å½¢çŠ¶ã€æ•°æ®ç±»å‹ç­‰ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥åœ¨åŠ è½½æ¨¡å‹æ—¶è¿›è¡ŒéªŒè¯å’Œé€‚é…ã€‚\n3. **å®‰å…¨æ€§ä¿¡æ¯**ï¼š\n   - `.safetensor` æ–‡ä»¶å¯èƒ½ä¼šåŒ…å«ä¸æ¨¡å‹å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å“ªäº›å±‚æˆ–å‚æ•°å¯èƒ½éœ€è¦ç‰¹åˆ«çš„å®‰å…¨æ£€æŸ¥ï¼Œä»¥åŠå¯èƒ½çš„é˜ˆå€¼è®¾ç½®ç­‰ã€‚\n     å…·ä½“æ¥è¯´ï¼Œ`.safetensor` æ–‡ä»¶çš„å†…å®¹ç»“æ„å¯èƒ½å¦‚ä¸‹ï¼š\n\n- `weights`: åŒ…å«æ¨¡å‹æƒé‡çš„å­—å…¸ï¼Œé€šå¸¸æ˜¯ä»¥å¼ é‡çš„å½¢å¼å­˜å‚¨ã€‚\n- `metadata`: åŒ…å«æ¨¡å‹çš„å…ƒæ•°æ®ï¼Œå¦‚ç‰ˆæœ¬å·ã€æ¶æ„ä¿¡æ¯ç­‰ã€‚\n- `config`: åŒ…å«æ¨¡å‹é…ç½®ä¿¡æ¯ï¼Œå¦‚æ¨¡å‹ç±»å‹ã€ç±»åç­‰ã€‚\n- `safety`: åŒ…å«æ¨¡å‹å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ã€‚\n  ä½¿ç”¨ `.safetensor` æ–‡ä»¶çš„ç›®çš„ä¹‹ä¸€æ˜¯ä¸ºäº†ç¡®ä¿åœ¨æ¨¡å‹éƒ¨ç½²æ—¶èƒ½å¤Ÿè¿›è¡Œæœ‰æ•ˆçš„å®‰å…¨æ£€æŸ¥ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†ç”Ÿæˆå‹æ¨¡å‹ï¼ˆå¦‚æ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆç­‰ï¼‰æ—¶ï¼Œå¯ä»¥é˜²æ­¢ç”Ÿæˆä¸é€‚å½“çš„å†…å®¹ã€‚\n  è¯·æ³¨æ„ï¼Œ`.safetensor` æ–‡ä»¶æ ¼å¼å¹¶ä¸æ˜¯ PyTorch çš„æ ‡å‡†ä¿å­˜æ ¼å¼ï¼Œè€Œæ˜¯ Hugging Face çš„ç‰¹å®šå®ç°ã€‚å› æ­¤ï¼Œå®ƒå¯èƒ½ä¸å¦‚ `.pth` æ–‡ä»¶é‚£æ ·è¢«å¹¿æ³›ä½¿ç”¨ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨ Hugging Face çš„æ¨¡å‹å’Œå·¥å…·ï¼Œå¯èƒ½ä¼šé‡åˆ° `.safetensor` æ–‡ä»¶ã€‚åœ¨ä½¿ç”¨æ—¶ï¼Œéœ€è¦ç¡®ä¿ä½ çš„ç¯å¢ƒæ”¯æŒè¿™ç§æ ¼å¼ã€‚\n\n## .onnx æ–‡ä»¶ä¸­åˆä¿å­˜äº†ä»€ä¹ˆä¿¡æ¯ï¼Ÿ\n\n`.onnx`ï¼ˆOpen Neural Network Exchangeï¼‰æ–‡ä»¶æ˜¯ä¸€ä¸ªå¼€æ”¾æ ¼å¼ï¼Œç”¨äºè¡¨ç¤ºæœºå™¨å­¦ä¹ æ¨¡å‹ã€‚å®ƒæ—¨åœ¨æä¾›ä¸€ç§æ ‡å‡†çš„æ–¹å¼æ¥è¡¨ç¤ºæ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œä½¿å¾—æ¨¡å‹å¯ä»¥åœ¨ä¸åŒçš„æ¡†æ¶å’Œå·¥å…·ä¹‹é—´è¿›è¡Œè½¬æ¢å’Œäº’æ“ä½œã€‚ä¸€ä¸ª`.onnx`æ–‡ä»¶ä¸­é€šå¸¸åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š\n\n1. **æ¨¡å‹å›¾ï¼ˆModel Graphï¼‰**ï¼š\n   - æ¨¡å‹å›¾å®šä¹‰äº†æ¨¡å‹çš„è®¡ç®—æµç¨‹ï¼Œå®ƒç”±èŠ‚ç‚¹ï¼ˆnodesï¼‰å’Œè¾¹ï¼ˆedgesï¼‰ç»„æˆã€‚\n   - èŠ‚ç‚¹ä»£è¡¨è®¡ç®—æ“ä½œï¼Œå¦‚å·ç§¯ã€çŸ©é˜µä¹˜æ³•ã€æ¿€æ´»å‡½æ•°ç­‰ã€‚\n   - è¾¹ä»£è¡¨èŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®æµï¼Œå³å¼ é‡ï¼ˆtensorsï¼‰çš„æµåŠ¨ã€‚\n2. **åˆå§‹å€¼ï¼ˆInitializersï¼‰**ï¼š\n   - åˆå§‹å€¼åŒ…å«äº†æ¨¡å‹çš„æƒé‡ã€åç½®ç­‰å‚æ•°çš„å€¼ã€‚\n   - è¿™äº›å‚æ•°æ˜¯åœ¨æ¨¡å‹å›¾æ‰§è¡Œä¹‹å‰å°±å·²ç»ç¡®å®šçš„ã€‚\n3. **æ¨¡å‹å±æ€§ï¼ˆAttributesï¼‰**ï¼š\n   - æ¯ä¸ªèŠ‚ç‚¹å¯èƒ½æœ‰ä¸ä¹‹å…³è”çš„å±æ€§ï¼Œè¿™äº›å±æ€§å®šä¹‰äº†èŠ‚ç‚¹çš„å…·ä½“è¡Œä¸ºï¼Œä¾‹å¦‚å·ç§¯æ“ä½œä¸­çš„æ­¥é•¿ï¼ˆstrideï¼‰å’Œå¡«å……ï¼ˆpaddingï¼‰ã€‚\n4. **è¾“å…¥å’Œè¾“å‡ºï¼ˆInputs and Outputsï¼‰**ï¼š\n   - å®šä¹‰äº†æ¨¡å‹çš„è¾“å…¥å’Œè¾“å‡ºå¼ é‡çš„åç§°ã€æ•°æ®ç±»å‹å’Œå½¢çŠ¶ã€‚\n   - è¿™æœ‰åŠ©äºç†è§£æ¨¡å‹æœŸæœ›çš„è¾“å…¥æ ¼å¼ä»¥åŠå®ƒå°†äº§ç”Ÿçš„è¾“å‡ºæ ¼å¼ã€‚\n5. **å…ƒæ•°æ®ï¼ˆMetadataï¼‰**ï¼š\n   - åŒ…æ‹¬æ¨¡å‹çš„åç§°ã€ç‰ˆæœ¬ã€ä½œè€…ã€ç”Ÿäº§æ—¥æœŸç­‰ä¿¡æ¯ã€‚\n   - è¿™äº›ä¿¡æ¯æœ‰åŠ©äºæ¨¡å‹çš„è¿½è¸ªå’Œç®¡ç†ã€‚\n6. **ä¼˜åŒ–ä¿¡æ¯ï¼ˆOptimization Informationï¼‰**ï¼ˆå¯é€‰ï¼‰ï¼š\n   - ä¸€äº›`.onnx`æ–‡ä»¶å¯èƒ½åŒ…å«ç”¨äºä¼˜åŒ–æ¨¡å‹æ‰§è¡Œçš„é¢å¤–ä¿¡æ¯ï¼Œå¦‚èåˆæ“ä½œæˆ–ç‰¹å®šç¡¬ä»¶ä¸Šçš„ä¼˜åŒ–æŒ‡ä»¤ã€‚\n     `.onnx`æ–‡ä»¶çš„ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š\n\n- `ir_version`: ONNX æ ¼å¼çš„ç‰ˆæœ¬å·ã€‚\n- `opset_import`: æ¨¡å‹ä½¿ç”¨çš„æ“ä½œé›†ç‰ˆæœ¬ã€‚\n- `producer_name`: ç”Ÿæˆè¯¥ ONNX æ¨¡å‹çš„å·¥å…·æˆ–åº“çš„åç§°ã€‚\n- `producer_version`: ç”Ÿæˆè¯¥ ONNX æ¨¡å‹çš„å·¥å…·æˆ–åº“çš„ç‰ˆæœ¬ã€‚\n- `graph`: åŒ…å«æ¨¡å‹å›¾çš„ç»“æ„å’Œå±æ€§ã€‚\n  - `node`: è®¡ç®—èŠ‚ç‚¹åˆ—è¡¨ã€‚\n  - `input`: è¾“å…¥åˆ—è¡¨ã€‚\n  - `output`: è¾“å‡ºåˆ—è¡¨ã€‚\n  - `initializer`: åˆå§‹åŒ–å‚æ•°åˆ—è¡¨ã€‚\n  - `value_info`: æä¾›é¢å¤–çš„å¼ é‡ä¿¡æ¯ã€‚\n    ä½¿ç”¨`.onnx`æ–‡ä»¶ï¼Œå¯ä»¥è½»æ¾åœ°å°†æ¨¡å‹ä» PyTorchã€TensorFlowã€Caffe2 ç­‰æ¡†æ¶è½¬æ¢åˆ° ONNX æ ¼å¼ï¼Œç„¶åå†éƒ¨ç½²åˆ°ä¸åŒçš„æ¨ç†å¼•æ“æˆ–ç¡¬ä»¶å¹³å°ä¸Šï¼Œä¾‹å¦‚ä½¿ç”¨ ONNX Runtime è¿›è¡Œæ¨ç†ã€‚è¿™ç§æ ¼å¼æé«˜äº†æ¨¡å‹çš„ä¾¿æºæ€§å’Œäº’æ“ä½œæ€§ã€‚\n\n## ç®€è¿° .pth ï¼Œ .safetensor ï¼Œ .onnx ä¿å­˜çš„ä¿¡æ¯ä¸­ï¼Œæœ‰å“ªäº›æ˜¯ç›¸åŒçš„ï¼Ÿæœ‰å“ªäº›æœ‰åŒºåˆ«ï¼Ÿ\n\n.pth, .safetensor, å’Œ .onnx æ–‡ä»¶æ ¼å¼éƒ½ç”¨äºä¿å­˜æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç›¸å…³ä¿¡æ¯ï¼Œä½†å®ƒä»¬çš„è®¾è®¡ç›®çš„ã€å…¼å®¹æ€§å’ŒåŒ…å«çš„å…·ä½“å†…å®¹æœ‰æ‰€ä¸åŒã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬ä¹‹é—´ç›¸åŒç‚¹å’ŒåŒºåˆ«çš„æ¦‚è¿°ï¼š\n**ç›¸åŒç‚¹ï¼š**\n\n1. **æ¨¡å‹å‚æ•°/æƒé‡**ï¼š\n   - æ‰€æœ‰ä¸‰ç§æ ¼å¼éƒ½ä¿å­˜äº†æ¨¡å‹çš„å‚æ•°æˆ–æƒé‡ï¼Œè¿™äº›æ˜¯è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ åˆ°çš„æ•°å€¼ï¼Œå¯¹äºæ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›è‡³å…³é‡è¦ã€‚\n2. **å…ƒæ•°æ®**ï¼š\n   - å®ƒä»¬éƒ½å¯èƒ½åŒ…å«ä¸€äº›å…ƒæ•°æ®ï¼Œå¦‚æ¨¡å‹çš„ç‰ˆæœ¬ã€åˆ›å»ºæ—¥æœŸæˆ–å…¶ä»–æè¿°æ€§ä¿¡æ¯ï¼Œå°½ç®¡å…·ä½“çš„å…ƒæ•°æ®å†…å®¹å’Œæ ¼å¼å¯èƒ½æœ‰æ‰€ä¸åŒã€‚\n     **åŒºåˆ«ï¼š**\n3. **æ ¼å¼å’Œå…¼å®¹æ€§**ï¼š\n   - `.pth` æ˜¯ PyTorch çš„åŸç”Ÿæ ¼å¼ï¼Œä¸“é—¨ç”¨äºä¿å­˜å’ŒåŠ è½½ PyTorch æ¨¡å‹çš„çŠ¶æ€å­—å…¸ï¼ŒåŒ…æ‹¬æ¨¡å‹æƒé‡å’Œä¼˜åŒ–å™¨çŠ¶æ€ã€‚\n   - `.safetensor` æ˜¯ Hugging Face çš„ Safety Checker å·¥å…·ä½¿ç”¨çš„æ ¼å¼ï¼Œé™¤äº†æ¨¡å‹æƒé‡ï¼Œè¿˜åŒ…å«äº†å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ã€‚\n   - `.onnx` æ˜¯ä¸€ä¸ªå¼€æ”¾çš„ã€è·¨æ¡†æ¶çš„æ ¼å¼ï¼Œç”¨äºåœ¨ä¸åŒçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ä¹‹é—´äº¤æ¢æ¨¡å‹ï¼Œä¸ä»…åŒ…å«æ¨¡å‹ç»“æ„å’Œå‚æ•°ï¼Œè¿˜å®šä¹‰äº†æ¨¡å‹è®¡ç®—å›¾ã€‚\n4. **åŒ…å«å†…å®¹**ï¼š\n   - `.pth` æ–‡ä»¶é€šå¸¸åŒ…å«æ¨¡å‹çš„çŠ¶æ€å­—å…¸å’Œä¼˜åŒ–å™¨çš„çŠ¶æ€å­—å…¸ï¼Œä»¥åŠå¯é€‰çš„å…¶ä»–è®­ç»ƒä¿¡æ¯ï¼ˆå¦‚æŸå¤±å€¼ã€è¿­ä»£æ¬¡æ•°ç­‰ï¼‰ã€‚\n   - `.safetensor` æ–‡ä»¶åŒ…å«æ¨¡å‹æƒé‡ã€å…ƒæ•°æ®ä»¥åŠä¸æ¨¡å‹å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ã€‚\n   - `.onnx` æ–‡ä»¶åŒ…å«æ¨¡å‹è®¡ç®—å›¾ã€èŠ‚ç‚¹å®šä¹‰ã€è¾¹çš„è¿æ¥ã€åˆå§‹å€¼ï¼ˆæ¨¡å‹æƒé‡ï¼‰ã€è¾“å…¥è¾“å‡ºå®šä¹‰ä»¥åŠå¯é€‰çš„ä¼˜åŒ–ä¿¡æ¯ã€‚\n5. **ä½¿ç”¨åœºæ™¯**ï¼š\n   - `.pth` æ–‡ä»¶ä¸»è¦ç”¨äº PyTorch æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†ã€‚\n   - `.safetensor` æ–‡ä»¶ç”¨äºåœ¨ Hugging Face çš„ç”Ÿæ€ç³»ç»Ÿä¸­è¿›è¡Œæ¨¡å‹çš„å®‰å…¨æ£€æŸ¥ã€‚\n   - `.onnx` æ–‡ä»¶ç”¨äºæ¨¡å‹åœ¨ä¸åŒæ¡†æ¶ä¹‹é—´çš„è½¬æ¢å’Œéƒ¨ç½²ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦è·¨å¹³å°æˆ–ç¡¬ä»¶ä¼˜åŒ–çš„åœºæ™¯ä¸­ã€‚\n6. **å¼€æ”¾æ€§å’Œäº’æ“ä½œæ€§**ï¼š\n   - `.onnx` æ ¼å¼çš„è®¾è®¡é‡ç‚¹åœ¨äºå¼€æ”¾æ€§å’Œäº’æ“ä½œæ€§ï¼Œä½¿å…¶æˆä¸ºä¸åŒæ¡†æ¶å’Œå·¥å…·ä¹‹é—´æ¨¡å‹äº¤æ¢çš„æ¡¥æ¢ã€‚\n   - `.pth` å’Œ `.safetensor` æ›´ä¸“æ³¨äºç‰¹å®šæ¡†æ¶æˆ–å·¥å…·é“¾å†…çš„ä½¿ç”¨ã€‚\n     æ€»ç»“æ¥è¯´ï¼Œè¿™ä¸‰ç§æ ¼å¼éƒ½ç”¨äºä¿å­˜æ¨¡å‹æƒé‡ï¼Œä½†å®ƒä»¬åœ¨æ ¼å¼å…¼å®¹æ€§ã€åŒ…å«çš„é¢å¤–ä¿¡æ¯å’Œä½¿ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ã€‚`.onnx` æ ¼å¼æ›´åŠ å¼€æ”¾å’Œé€šç”¨ï¼Œè€Œ `.pth` å’Œ `.safetensor` æ›´ä¸“æ³¨äºç‰¹å®šçš„æ¡†æ¶æˆ–åº”ç”¨éœ€æ±‚ã€‚\n\n## ç®€è¿° .pth ï¼Œ .safetensor ï¼Œ .onnx ä¿å­˜çš„ä¿¡æ¯ä¸­æœ‰å“ªäº›æ˜¯ç›¸åŒçš„ï¼Ÿä¿å­˜çš„ä¿¡æ¯ä¸­åˆæœ‰å“ªäº›æœ‰åŒºåˆ«ï¼Ÿ\n\n.pthã€.safetensor å’Œ.onnx æ–‡ä»¶æ ¼å¼è™½ç„¶éƒ½æ˜¯ä¸ºäº†ä¿å­˜æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç›¸å…³ä¿¡æ¯ï¼Œä½†å®ƒä»¬åœ¨ä¿å­˜çš„å†…å®¹ä¸Šå­˜åœ¨ç›¸åŒç‚¹å’Œå·®å¼‚ã€‚\n**ç›¸åŒç‚¹ï¼š**\n\n1. **æ¨¡å‹å‚æ•°/æƒé‡**ï¼šè¿™ä¸‰ç§æ–‡ä»¶æ ¼å¼éƒ½ä¼šä¿å­˜æ¨¡å‹çš„å‚æ•°æˆ–æƒé‡ï¼Œè¿™äº›æƒé‡æ˜¯æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ åˆ°çš„ï¼Œå¯¹æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›è‡³å…³é‡è¦ã€‚\n2. **å…ƒæ•°æ®**ï¼šå®ƒä»¬éƒ½å¯èƒ½åŒ…å«ä¸€äº›å…ƒæ•°æ®ï¼Œä¾‹å¦‚æ¨¡å‹çš„ç‰ˆæœ¬ã€åˆ›å»ºæ—¥æœŸæˆ–å…¶ä»–æè¿°æ€§ä¿¡æ¯ï¼Œå°½ç®¡å…·ä½“çš„å…ƒæ•°æ®å’Œæ ¼å¼å¯èƒ½å› æ–‡ä»¶æ ¼å¼è€Œå¼‚ã€‚\n   **åŒºåˆ«ï¼š**\n3. **æ ¼å¼å’Œå…¼å®¹æ€§**ï¼š\n   - .pth æ–‡ä»¶æ˜¯ PyTorch çš„åŸç”Ÿæ ¼å¼ï¼Œä¸»è¦ç”¨äºä¿å­˜å’ŒåŠ è½½ PyTorch æ¨¡å‹çš„çŠ¶æ€å­—å…¸ï¼ŒåŒ…æ‹¬æ¨¡å‹æƒé‡å’Œä¼˜åŒ–å™¨çŠ¶æ€ã€‚\n   - .safetensor æ–‡ä»¶æ˜¯ Hugging Face çš„ Safety Checker å·¥å…·ä½¿ç”¨çš„æ ¼å¼ï¼Œé™¤äº†æ¨¡å‹æƒé‡ï¼Œè¿˜åŒ…æ‹¬å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ã€‚\n   - .onnx æ–‡ä»¶æ˜¯ä¸€ç§å¼€æ”¾çš„ã€è·¨æ¡†æ¶çš„æ ¼å¼ï¼Œç”¨äºåœ¨ä¸åŒæ·±åº¦å­¦ä¹ æ¡†æ¶ä¹‹é—´äº¤æ¢æ¨¡å‹ï¼ŒåŒ…å«æ¨¡å‹ç»“æ„å’Œå‚æ•°ä»¥åŠæ¨¡å‹è®¡ç®—å›¾ã€‚\n4. **åŒ…å«å†…å®¹**ï¼š\n   - .pth æ–‡ä»¶é€šå¸¸åŒ…å«æ¨¡å‹çš„çŠ¶æ€å­—å…¸å’Œä¼˜åŒ–å™¨çš„çŠ¶æ€å­—å…¸ï¼Œå¯èƒ½è¿˜åŒ…æ‹¬å…¶ä»–è®­ç»ƒä¿¡æ¯ï¼Œå¦‚æŸå¤±å€¼ã€è¿­ä»£æ¬¡æ•°ç­‰ã€‚\n   - .safetensor æ–‡ä»¶åŒ…å«æ¨¡å‹æƒé‡ã€å…ƒæ•°æ®ä»¥åŠä¸æ¨¡å‹å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ã€‚\n   - .onnx æ–‡ä»¶åŒ…å«æ¨¡å‹è®¡ç®—å›¾ã€èŠ‚ç‚¹å®šä¹‰ã€è¾¹çš„è¿æ¥ã€åˆå§‹å€¼ï¼ˆæ¨¡å‹æƒé‡ï¼‰ã€è¾“å…¥è¾“å‡ºå®šä¹‰ä»¥åŠå¯é€‰çš„ä¼˜åŒ–ä¿¡æ¯ã€‚\n5. **ä½¿ç”¨åœºæ™¯**ï¼š\n   - .pth æ–‡ä»¶ä¸»è¦ç”¨äº PyTorch æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†ã€‚\n   - .safetensor æ–‡ä»¶ç”¨äº Hugging Face ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ¨¡å‹å®‰å…¨æ£€æŸ¥ã€‚\n   - .onnx æ–‡ä»¶ç”¨äºæ¨¡å‹åœ¨ä¸åŒæ¡†æ¶ä¹‹é—´çš„è½¬æ¢å’Œéƒ¨ç½²ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦è·¨å¹³å°æˆ–ç¡¬ä»¶ä¼˜åŒ–çš„åœºæ™¯ä¸­ã€‚\n6. **å¼€æ”¾æ€§å’Œäº’æ“ä½œæ€§**ï¼š\n   - .onnx æ ¼å¼é‡ç‚¹åœ¨äºå¼€æ”¾æ€§å’Œäº’æ“ä½œæ€§ï¼Œä¾¿äºä¸åŒæ¡†æ¶å’Œå·¥å…·ä¹‹é—´æ¨¡å‹äº¤æ¢ã€‚\n   - .pth å’Œ.safetensor æ–‡ä»¶æ›´ä¸“æ³¨äºç‰¹å®šæ¡†æ¶æˆ–å·¥å…·é“¾å†…çš„ä½¿ç”¨ã€‚\n     æ€»ç»“æ¥è¯´ï¼Œè¿™ä¸‰ç§æ–‡ä»¶æ ¼å¼éƒ½ä¿å­˜æ¨¡å‹æƒé‡ï¼Œä½†åœ¨æ ¼å¼å…¼å®¹æ€§ã€åŒ…å«çš„é¢å¤–ä¿¡æ¯å’Œä½¿ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ã€‚.onnx æ ¼å¼æ›´å¼€æ”¾å’Œé€šç”¨ï¼Œè€Œ.pth å’Œ.safetensor åˆ™æ›´ä¸“æ³¨äºç‰¹å®šæ¡†æ¶æˆ–åº”ç”¨éœ€æ±‚ã€‚\n\n## .pth ï¼Œ .safetensor ï¼Œ .onnx ä¸‰ç§æ ¼å¼ï¼Œå„è‡ªèƒ½å¦ç”¨äºæ¨¡å‹çš„ finetunning ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\n\n.pthã€.safetensor å’Œ .onnx ä¸‰ç§æ ¼å¼åœ¨æ¨¡å‹å¾®è°ƒï¼ˆfinetuningï¼‰æ–¹é¢çš„é€‚ç”¨æ€§å„æœ‰ä¸åŒï¼Œä»¥ä¸‹æ˜¯å„è‡ªçš„é€‚ç”¨æ€§åˆ†æï¼š\n**.pth æ ¼å¼ï¼š**\n.pth æ–‡ä»¶å¯ä»¥ç”¨äºæ¨¡å‹çš„å¾®è°ƒã€‚åŸå› å¦‚ä¸‹ï¼š\n\n- .pth æ–‡ä»¶æ˜¯ PyTorch çš„åŸç”Ÿæ ¼å¼ï¼Œå®ƒä¿å­˜äº†æ¨¡å‹çš„çŠ¶æ€å­—å…¸ï¼ŒåŒ…æ‹¬æ¨¡å‹çš„æƒé‡å’Œå¯é€‰çš„ä¼˜åŒ–å™¨çŠ¶æ€ã€‚\n- åœ¨å¾®è°ƒè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åŠ è½½ .pth æ–‡ä»¶ä¸­çš„æ¨¡å‹æƒé‡ï¼Œç„¶åæ ¹æ®æ–°çš„æ•°æ®é›†å¯¹æ¨¡å‹è¿›è¡Œè¿›ä¸€æ­¥çš„è®­ç»ƒã€‚\n- å¦‚æœ .pth æ–‡ä»¶ä¸­åŒ…å«äº†ä¼˜åŒ–å™¨çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ä»¥ä»ä¸­æ–­ç‚¹ç»§ç»­è®­ç»ƒï¼Œè¿™å¯¹äºå¾®è°ƒè¿‡ç¨‹æ˜¯æœ‰å¸®åŠ©çš„ã€‚\n  **.safetensor æ ¼å¼ï¼š**\n  .safetensor æ–‡ä»¶ä¹Ÿå¯ä»¥ç”¨äºæ¨¡å‹çš„å¾®è°ƒï¼Œä½†æœ‰ä¸€äº›é™åˆ¶ï¼š\n- .safetensor æ–‡ä»¶ä¸»è¦æ˜¯ç”± Hugging Face çš„ Safety Checker å·¥å…·ä½¿ç”¨çš„ï¼Œå®ƒä¿å­˜äº†æ¨¡å‹æƒé‡å’Œä¸å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ã€‚\n- è™½ç„¶è¿™ä¸ªæ ¼å¼ä¸»è¦ç”¨äºå®‰å…¨æ£€æŸ¥ï¼Œä½†å®ƒä»ç„¶åŒ…å«äº†æ¨¡å‹æƒé‡ï¼Œå› æ­¤ç†è®ºä¸Šå¯ä»¥ç”¨äºå¾®è°ƒã€‚\n- ä½†æ˜¯ï¼Œç”±äº .safetensor æ–‡ä»¶æ ¼å¼å¯èƒ½ä¸å¦‚ .pth é‚£æ ·è¢«å¹¿æ³›æ”¯æŒï¼Œå› æ­¤åœ¨å¾®è°ƒæ—¶å¯èƒ½éœ€è¦é¢å¤–çš„æ­¥éª¤æ¥è½¬æ¢æ ¼å¼æˆ–åŠ è½½æƒé‡ã€‚\n  **.onnx æ ¼å¼ï¼š**\n  .onnx æ–‡ä»¶åœ¨å¾®è°ƒæ–¹é¢çš„é€‚ç”¨æ€§è¾ƒä½ï¼ŒåŸå› å¦‚ä¸‹ï¼š\n- .onnx æ–‡ä»¶æ˜¯ä¸€ä¸ªå¼€æ”¾çš„ã€è·¨æ¡†æ¶çš„æ ¼å¼ï¼Œå®ƒä¸ä»…åŒ…å«æ¨¡å‹æƒé‡ï¼Œè¿˜å®šä¹‰äº†æ¨¡å‹è®¡ç®—å›¾ã€‚\n- è™½ç„¶ .onnx æ ¼å¼æ”¯æŒåœ¨ä¸åŒçš„æ¡†æ¶ä¹‹é—´è½¬æ¢æ¨¡å‹ï¼Œä½†å®ƒä¸æ˜¯ä¸ºäº†å¾®è°ƒè€Œè®¾è®¡çš„ã€‚è®¡ç®—å›¾æ˜¯å›ºå®šçš„ï¼Œä¸æ˜“äºä¿®æ”¹ã€‚\n- å¦‚æœéœ€è¦å¾®è°ƒ .onnx æ ¼å¼çš„æ¨¡å‹ï¼Œé€šå¸¸éœ€è¦å…ˆå°†æ¨¡å‹è½¬æ¢å›åŸå§‹æ¡†æ¶ï¼ˆå¦‚ PyTorch æˆ– TensorFlowï¼‰ï¼Œç„¶åå†è¿›è¡Œå¾®è°ƒã€‚\n- å› æ­¤ï¼Œç›´æ¥åœ¨ .onnx æ ¼å¼ä¸Šè¿›è¡Œå¾®è°ƒé€šå¸¸ä¸åˆ‡å®é™…ï¼Œé™¤éæœ‰ç‰¹å®šçš„å·¥å…·æˆ–åº“æ”¯æŒè¿™ç§æ“ä½œã€‚\n  æ€»ç»“æ¥è¯´ï¼Œ.pth æ ¼å¼æœ€é€‚åˆç”¨äº PyTorch æ¨¡å‹çš„å¾®è°ƒï¼Œå› ä¸ºå®ƒç›´æ¥ä¸ PyTorch çš„è®­ç»ƒå’Œæ¨ç†æµç¨‹å…¼å®¹ã€‚.safetensor æ ¼å¼ä¹Ÿå¯ä»¥ç”¨äºå¾®è°ƒï¼Œä½†å¯èƒ½éœ€è¦é¢å¤–çš„æ­¥éª¤æ¥å¤„ç†ã€‚è€Œ .onnx æ ¼å¼é€šå¸¸ä¸ç›´æ¥ç”¨äºå¾®è°ƒï¼Œéœ€è¦è½¬æ¢ä¸ºå…¶ä»–æ¡†æ¶æ ¼å¼åæ‰èƒ½è¿›è¡Œå¾®è°ƒã€‚\n\n## .pth ï¼Œ .safetensor ï¼Œ .onnx ä¸‰ç§æ ¼å¼ï¼Œå„è‡ªèƒ½å¦ç”¨äºè®­ç»ƒ LoRA ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\n\nLoRAï¼ˆLow-Rank Adaptationï¼‰æ˜¯ä¸€ç§ç”¨äºå¾®è°ƒå¤§å‹é¢„è®­ç»ƒæ¨¡å‹çš„æŠ€æœ¯ï¼Œå®ƒé€šè¿‡å¼•å…¥ä½ç§©åˆ†è§£æ¥å‡å°‘å¾®è°ƒæ‰€éœ€çš„å‚æ•°æ•°é‡ï¼Œä»è€Œå‡å°‘å­˜å‚¨å’Œè®¡ç®—éœ€æ±‚ã€‚ä»¥ä¸‹æ˜¯å…³äº .pthã€.safetensor å’Œ .onnx æ ¼å¼åœ¨è®­ç»ƒ LoRA æ—¶çš„é€‚ç”¨æ€§åˆ†æï¼š\n**.pth æ ¼å¼ï¼š**\n.pth æ–‡ä»¶å¯ä»¥ç”¨äºè®­ç»ƒ LoRAã€‚åŸå› å¦‚ä¸‹ï¼š\n\n- .pth æ–‡ä»¶æ˜¯ PyTorch çš„åŸç”Ÿæ ¼å¼ï¼Œå¯ä»¥ç›´æ¥ä¿å­˜å’ŒåŠ è½½æ¨¡å‹çš„æƒé‡ï¼ŒåŒ…æ‹¬ LoRA å¼•å…¥çš„ä½ç§©çŸ©é˜µã€‚\n- åœ¨è®­ç»ƒ LoRA æ—¶ï¼Œé€šå¸¸éœ€è¦åœ¨åŸå§‹é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šæ·»åŠ é¢å¤–çš„å‚æ•°ï¼ˆå³ä½ç§©çŸ©é˜µï¼‰ï¼Œè¿™äº›å‚æ•°å¯ä»¥åœ¨ PyTorch ä¸­é€šè¿‡è‡ªå®šä¹‰å±‚æˆ–ä¿®æ”¹ç°æœ‰å±‚æ¥å®ç°ã€‚\n- ç”±äº .pth æ–‡ä»¶ä¸ PyTorch æ¡†æ¶ç´§å¯†é›†æˆï¼Œå› æ­¤å¯ä»¥è½»æ¾åœ°ä¿å­˜å’ŒåŠ è½½ LoRA çš„å‚æ•°ï¼Œå¹¶è¿›è¡Œè®­ç»ƒã€‚\n  **.safetensor æ ¼å¼ï¼š**\n  .safetensor æ–‡ä»¶ä¹Ÿå¯ä»¥ç”¨äºè®­ç»ƒ LoRAï¼Œä½†å¯èƒ½æœ‰ä¸€äº›é™åˆ¶ï¼š\n- .safetensor æ–‡ä»¶æ˜¯ä¸ºäº†æé«˜æ¨¡å‹ä½¿ç”¨çš„å®‰å…¨æ€§è€Œè®¾è®¡çš„ï¼Œå®ƒä¿å­˜äº†æ¨¡å‹æƒé‡å’Œå…¶ä»–ä¸å®‰å…¨æ€§ç›¸å…³çš„ä¿¡æ¯ã€‚\n- å¦‚æœ LoRA çš„å‚æ•°è¢«åŒ…å«åœ¨ .safetensor æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆç†è®ºä¸Šå¯ä»¥ç”¨äºè®­ç»ƒã€‚\n- ç„¶è€Œï¼Œç”±äº .safetensor æ–‡ä»¶æ ¼å¼å¯èƒ½ä¸å¦‚ .pth é‚£æ ·è¢«å¹¿æ³›æ”¯æŒï¼Œå› æ­¤åœ¨è®­ç»ƒ LoRA æ—¶å¯èƒ½éœ€è¦é¢å¤–çš„æ­¥éª¤æ¥å¤„ç†æ–‡ä»¶æ ¼å¼ã€‚\n  **.onnx æ ¼å¼ï¼š**\n  .onnx æ–‡ä»¶åœ¨è®­ç»ƒ LoRA æ–¹é¢é€šå¸¸ä¸é€‚ç”¨ã€‚åŸå› å¦‚ä¸‹ï¼š\n- .onnx æ–‡ä»¶å®šä¹‰äº†æ¨¡å‹çš„è®¡ç®—å›¾å’Œæƒé‡ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªé™æ€çš„æ¨¡å‹æè¿°æ ¼å¼ï¼Œä¸é€‚åˆåŠ¨æ€ä¿®æ”¹æ¨¡å‹ç»“æ„ï¼Œå¦‚æ·»åŠ  LoRA å±‚ã€‚\n- LoRA éœ€è¦åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„ç‰¹å®šå±‚ä¸­æ’å…¥ä½ç§©çŸ©é˜µï¼Œè¿™é€šå¸¸éœ€è¦å¯¹æ¨¡å‹ç»“æ„è¿›è¡Œä¿®æ”¹ï¼Œè€Œ .onnx æ ¼å¼ä¸æ”¯æŒè¿™ç§ä¿®æ”¹ã€‚\n- å¦‚æœéœ€è¦ä½¿ç”¨ .onnx æ–‡ä»¶ä¸­çš„æ¨¡å‹æ¥è®­ç»ƒ LoRAï¼Œé€šå¸¸éœ€è¦å…ˆå°†æ¨¡å‹è½¬æ¢å› PyTorch æˆ–å…¶ä»–æ”¯æŒåŠ¨æ€å›¾ä¿®æ”¹çš„æ¡†æ¶ï¼Œç„¶åå†è¿›è¡Œè®­ç»ƒã€‚\n  æ€»ç»“æ¥è¯´ï¼Œ.pth æ ¼å¼æœ€é€‚åˆç”¨äºè®­ç»ƒ LoRAï¼Œå› ä¸ºå®ƒä¸ PyTorch æ¡†æ¶ç´§å¯†é›†æˆï¼Œæ”¯æŒåŠ¨æ€å›¾å’Œè‡ªå®šä¹‰å±‚çš„æ·»åŠ ã€‚.safetensor æ ¼å¼åœ¨ç†è®ºä¸Šä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†å¯èƒ½éœ€è¦é¢å¤–çš„å¤„ç†æ­¥éª¤ã€‚è€Œ .onnx æ ¼å¼ç”±äºä¸æ”¯æŒåŠ¨æ€ä¿®æ”¹æ¨¡å‹ç»“æ„ï¼Œå› æ­¤ä¸é€‚åˆç›´æ¥ç”¨äºè®­ç»ƒ LoRAã€‚\n\n## pth ï¼Œ safetensor ï¼Œ onnx ï¼Œä¸‰ç§æ ¼å¼å¦‚ä½•ä¸¤ä¸¤è½¬æ¢ï¼Ÿ\n\n.pthã€.safetensor å’Œ .onnx æ–‡ä»¶æ ¼å¼ä¹‹é—´çš„è½¬æ¢é€šå¸¸éœ€è¦é€šè¿‡ç‰¹å®šçš„å·¥å…·å’Œåº“æ¥å®ç°ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨è¿™ä¸‰ç§æ ¼å¼ä¹‹é—´è¿›è¡Œä¸¤ä¸¤è½¬æ¢çš„æ¦‚è¿°ï¼š\n\n### .pth åˆ° .safetensor çš„è½¬æ¢\n\nç›®å‰ï¼Œå¹¶æ²¡æœ‰ç›´æ¥çš„æ ‡å‡†å·¥å…·æ¥å°† .pth æ–‡ä»¶è½¬æ¢ä¸º .safetensor æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œå¯ä»¥æ‰‹åŠ¨åŠ è½½ .pth æ–‡ä»¶ä¸­çš„æƒé‡ï¼Œå¹¶å°†å…¶ä¿å­˜ä¸º .safetensor æ ¼å¼ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹æ­¥éª¤ï¼š\n\n1. ä½¿ç”¨ PyTorch åŠ è½½ .pth æ–‡ä»¶ã€‚\n2. æå–æ¨¡å‹æƒé‡ã€‚\n3. ä½¿ç”¨ Hugging Face çš„ `transformers` åº“æˆ–å…¶ä»–ç›¸å…³å·¥å…·å°†æƒé‡ä¿å­˜ä¸º .safetensor æ–‡ä»¶ã€‚\n\n### .safetensor åˆ° .pth çš„è½¬æ¢\n\nåŒæ ·åœ°ï¼Œå°† .safetensor æ–‡ä»¶è½¬æ¢ä¸º .pth æ–‡ä»¶ä¹Ÿæ²¡æœ‰ç›´æ¥çš„è½¬æ¢å·¥å…·ã€‚ä»¥ä¸‹æ˜¯æ‰‹åŠ¨è½¬æ¢çš„æ­¥éª¤ï¼š\n\n1. ä½¿ç”¨ Hugging Face çš„ `transformers` åº“æˆ–å…¶ä»–ç›¸å…³å·¥å…·åŠ è½½ .safetensor æ–‡ä»¶ã€‚\n2. æå–æ¨¡å‹æƒé‡ã€‚\n3. ä½¿ç”¨ PyTorch å°†æƒé‡ä¿å­˜ä¸º .pth æ–‡ä»¶ã€‚\n\n### .pth åˆ° .onnx çš„è½¬æ¢\n\nPyTorch æä¾›äº†ç›´æ¥å°†æ¨¡å‹è½¬æ¢ä¸º .onnx æ ¼å¼çš„å·¥å…·ï¼š\n\n```python\nimport torch\nimport torch.onnx\n# å‡è®¾ model æ˜¯ä¸€ä¸ª PyTorch æ¨¡å‹\nmodel = ...  # åŠ è½½æˆ–å®šä¹‰æ¨¡å‹\n# å‡è®¾è¾“å…¥æ˜¯ä¸€ä¸ªå¼ é‡ï¼Œå…¶å½¢çŠ¶ä¸æ¨¡å‹è¾“å…¥å…¼å®¹\ninput_sample = torch.randn(batch_size, channels, height, width)\n# å°†æ¨¡å‹è½¬æ¢ä¸º ONNX æ ¼å¼\ntorch.onnx.export(model,               # æ¨¡å‹\n                  input_sample,        # æ¨¡å‹è¾“å…¥ï¼ˆæˆ–ä¸€ä¸ªåŒ…å«è¾“å…¥çš„å…ƒç»„ï¼‰\n                  \"model.onnx\",       # è¾“å‡ºæ–‡ä»¶å\n                  export_params=True,  # æ˜¯å¦å¯¼å‡ºå‚æ•°\n                  opset_version=10,    # ONNX ç®—å­é›†ç‰ˆæœ¬\n                  do_constant_folding=True,  # æ˜¯å¦æ‰§è¡Œå¸¸é‡æŠ˜å ä¼˜åŒ–\n                  input_names=['input'],   # è¾“å…¥å\n                  output_names=['output'], # è¾“å‡ºå\n                  dynamic_axes={'input': {0: 'batch_size'},  # åŠ¨æ€è½´\n                                'output': {0: 'batch_size'}})\n```\n\n### .onnx åˆ° .pth çš„è½¬æ¢\n\nå°† .onnx æ–‡ä»¶è½¬æ¢ä¸º .pth æ–‡ä»¶é€šå¸¸ä¸ç›´æ¥è¿›è¡Œï¼Œå› ä¸º .onnx æ–‡ä»¶åŒ…å«äº†æ¨¡å‹çš„ç»“æ„ä¿¡æ¯ï¼Œè€Œ .pth æ–‡ä»¶åªåŒ…å«æƒé‡ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥é‡æ–°åˆ›å»º PyTorch æ¨¡å‹ç»“æ„ï¼Œç„¶ååŠ è½½ .onnx æ–‡ä»¶ä¸­çš„æƒé‡ï¼š\n\n1. å®šä¹‰ä¸ .onnx æ–‡ä»¶å¯¹åº”çš„ PyTorch æ¨¡å‹ç»“æ„ã€‚\n2. ä½¿ç”¨ `onnx.load` åŠ è½½ .onnx æ–‡ä»¶ã€‚\n3. æå–æƒé‡å¹¶å°†å…¶åŠ è½½åˆ° PyTorch æ¨¡å‹ä¸­ã€‚\n\n### .safetensor åˆ° .onnx çš„è½¬æ¢\n\nç›®å‰æ²¡æœ‰ç›´æ¥çš„æ–¹æ³•å°† .safetensor æ–‡ä»¶è½¬æ¢ä¸º .onnx æ–‡ä»¶ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥å…ˆå°† .safetensor æ–‡ä»¶è½¬æ¢ä¸º .pth æ–‡ä»¶ï¼Œç„¶åå†æŒ‰ç…§ä¸Šè¿°æ–¹æ³•å°† .pth æ–‡ä»¶è½¬æ¢ä¸º .onnx æ–‡ä»¶ã€‚\n\n### .onnx åˆ° .safetensor çš„è½¬æ¢\n\nåŒæ ·åœ°ï¼Œå°† .onnx æ–‡ä»¶è½¬æ¢ä¸º .safetensor æ–‡ä»¶ä¹Ÿæ²¡æœ‰ç›´æ¥çš„è½¬æ¢å·¥å…·ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥å…ˆå°† .onnx æ–‡ä»¶è½¬æ¢ä¸º .pth æ–‡ä»¶ï¼Œç„¶åå†å°† .pth æ–‡ä»¶è½¬æ¢ä¸º .safetensor æ–‡ä»¶ã€‚\nåœ¨è¿›è¡Œè¿™äº›è½¬æ¢æ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè½¬æ¢è¿‡ç¨‹ä¸­å¯èƒ½ä¼šä¸¢å¤±ä¸€äº›ç‰¹å®šçš„ä¿¡æ¯ï¼Œå¦‚ä¼˜åŒ–å™¨çŠ¶æ€æˆ–æ¨¡å‹é…ç½®ï¼Œå› æ­¤åœ¨è½¬æ¢åå¯èƒ½éœ€è¦é¢å¤–çš„æ­¥éª¤æ¥ç¡®ä¿æ¨¡å‹çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§ã€‚\n\n## æˆ‘æœ‰ä¸€ä¸ªä»ç½‘ç»œä¸Šä¸‹è½½çš„ .pth æ–‡ä»¶ `001.pth` ã€‚ç»™æˆ‘ Python ä»£ç ï¼Œå°†å…¶è½¬æ¢ä¸º onnx æ ¼å¼ã€‚\n\nè¦å°†ä¸€ä¸ª `.pth` æ–‡ä»¶è½¬æ¢ä¸º `.onnx` æ ¼å¼ï¼Œä½ éœ€è¦é¦–å…ˆåŠ è½½ `.pth` æ–‡ä»¶ä¸­çš„æ¨¡å‹ï¼Œç„¶åä½¿ç”¨ PyTorch çš„ `torch.onnx.export` å‡½æ•°æ¥è¿›è¡Œè½¬æ¢ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª Python ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•è¿›è¡Œè¿™ä¸€è½¬æ¢è¿‡ç¨‹ã€‚å‡è®¾ä½ å·²ç»æœ‰äº†å¯¹åº”çš„ PyTorch æ¨¡å‹å®šä¹‰ï¼Œå¹¶ä¸” `.pth` æ–‡ä»¶ä¸­åŒ…å«çš„æ˜¯è¯¥æ¨¡å‹çš„æƒé‡ã€‚\nè¯·æ³¨æ„ï¼Œä»¥ä¸‹ä»£ç å‡è®¾ä½ çš„æ¨¡å‹æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ PyTorch æ¨¡å‹ï¼Œå¹¶ä¸”ä½ çŸ¥é“æ¨¡å‹çš„è¾“å…¥å°º ï¿½ï¿½ã€‚ä½ éœ€è¦æ ¹æ®ä½ çš„æ¨¡å‹å®é™…æƒ…å†µæ¥è°ƒæ•´è¾“å…¥å°ºå¯¸å’Œæ¨¡å‹ç»“æ„ã€‚\n\n```python\nimport torch\nimport torch.onnx\n# å‡è®¾æ¨¡å‹ç»“æ„å’Œè¾“å…¥å°ºå¯¸å·²çŸ¥\n# è¿™é‡Œæ˜¯ç¤ºä¾‹æ¨¡å‹ç»“æ„å’Œè¾“å…¥å°ºå¯¸ï¼Œä½ éœ€è¦æ ¹æ®ä½ çš„æ¨¡å‹è¿›è¡Œä¿®æ”¹\nclass MyModel(torch.nn.Module):\n    def __init__(self):\n        super(MyModel, self).__init__()\n        # å®šä¹‰æ¨¡å‹ç»“æ„\n        self.conv1 = torch.nn.Conv2d(3, 16, kernel_size=3, stride=1, padding=1)\n        self.relu = torch.nn.ReLU()\n        self.pool = torch.nn.MaxPool2d(kernel_size=2, stride=2, padding=0)\n        # ... æ·»åŠ æ›´å¤šå±‚ ...\n    def forward(self, x):\n        # å®šä¹‰å‰å‘ä¼ æ’­\n        x = self.conv1(x)\n        x = self.relu(x)\n        x = self.pool(x)\n        # ... åº”ç”¨æ›´å¤šå±‚ ...\n        return x\n# åˆ›å»ºæ¨¡å‹å®ä¾‹\nmodel = MyModel()\n# åŠ è½½.pthæ–‡ä»¶ä¸­çš„æƒé‡\nmodel.load_state_dict(torch.load('001.pth'))\n# è®¾ç½®æ¨¡å‹ä¸ºè¯„ä¼°æ¨¡å¼ï¼ˆå¦‚æœé€‚ç”¨ï¼‰\nmodel.eval()\n# åˆ›å»ºä¸€ä¸ªç¬¦åˆæ¨¡å‹è¾“å…¥å°ºå¯¸çš„ç¤ºä¾‹è¾“å…¥\n# å‡è®¾è¾“å…¥æ˜¯å•å¼ å›¾ç‰‡ï¼Œé€šé“æ•°ä¸º3ï¼Œé«˜å’Œå®½åˆ†åˆ«ä¸º224å’Œ224\n# ä½ éœ€è¦æ ¹æ®ä½ çš„æ¨¡å‹è°ƒæ•´è¾“å…¥å°ºå¯¸\ninput_sample = torch.randn(1, 3, 224, 224)\n# æŒ‡å®šONNXæ¨¡å‹çš„è¾“å‡ºæ–‡ä»¶å\noutput_file = 'model.onnx'\n# å¯¼å‡ºæ¨¡å‹ä¸ºONNXæ ¼å¼\ntorch.onnx.export(model,               # æ¨¡å‹\n                  input_sample,        # æ¨¡å‹è¾“å…¥ï¼ˆæˆ–ä¸€ä¸ªåŒ…å«è¾“å…¥çš„å…ƒç»„ï¼‰\n                  output_file,         # è¾“å‡ºæ–‡ä»¶å\n                  export_params=True,  # æ˜¯å¦å¯¼å‡ºå‚æ•°\n                  opset_version=10,    # ONNX ç®—å­é›†ç‰ˆæœ¬\n                  do_constant_folding=True,  # æ˜¯å¦æ‰§è¡Œå¸¸é‡æŠ˜å ä¼˜åŒ–\n                  input_names=['input'],   # è¾“å…¥å\n                  output_names=['output'], # è¾“å‡ºå\n                  dynamic_axes={'input': {0: 'batch_size'},  # åŠ¨æ€è½´\n                                'output': {0: 'batch_size'}})\n```\n\nåœ¨è¿è¡Œè¿™æ®µä»£ç ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š\n\n- ä½ çš„ç¯å¢ƒä¸­å·²ç»å®‰è£…äº† PyTorch å’Œ onnxã€‚\n- ä½ å·²ç»æ ¹æ®ä½ çš„æ¨¡å‹ç»“æ„æ­£ç¡®åœ°å®šä¹‰äº† `MyModel` ç±»ã€‚\n- ä½ å·²ç»æ ¹æ®ä½ çš„æ¨¡å‹è¾“å…¥å°ºå¯¸æ­£ç¡®åœ°è®¾ç½®äº† `input_sample`ã€‚\n  è¿è¡Œä¸Šè¿°ä»£ç åï¼Œä½ åº”è¯¥ä¼šåœ¨å½“å‰ç›®å½•ä¸‹å¾—åˆ°ä¸€ä¸ªåä¸º `model.onnx` çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯è½¬æ¢åçš„ ONNX æ ¼å¼çš„æ¨¡å‹ã€‚\n\n## æˆ‘æ²¡æœ‰å¯¹åº”çš„ PyTorch æ¨¡å‹å®šä¹‰ã€‚æˆ‘è¦å¦‚ä½•è·å¾—ï¼Ÿ\n\nå¦‚æœä½ æ²¡æœ‰æ¨¡å‹çš„ PyTorch å®šä¹‰ï¼Œä½†ä½ æœ‰ä¸€ä¸ª `.pth` æ–‡ä»¶ï¼Œä½ å¯ä»¥å°è¯•ä»¥ä¸‹å‡ ç§æ–¹æ³•æ¥è·å–æˆ–é‡å»ºæ¨¡å‹çš„ç»“æ„ï¼š\n\n### 1. ä½¿ç”¨ PyTorch çš„ `torch.jit.load`\n\nå¦‚æœä½ çš„ `.pth` æ–‡ä»¶æ˜¯ä¸€ä¸ª JIT traced çš„æ¨¡å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ `torch.jit.load` æ¥åŠ è½½å®ƒï¼Œè¿™æ ·å°±ä¸éœ€è¦åŸå§‹çš„æ¨¡å‹å®šä¹‰ã€‚\n\n```python\nimport torch\n# åŠ è½½JIT tracedæ¨¡å‹\ntraced_model = torch.jit.load('001.pth')\n# ä½¿ç”¨æ¨¡å‹ï¼ˆä¾‹å¦‚è¿›è¡Œæ¨ç†ï¼‰\n# input_sample = ...  # åˆ›å»ºä¸€ä¸ªç¬¦åˆæ¨¡å‹è¾“å…¥å°ºå¯¸çš„ç¤ºä¾‹è¾“å…¥\n# output = traced_model(input_sample)\n```\n\n### 2. æŸ¥æ‰¾æ¨¡å‹çš„æ–‡æ¡£æˆ–ä»£ç \n\nå¦‚æœæ¨¡å‹æ˜¯ä»æŸä¸ªçŸ¥åçš„ä»£ç åº“æˆ–è®ºæ–‡ä¸­è·å¾—çš„ï¼Œä½ å¯ä»¥å°è¯•æŸ¥æ‰¾åŸå§‹çš„æ¨¡å‹å®šä¹‰ä»£ç ã€‚é€šå¸¸ï¼Œè®ºæ–‡çš„é™„å½•æˆ–ä»£ç åº“çš„ README æ–‡ä»¶ä¼šåŒ…å«æ¨¡å‹çš„å®šä¹‰ã€‚\n\n### 3. ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“\n\næœ‰äº›ç¬¬ä¸‰æ–¹åº“å¯èƒ½æä¾›äº†é¢„å®šä¹‰çš„æ¨¡å‹ç»“æ„ï¼Œä½ å¯ä»¥å°è¯•ä½¿ç”¨è¿™äº›åº“æ¥åŠ è½½æ¨¡å‹ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªåœ¨ torchvision ä¸­å®šä¹‰çš„æ¨¡å‹ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼š\n\n```python\nimport torch\nimport torchvision.models as models\n# å‡è®¾ä½ çŸ¥é“æ¨¡å‹æ˜¯ torchvision ä¸­çš„æŸä¸ªæ¨¡å‹\nmodel = models.resnet50(pretrained=False)\n# åŠ è½½æƒé‡\nmodel.load_state_dict(torch.load('001.pth'))\n```\n\n### 4. ååºåˆ—åŒ–çŠ¶æ€å­—å…¸\n\nå¦‚æœä½ åªæ˜¯ä¸¢å¤±äº†æ¨¡å‹å®šä¹‰ï¼Œä½†ä½ æœ‰çŠ¶æ€å­—å…¸ï¼Œä½ å¯ä»¥å°è¯•ååºåˆ—åŒ–çŠ¶æ€å­—å…¸æ¥é‡å»ºæ¨¡å‹ç»“æ„ã€‚\n\n```python\nimport torch\n# åŠ è½½çŠ¶æ€å­—å…¸\nstate_dict = torch.load('001.pth')\n# å‡è®¾ä½ çŸ¥é“æ¨¡å‹ç»“æ„ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºçš„æ¨¡å‹å®ä¾‹ï¼Œç„¶ååŠ è½½çŠ¶æ€å­—å…¸\n# model = ...  # åˆ›å»ºæ¨¡å‹å®ä¾‹\n# model.load_state_dict(state_dict)\n```\n\n### 5. ä½¿ç”¨æ¨¡å‹æ¶æ„æœç´¢å·¥å…·\n\næœ‰ä¸€äº›å·¥å…·å’Œåº“å¯ä»¥å¸®åŠ©ä½ æ ¹æ®æƒé‡æ–‡ä»¶æ¨æ–­å‡ºæ¨¡å‹ç»“æ„ã€‚ä¾‹å¦‚ï¼Œ`netron` æ˜¯ä¸€ä¸ªå¯è§†åŒ–ç¥ç»ç½‘ç»œå·¥å…·ï¼Œå¯ä»¥æ˜¾ç¤º `.pth` æ–‡ä»¶ä¸­çš„æ¨¡å‹ç»“æ„ã€‚\n\n```bash\n# å®‰è£… netron\npip install netron\n# ä½¿ç”¨ netron å¯è§†åŒ–æ¨¡å‹\nnetron start 001.pth\n```\n\né€šè¿‡è¿™äº›æ–¹æ³•ï¼Œä½ åº”è¯¥èƒ½å¤Ÿæ‰¾åˆ°æˆ–é‡å»ºæ¨¡å‹çš„ç»“æ„ã€‚ä¸€æ—¦ä½ æœ‰äº†æ¨¡å‹å®šä¹‰ï¼Œä½ å¯ä»¥ä½¿ç”¨å‰é¢æä¾›çš„ä»£ç ç¤ºä¾‹æ¥å°† `.pth` æ–‡ä»¶è½¬æ¢ä¸º `.onnx` æ ¼å¼ã€‚å¦‚æœä½ æ— æ³•ç¡®å®šæ¨¡å‹ç»“æ„ï¼Œä½ å¯èƒ½éœ€è¦è”ç³»æ¨¡å‹çš„åŸå§‹ä½œè€…æˆ–æŸ¥æ‰¾ç›¸å…³çš„æ–‡æ¡£æ¥è·å–æ¨¡å‹å®šä¹‰ã€‚\n","title":"æ·±åº¦å­¦ä¹ æ¨¡å‹æ–‡ä»¶æ ¼å¼å¯¹æ¯”ï¼špthã€safetensor ä¸ onnx","abstract":"\u003e æœ¬é¡µé¢ä»‹ç»äº†ä¸‰ç§æœºå™¨å­¦ä¹ æ¨¡å‹æ–‡ä»¶æ ¼å¼ï¼š.pthã€.safetensor å’Œ .onnxã€‚ä¸»è¦å†…å®¹åŒ…æ‹¬æ¯ç§æ ¼å¼çš„å®šä¹‰ã€ä¿å­˜çš„å†…å®¹ã€ç”¨é€”ä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œè½¬æ¢æ–¹æ³•ã€‚\nPyTorch ä¸­çš„`.pth`æ–‡ä»¶é€šå¸¸ç”¨äºä¿å­˜æ¨¡å‹çš„æƒé‡ï¼ˆparametersï¼‰å’Œè®­ç»ƒè¿‡ç¨‹ä¸­çš„ä¼˜åŒ–å™¨çŠ¶æ€ï¼ˆoptimizer stateï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œä¸€ä¸ª`.pth`æ–‡ä»¶å¯èƒ½åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š\n1. **æ¨¡å‹çŠ¶æ€å­—å…¸ï¼ˆModel state dictionaryï¼‰**ï¼š","length":365,"created_at":"2024-11-29T02:00:00.000Z","updated_at":"2024-11-29T02:00:00.000Z","tags":["PyTorch","ONNX","æ·±åº¦å­¦ä¹ ","æ¨¡å‹éƒ¨ç½²","å­¦ä¹ ç¬”è®°"],"license":true}}]},"__N_SSG":true},"page":"/tags/[tag]","query":{"tag":"å­¦ä¹ ç¬”è®°"},"buildId":"pB2tEMC8kWZU_Mu-EJvTk","assetPrefix":"/blog-next","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>