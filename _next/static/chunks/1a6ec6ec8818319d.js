(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37341,e=>{"use strict";let t={rect:"rectangle",circle:"ellipse"},r={startOnLoad:!1,flowchart:{curve:"linear"},themeVariables:{fontSize:"25px"},maxEdges:500,maxTextSize:5e4};class a{constructor({converter:e}){this.convert=(e,t)=>this.converter(e,{...t,fontSize:t.fontSize||20}),this.converter=e}}(s=l||(l={})).ROUND="round",s.STADIUM="stadium",s.DOUBLECIRCLE="doublecircle",s.CIRCLE="circle",s.DIAMOND="diamond",(n||(n={})).COLOR="color",(i=o||(o={})).FILL="fill",i.STROKE="stroke",i.STROKE_WIDTH="stroke-width",i.STROKE_DASHARRAY="stroke-dasharray";var s,i,l,n,o,d=e.i(86462);let c={arrow_circle:{endArrowhead:"dot"},arrow_cross:{endArrowhead:"bar"},arrow_open:{endArrowhead:null,startArrowhead:null},double_arrow_circle:{endArrowhead:"dot",startArrowhead:"dot"},double_arrow_cross:{endArrowhead:"bar",startArrowhead:"bar"},double_arrow_point:{endArrowhead:"arrow",startArrowhead:"arrow"}},h=e=>{let t=e.text;return"markdown"===e.labelType&&(t=(0,d.removeMarkdown)(e.text)),u(t)},u=e=>e.replace(/\s?(fa|fab):[a-zA-Z0-9-]+/g,""),p=new a({converter:(e,t)=>{let r,a,s=[],i=t.fontSize,{getGroupIds:d,getParentId:u}=(r={},e.subGraphs.map(t=>{t.nodeIds.forEach(a=>{r[t.id]={id:t.id,parent:null,isLeaf:!1},r[a]={id:a,parent:t.id,isLeaf:void 0!==e.vertices[a]}})}),a={},[...Object.keys(e.vertices),...e.subGraphs.map(e=>e.id)].forEach(e=>{if(!r[e])return;let t=r[e],s=[];for(t.isLeaf||s.push(`subgraph_group_${t.id}`);;)if(t.parent)s.push(`subgraph_group_${t.parent}`),t=r[t.parent];else break;a[e]=s}),{getGroupIds:e=>a[e]||[],getParentId:e=>r[e]?r[e].parent:null});return e.subGraphs.reverse().forEach(e=>{let t=d(e.id),r={id:e.id,type:"rectangle",groupIds:t,x:e.x,y:e.y,width:e.width,height:e.height,label:{groupIds:t,text:h(e),fontSize:i,verticalAlign:"top"}};s.push(r)}),Object.values(e.vertices).forEach(e=>{var t,r;let a,c;if(!e)return;let u=d(e.id),p=(t=e.containerStyle,a={},Object.keys(t).forEach(e=>{switch(e){case o.FILL:a.backgroundColor=t[e],a.fillStyle="solid";break;case o.STROKE:a.strokeColor=t[e];break;case o.STROKE_WIDTH:a.strokeWidth=Number(t[e]?.split("px")[0]);break;case o.STROKE_DASHARRAY:a.strokeStyle="dashed"}}),a),b=(r=e.labelStyle,c={},Object.keys(r).forEach(e=>{e===n.COLOR&&(c.strokeColor=r[e])}),c),f={id:e.id,type:"rectangle",groupIds:u,x:e.x,y:e.y,width:e.width,height:e.height,strokeWidth:2,label:{groupIds:u,text:h(e),fontSize:i,...b},link:e.link||null,...p};switch(e.type){case l.STADIUM:case l.ROUND:f={...f,roundness:{type:3}};break;case l.DOUBLECIRCLE:{u.push(`doublecircle_${e.id}}`);let t={type:"ellipse",groupIds:u,x:e.x+5,y:e.y+5,width:e.width-10,height:e.height-10,strokeWidth:2,roundness:{type:3},label:{groupIds:u,text:h(e),fontSize:i}};f={...f,groupIds:u,type:"ellipse"},s.push(t);break}case l.CIRCLE:f.type="ellipse";break;case l.DIAMOND:f.type="diamond"}s.push(f)}),e.edges.forEach(e=>{let t=[],r=u(e.start),a=u(e.end);r&&r===a&&(t=d(r));let{startX:l,startY:n,reflectionPoints:o}=e,p=o.map(e=>[e.x-o[0].x,e.y-o[0].y]),b=c[e.type],f={id:`${e.start}_${e.end}`,type:"arrow",groupIds:t,x:l,y:n,strokeWidth:"thick"===e.stroke?4:2,strokeStyle:"dotted"===e.stroke?"dashed":void 0,points:p,...e.text?{label:{text:h(e),fontSize:i,groupIds:t}}:{},roundness:{type:2},...b},g=s.find(t=>t.id===e.start),m=s.find(t=>t.id===e.end);g&&m&&(f.start={id:g.id||""},f.end={id:m.id||""},s.push(f))}),{elements:s}}}),b=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),""),f=new a({converter:e=>{let t=b(),{width:r,height:a}=e;return{files:{[t]:{id:t,mimeType:e.mimeType,dataURL:e.dataURL}},elements:[{type:"image",x:0,y:0,width:r,height:a,status:"saved",fileId:t}]}}}),g=e=>{let t={type:"line",x:e.startX,y:e.startY,points:[[0,0],[e.endX-e.startX,e.endY-e.startY]],width:e.endX-e.startX,height:e.endY-e.startY,strokeStyle:e.strokeStyle||"solid",strokeColor:e.strokeColor||"#000",strokeWidth:e.strokeWidth||1};return e.groupId&&Object.assign(t,{groupIds:[e.groupId]}),e.id&&Object.assign(t,{id:e.id}),t},m=e=>{let t={type:"text",x:e.x,y:e.y,width:e.width,height:e.height,text:e.text.replace(/\\n/g,"\n")||"",fontSize:e.fontSize,verticalAlign:"middle"};return e.groupId&&Object.assign(t,{groupIds:[e.groupId]}),e.id&&Object.assign(t,{id:e.id}),t},y=e=>{let t={};"rectangle"===e.type&&"activation"===e.subtype&&(t={backgroundColor:"#e9ecef",fillStyle:"solid"});let r={id:e.id,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,label:{text:(e?.label?.text||"").replace(/\\n/g,"\n"),fontSize:e?.label?.fontSize,verticalAlign:e.label?.verticalAlign||"middle",strokeColor:e.label?.color||"#000",groupIds:e.groupId?[e.groupId]:[]},strokeStyle:e?.strokeStyle,strokeWidth:e?.strokeWidth,strokeColor:e?.strokeColor,backgroundColor:e?.bgColor,fillStyle:"solid",...t};return e.groupId&&Object.assign(r,{groupIds:[e.groupId]}),r},k=e=>{let t={type:"arrow",x:e.startX,y:e.startY,points:e.points||[[0,0],[e.endX-e.startX,e.endY-e.startY]],width:e.endX-e.startX,height:e.endY-e.startY,strokeStyle:e?.strokeStyle||"solid",endArrowhead:e?.endArrowhead||null,startArrowhead:e?.startArrowhead||null,label:{text:(e?.label?.text||"").replace(/\\n/g,"\n"),fontSize:16},roundness:{type:2},start:e.start,end:e.end};return e.groupId&&Object.assign(t,{groupIds:[e.groupId]}),t},x=new a({converter:e=>{let t=[],r=[];if(Object.values(e.nodes).forEach(e=>{e&&e.length&&e.forEach(e=>{let a;switch(e.type){case"line":a=g(e);break;case"rectangle":case"ellipse":a=y(e);break;case"text":a=m(e);break;default:throw`unknown type ${e.type}`}"rectangle"===e.type&&e?.subtype==="activation"?r.push(a):t.push(a)})}),Object.values(e.lines).forEach(e=>{e&&t.push(g(e))}),Object.values(e.arrows).forEach(e=>{e&&(t.push(k(e)),e.sequenceNumber&&t.push(y(e.sequenceNumber)))}),t.push(...r),e.loops){let{lines:r,texts:a,nodes:s}=e.loops;r.forEach(e=>{t.push(g(e))}),a.forEach(e=>{t.push(m(e))}),s.forEach(e=>{t.push(y(e))})}return e.groups&&e.groups.forEach(e=>{let{actorKeys:r,name:a}=e,s=1/0,i=1/0,l=0,n=0;if(!r.length)return;t.filter(e=>{if(e.id){let t=e.id.indexOf("-"),a=e.id.substring(0,t);return r.includes(a)}}).forEach(e=>{if(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)throw Error(`Actor attributes missing ${e}`);s=Math.min(s,e.x),i=Math.min(i,e.y),l=Math.max(l,e.x+e.width),n=Math.max(n,e.y+e.height)});let o=s-10,d=i-10,c=l-s+20,h=n-i+20,u=b(),p=y({type:"rectangle",x:o,y:d,width:c,height:h,bgColor:e.fill,id:u});t.unshift(p);let f=b(),g=[u];t.forEach(e=>{if("frame"!==e.type){if(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)throw Error(`Element attributes missing ${e}`);if(e.x>=s&&e.x+e.width<=l&&e.y>=i&&e.y+e.height<=n){let t=e.id||b();e.id||Object.assign(e,{id:t}),g.push(t)}}}),t.push({type:"frame",id:f,name:a,children:g})}),{elements:t}}}),w=new a({converter:e=>{let t=[];return Object.values(e.nodes).forEach(e=>{e&&e.length&&e.forEach(e=>{let r;switch(e.type){case"line":r=g(e);break;case"rectangle":case"ellipse":r=y(e);break;case"text":r=m(e);break;default:throw`unknown type ${e.type}`}t.push(r)})}),Object.values(e.lines).forEach(e=>{e&&t.push(g(e))}),Object.values(e.arrows).forEach(e=>{if(!e)return;let r=k(e);t.push(r)}),Object.values(e.text).forEach(e=>{let r=m(e);t.push(r)}),Object.values(e.namespaces).forEach(r=>{let a=Object.keys(r.classes),s=[...a],i=[...e.lines,...e.arrows,...e.text];a.forEach(e=>{let t=i.filter(t=>t.metadata&&t.metadata.classId===e).map(e=>e.id);t.length&&s.push(...t)});let l={type:"frame",id:b(),name:r.id,children:s};t.push(l)}),{elements:t}}});var A=e.i(34599),A=A;let E=e=>{let t=(e=S(e)).replace(/#(\d+);/g,"&#$1;").replace(/#([a-z]+);/g,"&$1;"),r=document.createElement("textarea");return r.innerHTML=t,r.value},v=e=>{let t=e.getAttribute("transform"),r=t?.match(/translate\(([ \d.-]+),\s*([\d.-]+)\)/),a=0,s=0;return r&&(a=Number(r[1]),s=Number(r[2])),{transformX:a,transformY:s}},S=function(e){return e.replace(/ﬂ°°/g,"#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},j=(e,t={x:0,y:0})=>{if("path"!==e.tagName.toLowerCase())throw Error(`Invalid input: Expected an HTMLElement of tag "path", got ${e.tagName}`);let r=e.getAttribute("d");if(!r)throw Error('Path element does not contain a "d" attribute');let a=r.split(/(?=[LM])/),s=a[0].substring(1).split(",").map(e=>parseFloat(e)),i=a[a.length-1].substring(1).split(",").map(e=>parseFloat(e)),l=a.map(e=>{let t=e.substring(1).split(",").map(e=>parseFloat(e));return{x:t[0],y:t[1]}}).filter((e,t,r)=>{if(0===t||t===r.length-1)return!0;if(e.x===r[t-1].x&&e.y===r[t-1].y)return!1;if(t===r.length-2&&(r[t-1].x===e.x||r[t-1].y===e.y)){let t=r[r.length-1];return Math.hypot(t.x-e.x,t.y-e.y)>20}return e.x!==r[t-1].x||e.y!==r[t-1].y}).map(e=>({x:e.x+t.x,y:e.y+t.y}));return{startX:s[0]+t.x,startY:s[1]+t.y,endX:i[0]+t.x,endY:i[1]+t.y,reflectionPoints:l}},O=(e,t)=>{if(!e)throw Error("Element not found");let r=e.parentElement?.parentElement,a=e.childNodes[0],s={x:0,y:0};if(a){let{transformX:e,transformY:t}=v(a),r=a.getBBox();s={x:Number(a.getAttribute("x"))||e+r.x||0,y:Number(a.getAttribute("y"))||t+r.y||0}}let{transformX:i,transformY:l}=v(e),n={x:i+s.x,y:l+s.y};for(;r&&r.id!==t.id;){if("root"===r.classList.value&&r.hasAttribute("transform")){let{transformX:e,transformY:t}=v(r);n.x+=e,n.y+=t}r=r.parentElement}return n},N=(e,t,r,a,s)=>{let i={};return i.type="arrow",i.startX=e,i.startY=t,i.endX=r,i.endY=a,Object.assign(i,{...s}),i},I=(e,t,r,a)=>({type:"text",x:e,y:t,text:r,width:a?.width||20,height:a?.height||20,fontSize:a?.fontSize||20,id:a?.id,groupId:a?.groupId,metadata:a?.metadata}),Y=(e,t,r)=>{let a={},s=Number(e.getAttribute("x")),i=Number(e.getAttribute("y"));a.type="text",a.text=E(t),r?.id&&(a.id=r.id),r?.groupId&&(a.groupId=r.groupId);let l=e.getBBox();return a.width=l.width,a.height=l.height,a.x=s-l.width/2,a.y=i,a.fontSize=parseInt(getComputedStyle(e).fontSize),a},C=(e,t,r={})=>{let a={};a.type=t;let{label:s,subtype:i,id:l,groupId:n}=r;a.id=l,n&&(a.groupId=n),s&&(a.label={text:E(s.text),fontSize:16,verticalAlign:s?.verticalAlign});let o=e.getBBox();switch(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height,a.subtype=i,i){case"highlight":let d=e.getAttribute("fill");d&&(a.bgColor=d);break;case"note":a.strokeStyle="dashed"}return a},T=(e,t,r,a,s,i)=>{let l={};return l.startX=t,l.startY=r,l.endX=a,i?.groupId&&(l.groupId=i.groupId),i?.id&&(l.id=i.id),l.endY=s,l.strokeColor=e.getAttribute("stroke"),l.strokeWidth=Number(e.getAttribute("stroke-width")),l.type="line",l},L={0:"SOLID",1:"DOTTED",3:"SOLID_CROSS",4:"DOTTED_CROSS",5:"SOLID_OPEN",6:"DOTTED_OPEN",24:"SOLID_POINT",25:"DOTTED_POINT"},X=(e,r,a)=>{if(!e)throw"root node not found";let s=b(),i=Array.from(e.children),l=[];return i.forEach((e,i)=>{let n,o=`${a?.id}-${i}`;switch(e.tagName){case"line":let d=Number(e.getAttribute("x1")),c=Number(e.getAttribute("y1")),h=Number(e.getAttribute("x2")),u=Number(e.getAttribute("y2"));n=T(e,d,c,h,u,{groupId:s,id:o});break;case"text":n=Y(e,r,{groupId:s,id:o});break;case"circle":n=C(e,"ellipse",{label:e.textContent?{text:e.textContent}:void 0,groupId:s,id:o});default:n=C(e,t[e.tagName],{label:e.textContent?{text:e.textContent}:void 0,groupId:s,id:o})}l.push(n)}),l},$=e=>{let t;switch(e){case 0:t="diamond_outline";break;case 2:t="diamond";break;case 1:t="triangle_outline";break;case"none":t=null;break;default:t="arrow"}return t},R=async(e,t=r)=>{let a,s,i,l,n;A.N.initialize({...r,...t});let o=await A.N.mermaidAPI.getDiagramFromText(e.replace(/style.*:\S*#.*;/g,e=>e.substring(0,e.length-1)).replace(/classDef.*:\S*#.*;/g,e=>e.substring(0,e.length-1)).replace(/#\w+;/g,e=>{let t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?`ﬂ\xb0\xb0${t}\xb6\xdf`:`ﬂ\xb0${t}\xb6\xdf`})),{svg:d}=await A.N.render("mermaid-to-excalidraw",e),c=document.createElement("div");switch(c.setAttribute("style","opacity: 0; position: relative; z-index: -1;"),c.innerHTML=d,c.id="mermaid-diagram",document.body.appendChild(c),o.type){case"flowchart-v2":o.parse(),Object.keys(i=(s=o.parser.yy).getVertices()).forEach(e=>{i[e]=((e,t)=>{let r,a=t.querySelector(`[id*="flowchart-${e.id}-"]`);if(!a)return;a.parentElement?.tagName.toLowerCase()==="a"&&(r=a.parentElement.getAttribute("xlink:href"));let s=O(r?a.parentElement:a,t),i=a.getBBox(),l={width:i.width,height:i.height},n=a.querySelector(".label-container")?.getAttribute("style"),o=a.querySelector(".label")?.getAttribute("style"),d={};n?.split(";").forEach(e=>{if(!e)return;let t=e.split(":")[0].trim(),r=e.split(":")[1].trim();d[t]=r});let c={};return o?.split(";").forEach(e=>{if(!e)return;let t=e.split(":")[0].trim(),r=e.split(":")[1].trim();c[t]=r}),{id:e.id,labelType:e.labelType,text:E(e.text),type:e.type,link:r||void 0,...s,...l,containerStyle:d,labelStyle:c}})(i[e],c)}),l=new Map,n=s.getEdges().filter(e=>c.querySelector(`[id*="L-${e.start}-${e.end}"]`)).map(e=>{let t=`${e.start}-${e.end}`,r=l.get(t)||0;l.set(t,r+1);let a=c.querySelector(`[id*="L-${e.start}-${e.end}-${r}"]`);if(!a)throw Error("Edge element not found");let s=O(a,c),i=j(a,s);return e.length=void 0,{...e,...i,text:E(e.text)}}),a={type:"flowchart",subGraphs:s.getSubGraphs().map(e=>((e,t)=>{let r=e.nodes.map(e=>e.startsWith("flowchart-")?e.split("-")[1]:e),a=t.querySelector(`[id='${e.id}']`);if(!a)throw Error("SubGraph element not found");let s=O(a,t),i=a.getBBox(),l={width:i.width,height:i.height};return e.classes=void 0,e.dir=void 0,{...e,nodeIds:r,...s,...l,text:E(e.title)}})(e,c)),vertices:i,edges:n};break;case"sequence":a=((e,t)=>{var r;let a,s,i,l,n,o,d,c,h,u,p,b,f,g,m,y,k,x,w,A,v,S,j;e.parse();let O=e.parser.yy,N=[],I=O.getBoxes(),$=(a=Array.from(t.querySelectorAll(".rect")).filter(e=>e.parentElement?.tagName!=="g"),s=[],a.forEach(e=>{let t=C(e,"rectangle",{label:{text:""},subtype:"highlight"});s.push(t)}),s),{nodes:R,lines:P}=(r=O.getActors(),i=Array.from(t.querySelectorAll(".actor-top")),l=Array.from(t.querySelectorAll(".actor-bottom")),n=[],o=[],Object.values(r).forEach((e,t)=>{let r=i.find(t=>t.getAttribute("name")===e.name),a=l.find(t=>t.getAttribute("name")===e.name);if(!r||!a)throw"root not found";let s=e.description;if("participant"===e.type){let t=C(r,"rectangle",{id:`${e.name}-top`,label:{text:s},subtype:"actor"});if(!t)throw"Top Node element not found!";n.push([t]);let i=C(a,"rectangle",{id:`${e.name}-bottom`,label:{text:s},subtype:"actor"});n.push([i]);let l=r?.parentElement?.previousElementSibling;if(l?.tagName!=="line")throw"Line not found";let d=Number(l.getAttribute("x1"));if(!t.height)throw"Top node element height is null";let c=t.y+t.height,h=i.y,u=Number(l.getAttribute("x2")),p=T(l,d,c,u,h);o.push(p)}else if("actor"===e.type){let t=X(r,s,{id:`${e.name}-top`});n.push(t);let i=X(a,s,{id:`${e.name}-bottom`});n.push(i);let l=r.previousElementSibling;if(l?.tagName!=="line")throw"Line not found";let d=Number(l.getAttribute("x1")),c=Number(l.getAttribute("y1")),h=Number(l.getAttribute("x2")),u=i.find(e=>"ellipse"===e.type);if(u){let e=T(l,d,c,h,u.y);o.push(e)}}}),{nodes:n,lines:o}),D=O.getMessages(),_=(d=[],c=Array.from(t.querySelectorAll('[class*="messageLine"]')),h=Object.keys(L),u=D.filter(e=>h.includes(e.type.toString())),c.forEach((e,t)=>{let r=u[t],a=L[r.type],s=((e,t)=>{let r={};t?.label&&(r.label={text:E(t.label),fontSize:16});let a=e.tagName;if("line"===a)r.startX=Number(e.getAttribute("x1")),r.startY=Number(e.getAttribute("y1")),r.endX=Number(e.getAttribute("x2")),r.endY=Number(e.getAttribute("y2"));else if("path"===a){let t=e.getAttribute("d");if(!t)throw Error('Path element does not contain a "d" attribute');let a=t.split(/(?=[LC])/),s=a[0].substring(1).split(",").map(e=>parseFloat(e)),i=[];a.forEach(e=>{let t=e.substring(1).trim().split(" ").map(e=>{let[t,r]=e.split(",");return[parseFloat(t)-s[0],parseFloat(r)-s[1]]});i.push(...t)});let l=i[i.length-1];r.startX=s[0],r.startY=s[1],r.endX=l[0],r.endY=l[1],r.points=i}return t?.label&&(r.startY=r.startY-10,r.endY=r.endY-10),r.strokeColor=e.getAttribute("stroke"),r.strokeWidth=Number(e.getAttribute("stroke-width")),r.type="arrow",r.strokeStyle=t?.strokeStyle||"solid",r.startArrowhead=t?.startArrowhead||null,r.endArrowhead=t?.endArrowhead||null,r})(e,{label:r?.message,strokeStyle:(e=>{let t;switch(e){case 0:case 3:case 5:case 24:default:t="solid";break;case 1:case 4:case 6:case 25:t="dotted"}return t})(r.type),endArrowhead:"SOLID_OPEN"===a||"DOTTED_OPEN"===a?null:"arrow"});if(e.nextElementSibling?.classList.contains("sequenceNumber")){let t=e.nextElementSibling?.textContent;if(!t)throw Error("sequence number not present");let r={type:"rectangle",x:s.startX-10,y:s.startY-15,label:{text:t,fontSize:14},bgColor:"#e9ecef",height:30,subtype:"sequence"};Object.assign(s,{sequenceNumber:r})}d.push(s)}),d),q=(p=Array.from(t.querySelectorAll(".note")).map(e=>e.parentElement),b=D.filter(e=>2===e.type),f=[],p.forEach((e,t)=>{if(!e)return;let r=C(e.firstChild,"rectangle",{label:{text:b[t].message},subtype:"note"});f.push(r)}),f),B=(g=Array.from(t.querySelectorAll("[class*=activation]")),m=[],g.forEach(e=>{let t=C(e,"rectangle",{label:{text:""},subtype:"activation"});m.push(t)}),m),z=(y=Array.from(t.querySelectorAll(".loopLine")),k=[],x=[],w=[],y.forEach(e=>{let t=Number(e.getAttribute("x1")),r=Number(e.getAttribute("y1")),a=Number(e.getAttribute("x2")),s=Number(e.getAttribute("y2")),i=T(e,t,r,a,s);i.strokeStyle="dotted",i.strokeColor="#adb5bd",i.strokeWidth=2,k.push(i)}),A=Array.from(t.querySelectorAll(".loopText")),v=D.filter(e=>27===e.type).map(e=>e.message),A.forEach(e=>{let t=e.textContent||"",r=Y(e,t),a=t.match(/\[(.*?)\]/)?.[1]||"";v.includes(a)&&(r.x+=16),x.push(r)}),S=Array.from(t?.querySelectorAll(".labelBox")),j=Array.from(t?.querySelectorAll(".labelText")),S.forEach((e,t)=>{let r=C(e,"rectangle",{label:{text:j[t]?.textContent||""}});r.strokeColor="#adb5bd",r.bgColor="#e9ecef",r.width=void 0,w.push(r)}),{lines:k,texts:x,nodes:w});return N.push($),N.push(...R),N.push(q),N.push(B),{type:"sequence",lines:P,arrows:_,nodes:N,loops:z,groups:I}})(o,c);break;case"classDiagram":a=((e,t)=>{var r;let a,s;e.parse();let i=e.parser.yy,l=i.getDirection(),n=[],o=[],d=[],c=[],h=i.getNamespaces(),u=i.getClasses();if(Object.keys(u).length){let e,r,a,s=(e=[],r=[],a=[],Object.values(u).forEach(s=>{let{domId:i,id:l}=s,n=b(),o=t.querySelector(`[data-id=${l}]`);if(!o)throw Error(`DOM Node with id ${i} not found`);let{transformX:d,transformY:c}=v(o),h=C(o.firstChild,"rectangle",{id:l,groupId:n});h.x+=d,h.y+=c,h.metadata={classId:l},e.push(h),Array.from(o.querySelectorAll(".divider")).forEach(e=>{let t=Number(e.getAttribute("x1")),a=Number(e.getAttribute("y1")),s=Number(e.getAttribute("x2")),i=Number(e.getAttribute("y2")),o=T(e,t,a,s,i,{groupId:n,id:b()});o.startX+=d,o.startY+=c,o.endX+=d,o.endY+=c,o.metadata={classId:l},r.push(o)});let u=o.querySelector(".label")?.children;if(!u)throw"label nodes not found";Array.from(u).forEach(e=>{let t=e.textContent;if(!t)return;let r=b(),{transformX:s,transformY:i}=v(e),o=e.getBBox(),h=I(d+s,c+i+10,t,{width:o.width,height:o.height,id:r,groupId:n,metadata:{classId:l}});a.push(h)})}),{nodes:e,lines:r,text:a});n.push(s.nodes),o.push(...s.lines),d.push(...s.text),c.push(...s.nodes)}let{arrows:p,text:f}=((e,t,r,a)=>{let s=r.querySelector(".edgePaths")?.children;if(!s)throw Error("No Edges found!");let i=[],l=[];return e.forEach((e,r)=>{let n,o,d,c,h,{id1:u,id2:p,relation:b}=e,f=t.find(e=>e.id===u),g=t.find(e=>e.id===p),m=(e=>{let t;switch(e){case 0:default:t="solid";break;case 1:t="dotted"}return t})(b.lineType),y=$(b.type1),k=$(b.type2),x=j(s[r]),w=N(x.startX,x.startY,x.endX,x.endY,{strokeStyle:m,startArrowhead:y,endArrowhead:k,label:e.title?{text:e.title}:void 0,start:{type:"rectangle",id:f.id},end:{type:"rectangle",id:g.id}}),A=(d=["triangle_outline","diamond","diamond_outline"],c=w.startArrowhead&&d.includes(w.startArrowhead),((h=w.endArrowhead&&d.includes(w.endArrowhead))||c)&&(c&&("LR"===a?w.startX-=16:"RL"===a?w.startX+=16:"TB"===a?w.startY-=16:"BT"===a&&(w.startY+=16)),h&&("LR"===a?w.endX+=16:"RL"===a?w.endX-=16:"TB"===a?w.endY+=16:"BT"===a&&(w.endY-=16))),w);i.push(A);let{relationTitle1:E,relationTitle2:v}=e;if(E&&"none"!==E){switch(a){case"TB":n=A.startX-20,A.endX<A.startX&&(n-=15),o=A.startY+15;break;case"BT":n=A.startX+20,A.endX>A.startX&&(n+=15),o=A.startY-15;break;case"LR":n=A.startX+20,o=A.startY+15,A.endY>A.startY&&(o+=15);break;case"RL":n=A.startX-20,o=A.startY-15,A.startY>A.endY&&(o-=15);break;default:n=A.startX-20,o=A.startY+15}let e=I(n,o,E,{fontSize:16});l.push(e)}if(v&&"none"!==v){switch(a){case"TB":n=A.endX+20,A.endX<A.startX&&(n+=15),o=A.endY-15;break;case"BT":n=A.endX-20,A.endX>A.startX&&(n-=15),o=A.endY+15;break;case"LR":n=A.endX-20,o=A.endY-15,A.endY>A.startY&&(o-=15);break;case"RL":n=A.endX+20,o=A.endY+15,A.startY>A.endY&&(o+=15);break;default:n=A.endX+20,o=A.endY-15}let e=I(n,o,v,{fontSize:16});l.push(e)}}),{arrows:i,text:l}})(i.getRelations(),c,t,l),{notes:g,connectors:m}=(r=i.getNotes(),a=[],s=[],r.forEach(e=>{let{id:r,text:i,class:l}=e,n=t.querySelector(`#${r}`);if(!n)throw Error(`Node with id ${r} not found!`);let{transformX:o,transformY:d}=v(n),h=C(n.firstChild,"rectangle",{id:r,subtype:"note",label:{text:i}});if(Object.assign(h,{x:h.x+o,y:h.y+d}),a.push(h),l){let e=c.find(e=>e.id===l);if(!e)throw Error(`class node with id ${l} not found!`);let t=h.x+(h.width||0)/2,r=N(t,h.y+(h.height||0),t,e.y,{strokeStyle:"dotted",startArrowhead:null,endArrowhead:null,start:{id:h.id,type:"rectangle"},end:{id:e.id,type:"rectangle"}});s.push(r)}}),{notes:a,connectors:s});return n.push(g),p.push(...m),d.push(...f),{type:"class",nodes:n,lines:o,arrows:p,text:d,namespaces:h}})(o,c);break;default:a=(e=>{let t=e.querySelector("svg");if(!t)throw Error("SVG element not found");let r=t.getBoundingClientRect(),a=r.width,s=r.height;t.setAttribute("width",`${a}`),t.setAttribute("height",`${s}`);let i=btoa(unescape(encodeURIComponent(t.outerHTML)));return{type:"graphImage",mimeType:"image/svg+xml",dataURL:`data:image/svg+xml;base64,${i}`,width:a,height:s}})(c)}return c.remove(),a},P=async(e,t)=>{let r=t||{},a=parseInt(r.themeVariables?.fontSize??"")||20;return((e,t={})=>{switch(e.type){case"graphImage":return f.convert(e,t);case"flowchart":return p.convert(e,t);case"sequence":return x.convert(e,t);case"class":return w.convert(e,t);default:throw Error(`graphToExcalidraw: unknown graph type "${e.type}, only flowcharts are supported!"`)}})(await R(e,{...r,themeVariables:{...r.themeVariables,fontSize:`${1.25*a}px`}}),{fontSize:a})};e.s(["parseMermaidToExcalidraw",()=>P],37341)},59766,e=>{e.v(t=>Promise.all(["static/chunks/8ff31fb4dcd8fd17.js"].map(t=>e.l(t))).then(()=>t(41037)))},64323,e=>{e.v(t=>Promise.all(["static/chunks/298dd5292144f9b3.js","static/chunks/ec806abf1c50bab8.js"].map(t=>e.l(t))).then(()=>t(38450)))},73946,e=>{e.v(t=>Promise.all(["static/chunks/4ec80044588de4e9.js","static/chunks/091e470f555a800f.js","static/chunks/8a9e3cb3b9c5b91f.js","static/chunks/2e5e87c708338344.js","static/chunks/221bd927f6ea0000.js","static/chunks/50be1f1d29e97eff.js"].map(t=>e.l(t))).then(()=>t(30085)))},5720,e=>{e.v(t=>Promise.all(["static/chunks/78e0a81054669db2.js","static/chunks/4ec80044588de4e9.js","static/chunks/091e470f555a800f.js","static/chunks/50be1f1d29e97eff.js","static/chunks/221bd927f6ea0000.js","static/chunks/2e5e87c708338344.js"].map(t=>e.l(t))).then(()=>t(73475)))},99461,e=>{e.v(t=>Promise.all(["static/chunks/028a59b954504949.js","static/chunks/84444f70ca4ff4e4.js","static/chunks/091e470f555a800f.js","static/chunks/50be1f1d29e97eff.js"].map(t=>e.l(t))).then(()=>t(9445)))},12873,e=>{e.v(t=>Promise.all(["static/chunks/50f02eac44be89e4.js"].map(t=>e.l(t))).then(()=>t(60544)))},41911,e=>{e.v(t=>Promise.all(["static/chunks/38a91667ec50b301.js"].map(t=>e.l(t))).then(()=>t(95331)))},823,e=>{e.v(t=>Promise.all(["static/chunks/6eae89acf8d721cb.js"].map(t=>e.l(t))).then(()=>t(74578)))},31247,e=>{e.v(t=>Promise.all(["static/chunks/8dec437539f79933.js"].map(t=>e.l(t))).then(()=>t(91218)))},58147,e=>{e.v(t=>Promise.all(["static/chunks/285ee6ad8c87b531.js"].map(t=>e.l(t))).then(()=>t(74590)))},78809,e=>{e.v(t=>Promise.all(["static/chunks/01c562ba99144645.js","static/chunks/2e5e87c708338344.js"].map(t=>e.l(t))).then(()=>t(32878)))},11950,e=>{e.v(t=>Promise.all(["static/chunks/a79d567dfdf3be41.js","static/chunks/84444f70ca4ff4e4.js","static/chunks/091e470f555a800f.js","static/chunks/f53cd8ec96e57996.js"].map(t=>e.l(t))).then(()=>t(67920)))},29426,e=>{e.v(t=>Promise.all(["static/chunks/298dd5292144f9b3.js","static/chunks/f422a9b042e119be.js"].map(t=>e.l(t))).then(()=>t(97852)))},85376,e=>{e.v(t=>Promise.all(["static/chunks/84444f70ca4ff4e4.js","static/chunks/ca13f970a27509bc.js","static/chunks/091e470f555a800f.js","static/chunks/f53cd8ec96e57996.js"].map(t=>e.l(t))).then(()=>t(11013)))},869,e=>{e.v(t=>Promise.all(["static/chunks/091e470f555a800f.js","static/chunks/50be1f1d29e97eff.js","static/chunks/2e5e87c708338344.js","static/chunks/221bd927f6ea0000.js","static/chunks/bd00919c7c3c21ab.js"].map(t=>e.l(t))).then(()=>t(64750)))},81177,e=>{e.v(t=>Promise.all(["static/chunks/cbd12d0c0d8e3bd3.js","static/chunks/84444f70ca4ff4e4.js","static/chunks/091e470f555a800f.js","static/chunks/f53cd8ec96e57996.js"].map(t=>e.l(t))).then(()=>t(44658)))},11554,e=>{e.v(t=>Promise.all(["static/chunks/f5723cc8b35a7bf9.js","static/chunks/091e470f555a800f.js","static/chunks/2e5e87c708338344.js","static/chunks/221bd927f6ea0000.js","static/chunks/50be1f1d29e97eff.js"].map(t=>e.l(t))).then(()=>t(94229)))},15082,e=>{e.v(t=>Promise.all(["static/chunks/b3277e02f4de968e.js"].map(t=>e.l(t))).then(()=>t(25795)))},9502,e=>{e.v(t=>Promise.all(["static/chunks/7b1d21687f9f7c7b.js","static/chunks/4ec80044588de4e9.js","static/chunks/aaf6e208890e234d.js","static/chunks/2e5e87c708338344.js"].map(t=>e.l(t))).then(()=>t(38072)))},65330,e=>{e.v(t=>Promise.all(["static/chunks/21046beb15e49e9b.js"].map(t=>e.l(t))).then(()=>t(25109)))},56587,e=>{e.v(t=>Promise.all(["static/chunks/2e5e87c708338344.js","static/chunks/784a89625cbcb4d6.js","static/chunks/c14b34df3ead58bd.js"].map(t=>e.l(t))).then(()=>t(89734)))},29747,e=>{e.v(t=>Promise.all(["static/chunks/8572e9220eee8e8f.js"].map(t=>e.l(t))).then(()=>t(64653)))},44099,e=>{e.v(t=>Promise.all(["static/chunks/8fbffaaa0af2e5cd.js","static/chunks/7e2ff622f6cbace7.js","static/chunks/07f1e4a02bcde59b.js","static/chunks/2e5e87c708338344.js"].map(t=>e.l(t))).then(()=>t(46674)))}]);