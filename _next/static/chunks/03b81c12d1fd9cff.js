(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17183,83445,56624,76025,e=>{"use strict";var t=e.i(22709),r=(0,e.i(63849).default)(Object.keys,Object),a=Object.prototype.hasOwnProperty;let s=function(e){if(!(0,t.default)(e))return r(e);var s=[];for(var l in Object(e))a.call(e,l)&&"constructor"!=l&&s.push(l);return s};e.s(["default",0,s],83445);var l=e.i(66143),i=e.i(69314),n=(0,l.default)(i.default,"DataView"),o=e.i(68938),c=(0,l.default)(i.default,"Promise"),d=(0,l.default)(i.default,"Set");e.s(["default",0,d],56624);var u=(0,l.default)(i.default,"WeakMap"),h=e.i(62790),p=e.i(58766),f="[object Map]",g="[object Promise]",b="[object Set]",m="[object WeakMap]",y="[object DataView]",k=(0,p.default)(n),w=(0,p.default)(o.default),x=(0,p.default)(c),v=(0,p.default)(d),A=(0,p.default)(u),j=h.default;(n&&j(new n(new ArrayBuffer(1)))!=y||o.default&&j(new o.default)!=f||c&&j(c.resolve())!=g||d&&j(new d)!=b||u&&j(new u)!=m)&&(j=function(e){var t=(0,h.default)(e),r="[object Object]"==t?e.constructor:void 0,a=r?(0,p.default)(r):"";if(a)switch(a){case k:return y;case w:return f;case x:return g;case v:return b;case A:return m}return t});let E=j;e.s(["default",0,E],76025);var S=e.i(55803),O=e.i(46315),N=e.i(74086),$=e.i(87227),L=e.i(23547),C=Object.prototype.hasOwnProperty;e.s(["default",0,function(e){if(null==e)return!0;if((0,N.default)(e)&&((0,O.default)(e)||"string"==typeof e||"function"==typeof e.splice||(0,$.default)(e)||(0,L.default)(e)||(0,S.default)(e)))return!e.length;var r=E(e);if("[object Map]"==r||"[object Set]"==r)return!e.size;if((0,t.default)(e))return!s(e).length;for(var a in e)if(C.call(e,a))return!1;return!0}],17183)},94176,e=>{"use strict";function t(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var a=Array.from("string"==typeof e?[e]:e);a[a.length-1]=a[a.length-1].replace(/\r?\n([\t ]*)$/,"");var s=a.reduce(function(e,t){var r=t.match(/\n([\t ]+|(?!\s).)/g);return r?e.concat(r.map(function(e){var t,r;return null!=(r=null==(t=e.match(/[\t ]/g))?void 0:t.length)?r:0})):e},[]);if(s.length){var l=RegExp("\n[	 ]{"+Math.min.apply(Math,s)+"}","g");a=a.map(function(e){return e.replace(l,"\n")})}a[0]=a[0].replace(/^\r?\n/,"");var i=a[0];return t.forEach(function(e,t){var r=i.match(/(?:^|\n)( *)$/),s=r?r[1]:"",l=e;"string"==typeof e&&e.includes("\n")&&(l=String(e).split("\n").map(function(e,t){return 0===t?e:""+s+e}).join("\n")),i+=l+a[t+1]}),i}e.s(["dedent",()=>t])},86462,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.removeMarkdown=void 0,r.removeMarkdown=function(e,t){void 0===t&&(t={listUnicodeChar:""}),(t=t||{}).listUnicodeChar=!!t.hasOwnProperty("listUnicodeChar")&&t.listUnicodeChar,t.stripListLeaders=!t.hasOwnProperty("stripListLeaders")||t.stripListLeaders,t.gfm=!t.hasOwnProperty("gfm")||t.gfm,t.useImgAltText=!t.hasOwnProperty("useImgAltText")||t.useImgAltText,t.preserveLinks=!!t.hasOwnProperty("preserveLinks")&&t.preserveLinks;var r=e||"";r=r.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{t.stripListLeaders&&(r=t.listUnicodeChar?r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar+" $1"):r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(r=r.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),t.preserveLinks&&(r=r.replace(/\[(.*?)\][\[\(](.*?)[\]\)]/g,"$1 ($2)")),r=r.replace(/<[^>]*>/g,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,t.useImgAltText?"$1":"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/^\s{0,3}>\s?/g,"").replace(/(^|\n)\s{0,3}>\s?/g,"\n\n").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,"\n\n")}catch(t){return console.error(t),e}return r}},37341,e=>{"use strict";let t={rect:"rectangle",circle:"ellipse"},r={startOnLoad:!1,flowchart:{curve:"linear"},themeVariables:{fontSize:"25px"},maxEdges:500,maxTextSize:5e4};class a{constructor({converter:e}){this.convert=(e,t)=>this.converter(e,{...t,fontSize:t.fontSize||20}),this.converter=e}}(s=i||(i={})).ROUND="round",s.STADIUM="stadium",s.DOUBLECIRCLE="doublecircle",s.CIRCLE="circle",s.DIAMOND="diamond",(n||(n={})).COLOR="color",(l=o||(o={})).FILL="fill",l.STROKE="stroke",l.STROKE_WIDTH="stroke-width",l.STROKE_DASHARRAY="stroke-dasharray";var s,l,i,n,o,c=e.i(86462);let d={arrow_circle:{endArrowhead:"dot"},arrow_cross:{endArrowhead:"bar"},arrow_open:{endArrowhead:null,startArrowhead:null},double_arrow_circle:{endArrowhead:"dot",startArrowhead:"dot"},double_arrow_cross:{endArrowhead:"bar",startArrowhead:"bar"},double_arrow_point:{endArrowhead:"arrow",startArrowhead:"arrow"}},u=e=>{let t=e.text;return"markdown"===e.labelType&&(t=(0,c.removeMarkdown)(e.text)),h(t)},h=e=>e.replace(/\s?(fa|fab):[a-zA-Z0-9-]+/g,""),p=new a({converter:(e,t)=>{let r,a,s=[],l=t.fontSize,{getGroupIds:c,getParentId:h}=(r={},e.subGraphs.map(t=>{t.nodeIds.forEach(a=>{r[t.id]={id:t.id,parent:null,isLeaf:!1},r[a]={id:a,parent:t.id,isLeaf:void 0!==e.vertices[a]}})}),a={},[...Object.keys(e.vertices),...e.subGraphs.map(e=>e.id)].forEach(e=>{if(!r[e])return;let t=r[e],s=[];for(t.isLeaf||s.push(`subgraph_group_${t.id}`);;)if(t.parent)s.push(`subgraph_group_${t.parent}`),t=r[t.parent];else break;a[e]=s}),{getGroupIds:e=>a[e]||[],getParentId:e=>r[e]?r[e].parent:null});return e.subGraphs.reverse().forEach(e=>{let t=c(e.id),r={id:e.id,type:"rectangle",groupIds:t,x:e.x,y:e.y,width:e.width,height:e.height,label:{groupIds:t,text:u(e),fontSize:l,verticalAlign:"top"}};s.push(r)}),Object.values(e.vertices).forEach(e=>{var t,r;let a,d;if(!e)return;let h=c(e.id),p=(t=e.containerStyle,a={},Object.keys(t).forEach(e=>{switch(e){case o.FILL:a.backgroundColor=t[e],a.fillStyle="solid";break;case o.STROKE:a.strokeColor=t[e];break;case o.STROKE_WIDTH:a.strokeWidth=Number(t[e]?.split("px")[0]);break;case o.STROKE_DASHARRAY:a.strokeStyle="dashed"}}),a),f=(r=e.labelStyle,d={},Object.keys(r).forEach(e=>{e===n.COLOR&&(d.strokeColor=r[e])}),d),g={id:e.id,type:"rectangle",groupIds:h,x:e.x,y:e.y,width:e.width,height:e.height,strokeWidth:2,label:{groupIds:h,text:u(e),fontSize:l,...f},link:e.link||null,...p};switch(e.type){case i.STADIUM:case i.ROUND:g={...g,roundness:{type:3}};break;case i.DOUBLECIRCLE:{h.push(`doublecircle_${e.id}}`);let t={type:"ellipse",groupIds:h,x:e.x+5,y:e.y+5,width:e.width-10,height:e.height-10,strokeWidth:2,roundness:{type:3},label:{groupIds:h,text:u(e),fontSize:l}};g={...g,groupIds:h,type:"ellipse"},s.push(t);break}case i.CIRCLE:g.type="ellipse";break;case i.DIAMOND:g.type="diamond"}s.push(g)}),e.edges.forEach(e=>{let t=[],r=h(e.start),a=h(e.end);r&&r===a&&(t=c(r));let{startX:i,startY:n,reflectionPoints:o}=e,p=o.map(e=>[e.x-o[0].x,e.y-o[0].y]),f=d[e.type],g={id:`${e.start}_${e.end}`,type:"arrow",groupIds:t,x:i,y:n,strokeWidth:"thick"===e.stroke?4:2,strokeStyle:"dotted"===e.stroke?"dashed":void 0,points:p,...e.text?{label:{text:u(e),fontSize:l,groupIds:t}}:{},roundness:{type:2},...f},b=s.find(t=>t.id===e.start),m=s.find(t=>t.id===e.end);b&&m&&(g.start={id:b.id||""},g.end={id:m.id||""},s.push(g))}),{elements:s}}}),f=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),""),g=new a({converter:e=>{let t=f(),{width:r,height:a}=e;return{files:{[t]:{id:t,mimeType:e.mimeType,dataURL:e.dataURL}},elements:[{type:"image",x:0,y:0,width:r,height:a,status:"saved",fileId:t}]}}}),b=e=>{let t={type:"line",x:e.startX,y:e.startY,points:[[0,0],[e.endX-e.startX,e.endY-e.startY]],width:e.endX-e.startX,height:e.endY-e.startY,strokeStyle:e.strokeStyle||"solid",strokeColor:e.strokeColor||"#000",strokeWidth:e.strokeWidth||1};return e.groupId&&Object.assign(t,{groupIds:[e.groupId]}),e.id&&Object.assign(t,{id:e.id}),t},m=e=>{let t={type:"text",x:e.x,y:e.y,width:e.width,height:e.height,text:e.text.replace(/\\n/g,"\n")||"",fontSize:e.fontSize,verticalAlign:"middle"};return e.groupId&&Object.assign(t,{groupIds:[e.groupId]}),e.id&&Object.assign(t,{id:e.id}),t},y=e=>{let t={};"rectangle"===e.type&&"activation"===e.subtype&&(t={backgroundColor:"#e9ecef",fillStyle:"solid"});let r={id:e.id,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,label:{text:(e?.label?.text||"").replace(/\\n/g,"\n"),fontSize:e?.label?.fontSize,verticalAlign:e.label?.verticalAlign||"middle",strokeColor:e.label?.color||"#000",groupIds:e.groupId?[e.groupId]:[]},strokeStyle:e?.strokeStyle,strokeWidth:e?.strokeWidth,strokeColor:e?.strokeColor,backgroundColor:e?.bgColor,fillStyle:"solid",...t};return e.groupId&&Object.assign(r,{groupIds:[e.groupId]}),r},k=e=>{let t={type:"arrow",x:e.startX,y:e.startY,points:e.points||[[0,0],[e.endX-e.startX,e.endY-e.startY]],width:e.endX-e.startX,height:e.endY-e.startY,strokeStyle:e?.strokeStyle||"solid",endArrowhead:e?.endArrowhead||null,startArrowhead:e?.startArrowhead||null,label:{text:(e?.label?.text||"").replace(/\\n/g,"\n"),fontSize:16},roundness:{type:2},start:e.start,end:e.end};return e.groupId&&Object.assign(t,{groupIds:[e.groupId]}),t},w=new a({converter:e=>{let t=[],r=[];if(Object.values(e.nodes).forEach(e=>{e&&e.length&&e.forEach(e=>{let a;switch(e.type){case"line":a=b(e);break;case"rectangle":case"ellipse":a=y(e);break;case"text":a=m(e);break;default:throw`unknown type ${e.type}`}"rectangle"===e.type&&e?.subtype==="activation"?r.push(a):t.push(a)})}),Object.values(e.lines).forEach(e=>{e&&t.push(b(e))}),Object.values(e.arrows).forEach(e=>{e&&(t.push(k(e)),e.sequenceNumber&&t.push(y(e.sequenceNumber)))}),t.push(...r),e.loops){let{lines:r,texts:a,nodes:s}=e.loops;r.forEach(e=>{t.push(b(e))}),a.forEach(e=>{t.push(m(e))}),s.forEach(e=>{t.push(y(e))})}return e.groups&&e.groups.forEach(e=>{let{actorKeys:r,name:a}=e,s=1/0,l=1/0,i=0,n=0;if(!r.length)return;t.filter(e=>{if(e.id){let t=e.id.indexOf("-"),a=e.id.substring(0,t);return r.includes(a)}}).forEach(e=>{if(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)throw Error(`Actor attributes missing ${e}`);s=Math.min(s,e.x),l=Math.min(l,e.y),i=Math.max(i,e.x+e.width),n=Math.max(n,e.y+e.height)});let o=s-10,c=l-10,d=i-s+20,u=n-l+20,h=f(),p=y({type:"rectangle",x:o,y:c,width:d,height:u,bgColor:e.fill,id:h});t.unshift(p);let g=f(),b=[h];t.forEach(e=>{if("frame"!==e.type){if(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)throw Error(`Element attributes missing ${e}`);if(e.x>=s&&e.x+e.width<=i&&e.y>=l&&e.y+e.height<=n){let t=e.id||f();e.id||Object.assign(e,{id:t}),b.push(t)}}}),t.push({type:"frame",id:g,name:a,children:b})}),{elements:t}}}),x=new a({converter:e=>{let t=[];return Object.values(e.nodes).forEach(e=>{e&&e.length&&e.forEach(e=>{let r;switch(e.type){case"line":r=b(e);break;case"rectangle":case"ellipse":r=y(e);break;case"text":r=m(e);break;default:throw`unknown type ${e.type}`}t.push(r)})}),Object.values(e.lines).forEach(e=>{e&&t.push(b(e))}),Object.values(e.arrows).forEach(e=>{if(!e)return;let r=k(e);t.push(r)}),Object.values(e.text).forEach(e=>{let r=m(e);t.push(r)}),Object.values(e.namespaces).forEach(r=>{let a=Object.keys(r.classes),s=[...a],l=[...e.lines,...e.arrows,...e.text];a.forEach(e=>{let t=l.filter(t=>t.metadata&&t.metadata.classId===e).map(e=>e.id);t.length&&s.push(...t)});let i={type:"frame",id:f(),name:r.id,children:s};t.push(i)}),{elements:t}}});var v=e.i(34599),v=v;let A=e=>{let t=(e=E(e)).replace(/#(\d+);/g,"&#$1;").replace(/#([a-z]+);/g,"&$1;"),r=document.createElement("textarea");return r.innerHTML=t,r.value},j=e=>{let t=e.getAttribute("transform"),r=t?.match(/translate\(([ \d.-]+),\s*([\d.-]+)\)/),a=0,s=0;return r&&(a=Number(r[1]),s=Number(r[2])),{transformX:a,transformY:s}},E=function(e){return e.replace(/ﬂ°°/g,"#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},S=(e,t={x:0,y:0})=>{if("path"!==e.tagName.toLowerCase())throw Error(`Invalid input: Expected an HTMLElement of tag "path", got ${e.tagName}`);let r=e.getAttribute("d");if(!r)throw Error('Path element does not contain a "d" attribute');let a=r.split(/(?=[LM])/),s=a[0].substring(1).split(",").map(e=>parseFloat(e)),l=a[a.length-1].substring(1).split(",").map(e=>parseFloat(e)),i=a.map(e=>{let t=e.substring(1).split(",").map(e=>parseFloat(e));return{x:t[0],y:t[1]}}).filter((e,t,r)=>{if(0===t||t===r.length-1)return!0;if(e.x===r[t-1].x&&e.y===r[t-1].y)return!1;if(t===r.length-2&&(r[t-1].x===e.x||r[t-1].y===e.y)){let t=r[r.length-1];return Math.hypot(t.x-e.x,t.y-e.y)>20}return e.x!==r[t-1].x||e.y!==r[t-1].y}).map(e=>({x:e.x+t.x,y:e.y+t.y}));return{startX:s[0]+t.x,startY:s[1]+t.y,endX:l[0]+t.x,endY:l[1]+t.y,reflectionPoints:i}},O=(e,t)=>{if(!e)throw Error("Element not found");let r=e.parentElement?.parentElement,a=e.childNodes[0],s={x:0,y:0};if(a){let{transformX:e,transformY:t}=j(a),r=a.getBBox();s={x:Number(a.getAttribute("x"))||e+r.x||0,y:Number(a.getAttribute("y"))||t+r.y||0}}let{transformX:l,transformY:i}=j(e),n={x:l+s.x,y:i+s.y};for(;r&&r.id!==t.id;){if("root"===r.classList.value&&r.hasAttribute("transform")){let{transformX:e,transformY:t}=j(r);n.x+=e,n.y+=t}r=r.parentElement}return n},N=(e,t,r,a,s)=>{let l={};return l.type="arrow",l.startX=e,l.startY=t,l.endX=r,l.endY=a,Object.assign(l,{...s}),l},$=(e,t,r,a)=>({type:"text",x:e,y:t,text:r,width:a?.width||20,height:a?.height||20,fontSize:a?.fontSize||20,id:a?.id,groupId:a?.groupId,metadata:a?.metadata}),L=(e,t,r)=>{let a={},s=Number(e.getAttribute("x")),l=Number(e.getAttribute("y"));a.type="text",a.text=A(t),r?.id&&(a.id=r.id),r?.groupId&&(a.groupId=r.groupId);let i=e.getBBox();return a.width=i.width,a.height=i.height,a.x=s-i.width/2,a.y=l,a.fontSize=parseInt(getComputedStyle(e).fontSize),a},C=(e,t,r={})=>{let a={};a.type=t;let{label:s,subtype:l,id:i,groupId:n}=r;a.id=i,n&&(a.groupId=n),s&&(a.label={text:A(s.text),fontSize:16,verticalAlign:s?.verticalAlign});let o=e.getBBox();switch(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height,a.subtype=l,l){case"highlight":let c=e.getAttribute("fill");c&&(a.bgColor=c);break;case"note":a.strokeStyle="dashed"}return a},I=(e,t,r,a,s,l)=>{let i={};return i.startX=t,i.startY=r,i.endX=a,l?.groupId&&(i.groupId=l.groupId),l?.id&&(i.id=l.id),i.endY=s,i.strokeColor=e.getAttribute("stroke"),i.strokeWidth=Number(e.getAttribute("stroke-width")),i.type="line",i},T={0:"SOLID",1:"DOTTED",3:"SOLID_CROSS",4:"DOTTED_CROSS",5:"SOLID_OPEN",6:"DOTTED_OPEN",24:"SOLID_POINT",25:"DOTTED_POINT"},Y=(e,r,a)=>{if(!e)throw"root node not found";let s=f(),l=Array.from(e.children),i=[];return l.forEach((e,l)=>{let n,o=`${a?.id}-${l}`;switch(e.tagName){case"line":let c=Number(e.getAttribute("x1")),d=Number(e.getAttribute("y1")),u=Number(e.getAttribute("x2")),h=Number(e.getAttribute("y2"));n=I(e,c,d,u,h,{groupId:s,id:o});break;case"text":n=L(e,r,{groupId:s,id:o});break;case"circle":n=C(e,"ellipse",{label:e.textContent?{text:e.textContent}:void 0,groupId:s,id:o});default:n=C(e,t[e.tagName],{label:e.textContent?{text:e.textContent}:void 0,groupId:s,id:o})}i.push(n)}),i},X=e=>{let t;switch(e){case 0:t="diamond_outline";break;case 2:t="diamond";break;case 1:t="triangle_outline";break;case"none":t=null;break;default:t="arrow"}return t},P=async(e,t=r)=>{let a,s,l,i,n;v.N.initialize({...r,...t});let o=await v.N.mermaidAPI.getDiagramFromText(e.replace(/style.*:\S*#.*;/g,e=>e.substring(0,e.length-1)).replace(/classDef.*:\S*#.*;/g,e=>e.substring(0,e.length-1)).replace(/#\w+;/g,e=>{let t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?`ﬂ\xb0\xb0${t}\xb6\xdf`:`ﬂ\xb0${t}\xb6\xdf`})),{svg:c}=await v.N.render("mermaid-to-excalidraw",e),d=document.createElement("div");switch(d.setAttribute("style","opacity: 0; position: relative; z-index: -1;"),d.innerHTML=c,d.id="mermaid-diagram",document.body.appendChild(d),o.type){case"flowchart-v2":o.parse(),Object.keys(l=(s=o.parser.yy).getVertices()).forEach(e=>{l[e]=((e,t)=>{let r,a=t.querySelector(`[id*="flowchart-${e.id}-"]`);if(!a)return;a.parentElement?.tagName.toLowerCase()==="a"&&(r=a.parentElement.getAttribute("xlink:href"));let s=O(r?a.parentElement:a,t),l=a.getBBox(),i={width:l.width,height:l.height},n=a.querySelector(".label-container")?.getAttribute("style"),o=a.querySelector(".label")?.getAttribute("style"),c={};n?.split(";").forEach(e=>{if(!e)return;let t=e.split(":")[0].trim(),r=e.split(":")[1].trim();c[t]=r});let d={};return o?.split(";").forEach(e=>{if(!e)return;let t=e.split(":")[0].trim(),r=e.split(":")[1].trim();d[t]=r}),{id:e.id,labelType:e.labelType,text:A(e.text),type:e.type,link:r||void 0,...s,...i,containerStyle:c,labelStyle:d}})(l[e],d)}),i=new Map,n=s.getEdges().filter(e=>d.querySelector(`[id*="L-${e.start}-${e.end}"]`)).map(e=>{let t=`${e.start}-${e.end}`,r=i.get(t)||0;i.set(t,r+1);let a=d.querySelector(`[id*="L-${e.start}-${e.end}-${r}"]`);if(!a)throw Error("Edge element not found");let s=O(a,d),l=S(a,s);return e.length=void 0,{...e,...l,text:A(e.text)}}),a={type:"flowchart",subGraphs:s.getSubGraphs().map(e=>((e,t)=>{let r=e.nodes.map(e=>e.startsWith("flowchart-")?e.split("-")[1]:e),a=t.querySelector(`[id='${e.id}']`);if(!a)throw Error("SubGraph element not found");let s=O(a,t),l=a.getBBox(),i={width:l.width,height:l.height};return e.classes=void 0,e.dir=void 0,{...e,nodeIds:r,...s,...i,text:A(e.title)}})(e,d)),vertices:l,edges:n};break;case"sequence":a=((e,t)=>{var r;let a,s,l,i,n,o,c,d,u,h,p,f,g,b,m,y,k,w,x,v,j,E,S;e.parse();let O=e.parser.yy,N=[],$=O.getBoxes(),X=(a=Array.from(t.querySelectorAll(".rect")).filter(e=>e.parentElement?.tagName!=="g"),s=[],a.forEach(e=>{let t=C(e,"rectangle",{label:{text:""},subtype:"highlight"});s.push(t)}),s),{nodes:P,lines:R}=(r=O.getActors(),l=Array.from(t.querySelectorAll(".actor-top")),i=Array.from(t.querySelectorAll(".actor-bottom")),n=[],o=[],Object.values(r).forEach((e,t)=>{let r=l.find(t=>t.getAttribute("name")===e.name),a=i.find(t=>t.getAttribute("name")===e.name);if(!r||!a)throw"root not found";let s=e.description;if("participant"===e.type){let t=C(r,"rectangle",{id:`${e.name}-top`,label:{text:s},subtype:"actor"});if(!t)throw"Top Node element not found!";n.push([t]);let l=C(a,"rectangle",{id:`${e.name}-bottom`,label:{text:s},subtype:"actor"});n.push([l]);let i=r?.parentElement?.previousElementSibling;if(i?.tagName!=="line")throw"Line not found";let c=Number(i.getAttribute("x1"));if(!t.height)throw"Top node element height is null";let d=t.y+t.height,u=l.y,h=Number(i.getAttribute("x2")),p=I(i,c,d,h,u);o.push(p)}else if("actor"===e.type){let t=Y(r,s,{id:`${e.name}-top`});n.push(t);let l=Y(a,s,{id:`${e.name}-bottom`});n.push(l);let i=r.previousElementSibling;if(i?.tagName!=="line")throw"Line not found";let c=Number(i.getAttribute("x1")),d=Number(i.getAttribute("y1")),u=Number(i.getAttribute("x2")),h=l.find(e=>"ellipse"===e.type);if(h){let e=I(i,c,d,u,h.y);o.push(e)}}}),{nodes:n,lines:o}),_=O.getMessages(),D=(c=[],d=Array.from(t.querySelectorAll('[class*="messageLine"]')),u=Object.keys(T),h=_.filter(e=>u.includes(e.type.toString())),d.forEach((e,t)=>{let r=h[t],a=T[r.type],s=((e,t)=>{let r={};t?.label&&(r.label={text:A(t.label),fontSize:16});let a=e.tagName;if("line"===a)r.startX=Number(e.getAttribute("x1")),r.startY=Number(e.getAttribute("y1")),r.endX=Number(e.getAttribute("x2")),r.endY=Number(e.getAttribute("y2"));else if("path"===a){let t=e.getAttribute("d");if(!t)throw Error('Path element does not contain a "d" attribute');let a=t.split(/(?=[LC])/),s=a[0].substring(1).split(",").map(e=>parseFloat(e)),l=[];a.forEach(e=>{let t=e.substring(1).trim().split(" ").map(e=>{let[t,r]=e.split(",");return[parseFloat(t)-s[0],parseFloat(r)-s[1]]});l.push(...t)});let i=l[l.length-1];r.startX=s[0],r.startY=s[1],r.endX=i[0],r.endY=i[1],r.points=l}return t?.label&&(r.startY=r.startY-10,r.endY=r.endY-10),r.strokeColor=e.getAttribute("stroke"),r.strokeWidth=Number(e.getAttribute("stroke-width")),r.type="arrow",r.strokeStyle=t?.strokeStyle||"solid",r.startArrowhead=t?.startArrowhead||null,r.endArrowhead=t?.endArrowhead||null,r})(e,{label:r?.message,strokeStyle:(e=>{let t;switch(e){case 0:case 3:case 5:case 24:default:t="solid";break;case 1:case 4:case 6:case 25:t="dotted"}return t})(r.type),endArrowhead:"SOLID_OPEN"===a||"DOTTED_OPEN"===a?null:"arrow"});if(e.nextElementSibling?.classList.contains("sequenceNumber")){let t=e.nextElementSibling?.textContent;if(!t)throw Error("sequence number not present");let r={type:"rectangle",x:s.startX-10,y:s.startY-15,label:{text:t,fontSize:14},bgColor:"#e9ecef",height:30,subtype:"sequence"};Object.assign(s,{sequenceNumber:r})}c.push(s)}),c),q=(p=Array.from(t.querySelectorAll(".note")).map(e=>e.parentElement),f=_.filter(e=>2===e.type),g=[],p.forEach((e,t)=>{if(!e)return;let r=C(e.firstChild,"rectangle",{label:{text:f[t].message},subtype:"note"});g.push(r)}),g),B=(b=Array.from(t.querySelectorAll("[class*=activation]")),m=[],b.forEach(e=>{let t=C(e,"rectangle",{label:{text:""},subtype:"activation"});m.push(t)}),m),M=(y=Array.from(t.querySelectorAll(".loopLine")),k=[],w=[],x=[],y.forEach(e=>{let t=Number(e.getAttribute("x1")),r=Number(e.getAttribute("y1")),a=Number(e.getAttribute("x2")),s=Number(e.getAttribute("y2")),l=I(e,t,r,a,s);l.strokeStyle="dotted",l.strokeColor="#adb5bd",l.strokeWidth=2,k.push(l)}),v=Array.from(t.querySelectorAll(".loopText")),j=_.filter(e=>27===e.type).map(e=>e.message),v.forEach(e=>{let t=e.textContent||"",r=L(e,t),a=t.match(/\[(.*?)\]/)?.[1]||"";j.includes(a)&&(r.x+=16),w.push(r)}),E=Array.from(t?.querySelectorAll(".labelBox")),S=Array.from(t?.querySelectorAll(".labelText")),E.forEach((e,t)=>{let r=C(e,"rectangle",{label:{text:S[t]?.textContent||""}});r.strokeColor="#adb5bd",r.bgColor="#e9ecef",r.width=void 0,x.push(r)}),{lines:k,texts:w,nodes:x});return N.push(X),N.push(...P),N.push(q),N.push(B),{type:"sequence",lines:R,arrows:D,nodes:N,loops:M,groups:$}})(o,d);break;case"classDiagram":a=((e,t)=>{var r;let a,s;e.parse();let l=e.parser.yy,i=l.getDirection(),n=[],o=[],c=[],d=[],u=l.getNamespaces(),h=l.getClasses();if(Object.keys(h).length){let e,r,a,s=(e=[],r=[],a=[],Object.values(h).forEach(s=>{let{domId:l,id:i}=s,n=f(),o=t.querySelector(`[data-id=${i}]`);if(!o)throw Error(`DOM Node with id ${l} not found`);let{transformX:c,transformY:d}=j(o),u=C(o.firstChild,"rectangle",{id:i,groupId:n});u.x+=c,u.y+=d,u.metadata={classId:i},e.push(u),Array.from(o.querySelectorAll(".divider")).forEach(e=>{let t=Number(e.getAttribute("x1")),a=Number(e.getAttribute("y1")),s=Number(e.getAttribute("x2")),l=Number(e.getAttribute("y2")),o=I(e,t,a,s,l,{groupId:n,id:f()});o.startX+=c,o.startY+=d,o.endX+=c,o.endY+=d,o.metadata={classId:i},r.push(o)});let h=o.querySelector(".label")?.children;if(!h)throw"label nodes not found";Array.from(h).forEach(e=>{let t=e.textContent;if(!t)return;let r=f(),{transformX:s,transformY:l}=j(e),o=e.getBBox(),u=$(c+s,d+l+10,t,{width:o.width,height:o.height,id:r,groupId:n,metadata:{classId:i}});a.push(u)})}),{nodes:e,lines:r,text:a});n.push(s.nodes),o.push(...s.lines),c.push(...s.text),d.push(...s.nodes)}let{arrows:p,text:g}=((e,t,r,a)=>{let s=r.querySelector(".edgePaths")?.children;if(!s)throw Error("No Edges found!");let l=[],i=[];return e.forEach((e,r)=>{let n,o,c,d,u,{id1:h,id2:p,relation:f}=e,g=t.find(e=>e.id===h),b=t.find(e=>e.id===p),m=(e=>{let t;switch(e){case 0:default:t="solid";break;case 1:t="dotted"}return t})(f.lineType),y=X(f.type1),k=X(f.type2),w=S(s[r]),x=N(w.startX,w.startY,w.endX,w.endY,{strokeStyle:m,startArrowhead:y,endArrowhead:k,label:e.title?{text:e.title}:void 0,start:{type:"rectangle",id:g.id},end:{type:"rectangle",id:b.id}}),v=(c=["triangle_outline","diamond","diamond_outline"],d=x.startArrowhead&&c.includes(x.startArrowhead),((u=x.endArrowhead&&c.includes(x.endArrowhead))||d)&&(d&&("LR"===a?x.startX-=16:"RL"===a?x.startX+=16:"TB"===a?x.startY-=16:"BT"===a&&(x.startY+=16)),u&&("LR"===a?x.endX+=16:"RL"===a?x.endX-=16:"TB"===a?x.endY+=16:"BT"===a&&(x.endY-=16))),x);l.push(v);let{relationTitle1:A,relationTitle2:j}=e;if(A&&"none"!==A){switch(a){case"TB":n=v.startX-20,v.endX<v.startX&&(n-=15),o=v.startY+15;break;case"BT":n=v.startX+20,v.endX>v.startX&&(n+=15),o=v.startY-15;break;case"LR":n=v.startX+20,o=v.startY+15,v.endY>v.startY&&(o+=15);break;case"RL":n=v.startX-20,o=v.startY-15,v.startY>v.endY&&(o-=15);break;default:n=v.startX-20,o=v.startY+15}let e=$(n,o,A,{fontSize:16});i.push(e)}if(j&&"none"!==j){switch(a){case"TB":n=v.endX+20,v.endX<v.startX&&(n+=15),o=v.endY-15;break;case"BT":n=v.endX-20,v.endX>v.startX&&(n-=15),o=v.endY+15;break;case"LR":n=v.endX-20,o=v.endY-15,v.endY>v.startY&&(o-=15);break;case"RL":n=v.endX+20,o=v.endY+15,v.startY>v.endY&&(o+=15);break;default:n=v.endX+20,o=v.endY-15}let e=$(n,o,j,{fontSize:16});i.push(e)}}),{arrows:l,text:i}})(l.getRelations(),d,t,i),{notes:b,connectors:m}=(r=l.getNotes(),a=[],s=[],r.forEach(e=>{let{id:r,text:l,class:i}=e,n=t.querySelector(`#${r}`);if(!n)throw Error(`Node with id ${r} not found!`);let{transformX:o,transformY:c}=j(n),u=C(n.firstChild,"rectangle",{id:r,subtype:"note",label:{text:l}});if(Object.assign(u,{x:u.x+o,y:u.y+c}),a.push(u),i){let e=d.find(e=>e.id===i);if(!e)throw Error(`class node with id ${i} not found!`);let t=u.x+(u.width||0)/2,r=N(t,u.y+(u.height||0),t,e.y,{strokeStyle:"dotted",startArrowhead:null,endArrowhead:null,start:{id:u.id,type:"rectangle"},end:{id:e.id,type:"rectangle"}});s.push(r)}}),{notes:a,connectors:s});return n.push(b),p.push(...m),c.push(...g),{type:"class",nodes:n,lines:o,arrows:p,text:c,namespaces:u}})(o,d);break;default:a=(e=>{let t=e.querySelector("svg");if(!t)throw Error("SVG element not found");let r=t.getBoundingClientRect(),a=r.width,s=r.height;t.setAttribute("width",`${a}`),t.setAttribute("height",`${s}`);let l=btoa(unescape(encodeURIComponent(t.outerHTML)));return{type:"graphImage",mimeType:"image/svg+xml",dataURL:`data:image/svg+xml;base64,${l}`,width:a,height:s}})(d)}return d.remove(),a},R=async(e,t)=>{let r=t||{},a=parseInt(r.themeVariables?.fontSize??"")||20;return((e,t={})=>{switch(e.type){case"graphImage":return g.convert(e,t);case"flowchart":return p.convert(e,t);case"sequence":return w.convert(e,t);case"class":return x.convert(e,t);default:throw Error(`graphToExcalidraw: unknown graph type "${e.type}, only flowcharts are supported!"`)}})(await P(e,{...r,themeVariables:{...r.themeVariables,fontSize:`${1.25*a}px`}}),{fontSize:a})};e.s(["parseMermaidToExcalidraw",()=>R],37341)},59766,e=>{e.v(t=>Promise.all(["static/chunks/8ff31fb4dcd8fd17.js"].map(t=>e.l(t))).then(()=>t(41037)))},64323,e=>{e.v(t=>Promise.all(["static/chunks/298dd5292144f9b3.js","static/chunks/ec806abf1c50bab8.js"].map(t=>e.l(t))).then(()=>t(38450)))},73946,e=>{e.v(t=>Promise.all(["static/chunks/091e470f555a800f.js","static/chunks/4ec80044588de4e9.js","static/chunks/af7da1bb838c7f94.js","static/chunks/2e5e87c708338344.js","static/chunks/57c75ee2f18a1e40.js","static/chunks/50be1f1d29e97eff.js"].map(t=>e.l(t))).then(()=>t(30085)))},5720,e=>{e.v(t=>Promise.all(["static/chunks/82809622c9f9cfac.js","static/chunks/4ec80044588de4e9.js","static/chunks/091e470f555a800f.js","static/chunks/50be1f1d29e97eff.js","static/chunks/57c75ee2f18a1e40.js","static/chunks/2e5e87c708338344.js"].map(t=>e.l(t))).then(()=>t(73475)))},99461,e=>{e.v(t=>Promise.all(["static/chunks/0d0caca68269f6ad.js","static/chunks/6b46f12655e1760e.js","static/chunks/091e470f555a800f.js","static/chunks/50be1f1d29e97eff.js"].map(t=>e.l(t))).then(()=>t(9445)))},12873,e=>{e.v(t=>Promise.all(["static/chunks/50f02eac44be89e4.js"].map(t=>e.l(t))).then(()=>t(60544)))},41911,e=>{e.v(t=>Promise.all(["static/chunks/38a91667ec50b301.js"].map(t=>e.l(t))).then(()=>t(95331)))},823,e=>{e.v(t=>Promise.all(["static/chunks/6eae89acf8d721cb.js"].map(t=>e.l(t))).then(()=>t(74578)))},31247,e=>{e.v(t=>Promise.all(["static/chunks/a23020f69b7e8c65.js"].map(t=>e.l(t))).then(()=>t(91218)))},58147,e=>{e.v(t=>Promise.all(["static/chunks/285ee6ad8c87b531.js"].map(t=>e.l(t))).then(()=>t(74590)))},78809,e=>{e.v(t=>Promise.all(["static/chunks/048941859800f966.js","static/chunks/2e5e87c708338344.js"].map(t=>e.l(t))).then(()=>t(32878)))},11950,e=>{e.v(t=>Promise.all(["static/chunks/4dcc9c6a28833e0f.js","static/chunks/0d0caca68269f6ad.js","static/chunks/091e470f555a800f.js","static/chunks/f53cd8ec96e57996.js"].map(t=>e.l(t))).then(()=>t(67920)))},29426,e=>{e.v(t=>Promise.all(["static/chunks/298dd5292144f9b3.js","static/chunks/f422a9b042e119be.js"].map(t=>e.l(t))).then(()=>t(97852)))},85376,e=>{e.v(t=>Promise.all(["static/chunks/0d0caca68269f6ad.js","static/chunks/b4620f3095b43e3e.js","static/chunks/091e470f555a800f.js","static/chunks/f53cd8ec96e57996.js"].map(t=>e.l(t))).then(()=>t(11013)))},869,e=>{e.v(t=>Promise.all(["static/chunks/091e470f555a800f.js","static/chunks/50be1f1d29e97eff.js","static/chunks/2e5e87c708338344.js","static/chunks/57c75ee2f18a1e40.js","static/chunks/d22b465755edb0eb.js"].map(t=>e.l(t))).then(()=>t(64750)))},81177,e=>{e.v(t=>Promise.all(["static/chunks/0d0caca68269f6ad.js","static/chunks/1ec08e5acf5007a4.js","static/chunks/091e470f555a800f.js","static/chunks/f53cd8ec96e57996.js"].map(t=>e.l(t))).then(()=>t(44658)))},11554,e=>{e.v(t=>Promise.all(["static/chunks/f63620b879266822.js","static/chunks/091e470f555a800f.js","static/chunks/2e5e87c708338344.js","static/chunks/57c75ee2f18a1e40.js","static/chunks/50be1f1d29e97eff.js"].map(t=>e.l(t))).then(()=>t(94229)))},15082,e=>{e.v(t=>Promise.all(["static/chunks/d1bfdfa7382afc3a.js"].map(t=>e.l(t))).then(()=>t(25795)))},9502,e=>{e.v(t=>Promise.all(["static/chunks/d65f055a24dc5db5.js","static/chunks/4ec80044588de4e9.js","static/chunks/2e5e87c708338344.js","static/chunks/aaf6e208890e234d.js"].map(t=>e.l(t))).then(()=>t(38072)))},65330,e=>{e.v(t=>Promise.all(["static/chunks/00a39b6405879015.js"].map(t=>e.l(t))).then(()=>t(25109)))},56587,e=>{e.v(t=>Promise.all(["static/chunks/2e5e87c708338344.js","static/chunks/784a89625cbcb4d6.js","static/chunks/c14b34df3ead58bd.js"].map(t=>e.l(t))).then(()=>t(89734)))},29747,e=>{e.v(t=>Promise.all(["static/chunks/8572e9220eee8e8f.js"].map(t=>e.l(t))).then(()=>t(64653)))},44099,e=>{e.v(t=>Promise.all(["static/chunks/8fbffaaa0af2e5cd.js","static/chunks/de144180fcc7d338.js","static/chunks/07f1e4a02bcde59b.js","static/chunks/2e5e87c708338344.js"].map(t=>e.l(t))).then(()=>t(46674)))}]);