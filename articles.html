<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1" data-next-head=""/><meta name="description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta property="og:description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta name="twitter:description" content="The blog owned by Ryo, about Programing, Painting, and Gaming." data-next-head=""/><meta property="og:image" content="https://ryojerryyu.github.io/blog-next/img/home-bg-kasumi-hanabi.jpg" data-next-head=""/><meta name="twitter:image" content="https://ryojerryyu.github.io/blog-next/img/home-bg-kasumi-hanabi.jpg" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta property="og:url" content="https://blog.ryo-okami.xyz/articles" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@ryo_okami" data-next-head=""/><meta name="twitter:creator" content="@ryo_okami" data-next-head=""/><link rel="icon" href="/blog-next/favicon.ico" data-next-head=""/><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" data-next-head=""/><title data-next-head="">Articles | Ryo&#x27;s Blog</title><meta property="og:title" content="Articles" data-next-head=""/><meta property="og:site_name" content="Ryo&#x27;s Blog" data-next-head=""/><meta name="twitter:title" content="Articles | Ryo&#x27;s Blog" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/blog-next/_next/static/css/8bc897d2815c155b.css" as="style"/><link rel="preload" href="/blog-next/_next/static/css/50b775b74e204f8b.css" as="style"/><link rel="stylesheet" href="/blog-next/_next/static/css/8bc897d2815c155b.css" data-n-g=""/><link rel="stylesheet" href="/blog-next/_next/static/css/50b775b74e204f8b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/blog-next/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/blog-next/_next/static/chunks/webpack-0838eb7d41561e24.js" defer=""></script><script src="/blog-next/_next/static/chunks/framework-d33e0fe36067854f.js" defer=""></script><script src="/blog-next/_next/static/chunks/main-dea36a7529be985a.js" defer=""></script><script src="/blog-next/_next/static/chunks/pages/_app-0fb7c4bae3c90fb5.js" defer=""></script><script src="/blog-next/_next/static/chunks/5342-0e842ae0467f6356.js" defer=""></script><script src="/blog-next/_next/static/chunks/2899-abcab7b9e18a0e18.js" defer=""></script><script src="/blog-next/_next/static/chunks/pages/articles-2e7468ee50d290ae.js" defer=""></script><script src="/blog-next/_next/static/Yf2dw2JQFE2D1rodq8blQ/_buildManifest.js" defer=""></script><script src="/blog-next/_next/static/Yf2dw2JQFE2D1rodq8blQ/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css czlpqi">.css-czlpqi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);background-color:rgba(15, 23, 42, 0.75);}@media print{.css-czlpqi{position:absolute;}}</style><style data-emotion="css 1cmpeoq">.css-1cmpeoq{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:var(--Paper-shadow);background-image:var(--Paper-overlay);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;--AppBar-background:#1976d2;--AppBar-color:#fff;background-color:var(--AppBar-background);color:var(--AppBar-color);background-color:rgba(15, 23, 42, 0.75);}@media print{.css-1cmpeoq{position:absolute;}}</style><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed css-1cmpeoq" style="--Paper-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"><style data-emotion="css awgou1">.css-awgou1{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-awgou1{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-awgou1{min-height:48px;}}}@media (min-width:600px){.css-awgou1{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-awgou1"><style data-emotion="css 1guk29">@media (min-width:0px){.css-1guk29{display:none;}}@media (min-width:900px){.css-1guk29{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}</style><div class="ml-2 w-24 mr-4 MuiBox-root css-1guk29"><a class="DefaultLayout_textlink__W55gl" href="/blog-next">Ryo&#x27;s Blog</a></div><style data-emotion="css 1m04nb5">@media (min-width:0px){.css-1m04nb5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (min-width:900px){.css-1m04nb5{display:none;}}</style><div class="ml-2 mr-4 MuiBox-root css-1m04nb5"><a title="Ryo&#x27;s Blog" href="/blog-next"><style data-emotion="css q7mezt">.css-q7mezt{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;fill:currentColor;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium h-6 w-6 text-gray-300 hover:text-white css-q7mezt" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg></a></div><style data-emotion="css nznm6s">.css-nznm6s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="MuiBox-root css-nznm6s"><div class="DefaultLayoutMenu bg-transparent min-w-full"><ul class="rc-menu-overflow rc-menu rc-menu-root rc-menu-horizontal" role="menu" tabindex="0" data-menu-list="true"><li class="rc-menu-overflow-item rc-menu-item" style="opacity:1;order:0" role="menuitem" tabindex="-1"><a class="DefaultLayout_textlink__W55gl" href="/blog-next/articles">Articles</a></li><li class="rc-menu-overflow-item rc-menu-item" style="opacity:1;order:1" role="menuitem" tabindex="-1"><a class="DefaultLayout_textlink__W55gl" href="/blog-next/learn_from_ai">Learn from AI</a></li><li class="rc-menu-overflow-item rc-menu-item" style="opacity:1;order:2" role="menuitem" tabindex="-1"><a class="DefaultLayout_textlink__W55gl" href="/blog-next/tags">Tags</a></li><li class="rc-menu-overflow-item rc-menu-submenu rc-menu-submenu-horizontal" style="opacity:1;order:3" role="none"><div role="menuitem" class="rc-menu-submenu-title" tabindex="-1" aria-expanded="false" aria-haspopup="true"><span class="DefaultLayout_textlink__W55gl">More</span><i class="rc-menu-submenu-arrow"></i></div></li><li class="rc-menu-overflow-item rc-menu-overflow-item-rest rc-menu-submenu rc-menu-submenu-horizontal" style="opacity:0;height:0;overflow-y:hidden;order:9007199254740991;pointer-events:none;position:absolute" aria-hidden="true" role="none"><div role="menuitem" class="rc-menu-submenu-title" tabindex="-1" title="..." aria-expanded="false" aria-haspopup="true">...<i class="rc-menu-submenu-arrow"></i></div></li></ul><div style="display:none" aria-hidden="true"></div></div></div><style data-emotion="css k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="MuiBox-root css-k008qs"><a title="Twitter" href="https://twitter.com/ryo_okami"><svg class="h-6 w-6 fill-gray-300 hover:fill-white mx-1 sm:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a title="GitHub" href="https://github.com/RyoJerryYu"><svg class="h-6 w-6 fill-gray-300 hover:fill-white mx-1 sm:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a title="Pixiv" href="https://www.pixiv.net/users/9159893"><svg class="h-6 w-6 fill-gray-300 hover:fill-white mx-1 sm:mx-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"></path></svg></a></div></div></header><style data-emotion="css awgou1">.css-awgou1{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.css-awgou1{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.css-awgou1{min-height:48px;}}}@media (min-width:600px){.css-awgou1{min-height:64px;}}</style><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-awgou1"></div><style data-emotion="css vktxal">.css-vktxal{--Grid-columns:12;--Grid-columnSpacing:0px;--Grid-rowSpacing:0px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-width:0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--Grid-rowSpacing) var(--Grid-columnSpacing);width:100%;max-width:80rem;margin-left:auto;margin-right:auto;padding:0.5rem;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.css-vktxal >*{--Grid-parent-columns:12;}.css-vktxal >*{--Grid-parent-columnSpacing:0px;}.css-vktxal >*{--Grid-parent-rowSpacing:0px;}</style><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-row css-vktxal"><style data-emotion="css 9gdssj">.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid-root MuiGrid-direction-xs-row MuiGrid-grid-xs-0 MuiGrid-grid-md-0 MuiGrid-grid-lg-2 css-9gdssj"></div><style data-emotion="css 9h67uz">.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 12 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 12) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 9 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 9) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 8 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 8) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid-root MuiGrid-direction-xs-row MuiGrid-grid-xs-12 MuiGrid-grid-md-9 MuiGrid-grid-lg-8 css-9h67uz"><div class="DefaultLayout_contentHeight__RDRZE"><div class="PostList_postList__Tuobz"><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/try-cursor-and-thinking"><h6 class="PostList_postTitle__vveJr">å°è¯• Cursor çš„æ„Ÿæƒ³å’Œä¸€äº›æ€è€ƒ</h6><div class="PostList_postDate__z_XQh"><time dateTime="2024-11-16T15:42:00.000Z">2024-11-16</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">è¯•ç€ç”¨äº†ä¸€ä¸‹ cursor ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ã€‚éæŠ€æœ¯ä¹Ÿèƒ½åŠå°æ—¶èƒ½åšä¸€æ¬¾ App å¯èƒ½æ˜¯çœŸçš„ã€‚ä½†æ›¿ä»£ä¸äº†æŠ€æœ¯å²—ä¹Ÿæ˜¯çœŸçš„ã€‚</p><p class="py-1">è™½ç„¶ Cursor åŸºäº VSCode äºŒæ¬¡å¼€å‘ï¼Œä½†å¯èƒ½ä¸ºäº†åš AI åŠŸèƒ½æŠŠ Editor Pooling æˆ–è€… File Watching èƒ½åŠ›æåäº†ï¼Œç»å¸¸ Apply äº†ä¿®æ”¹å Explorer å’Œ Editor é‡Œæ²¡æœ‰åŠæ—¶åé¦ˆã€‚ç„¶åè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½å› ä¸ºå¯ä»¥åˆ å†…å®¹å¯¼è‡´æ‰‹æ„Ÿè·Ÿ VSCode é‡Œçš„ Copilot æ¯”è¾ƒä¸åŒï¼Œç”¨èµ·æ¥æ¯”è¾ƒ annoying ã€‚</p><p class="py-1">ä½œä¸ºä¸€ä¸ªåŸºäº VSCode äºŒæ¬¡å¼€å‘çš„ç¼–è¾‘å™¨ï¼ŒCursor åœ¨æ–‡ä»¶ç³»ç»Ÿç›‘æ§æ–¹é¢å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚å½“å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹åï¼ŒExplorer å’Œ Editor ç»å¸¸æ— æ³•åŠæ—¶åæ˜ è¿™äº›å˜åŒ–ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºä¸ºäº†å®ç° AI åŠŸèƒ½è€Œå¯¹åŸæœ‰çš„ Editor Pooling æˆ– File Watching æœºåˆ¶è¿›è¡Œäº†ä¿®æ”¹å¯¼è‡´çš„ã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cursor">#<!-- -->Cursor</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E8%B0%88">#<!-- -->æ‚è°ˆ</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/introduction-for-k8s-2"><h6 class="PostList_postTitle__vveJr">Kubernetes å…¥é—¨ ï¼ˆ2ï¼‰</h6><div class="PostList_postDate__z_XQh"><time dateTime="2022-08-20T21:56:52.000Z">2022-08-20</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">æˆ‘ä»¬ä¹‹å‰è¯´çš„éƒ½æ˜¯ç”¨äºéƒ¨ç½² Pod çš„èµ„æºï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä»‹ç»ä¸åˆ›å»º Pod ä¸ç›¸å…³çš„èµ„æºï¼šå‚¨å­˜ä¸ç½‘ç»œã€‚</p><p class="py-1">å…¶å®æˆ‘ä»¬ä¹‹å‰å·²ç»æ¥è§¦è¿‡å‚¨å­˜ç›¸å…³çš„å†…å®¹äº†ï¼šåœ¨è®² Stateful Set æ—¶æˆ‘ä»¬æè¿‡ Stateful Set åˆ›å»ºå‡ºæ¥çš„ Pod éƒ½ä¼šæœ‰ç›¸äº’ç‹¬ç«‹çš„å‚¨å­˜ï¼›è€Œè®² Daemon Set æ—¶æˆ‘ä»¬æåˆ° K8s æ¨èåªåœ¨ Daemon Set çš„ Pod ä¸­è®¿é—®å®¿ä¸»æœºç£ç›˜ã€‚ä½†ç‹¬ç«‹çš„å‚¨å­˜å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿé™¤äº†è®¿é—®å®¿ä¸»æœºç£ç›˜ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆå…¶ä»–çš„å‚¨å­˜ï¼Ÿ</p><p class="py-1">åœ¨ Docker ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®¿ä¸»æœºç£ç›˜ä¸Šçš„ä¸€ä¸ªè·¯å¾„ä½œä¸ºä¸€ä¸ª Volume æ¥ç»™å®¹å™¨ç»‘å®šï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ Docker Engine ç®¡ç†çš„ Volume æ¥æä¾›æŒä¹…åŒ–å­˜å‚¨æˆ–æ˜¯å®¹å™¨é—´å…±äº«æ–‡ä»¶ã€‚åœ¨ K8s é‡Œé¢ä¹Ÿæ²¿ç”¨äº† Volume è¿™ä¸ªæ¦‚å¿µï¼Œå¯ä»¥é€šè¿‡ Mount ç»‘å®šåˆ°å®¹å™¨å†…çš„è·¯å¾„ï¼Œå¹¶é€šè¿‡å®ç° CSI çš„å„ç§å¼•æ“æ¥æä¾›æ›´å¤šæ ·çš„å­˜å‚¨ã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/kubernetes">#<!-- -->Kubernetes</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/devops">#<!-- -->DevOps</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/docker">#<!-- -->Docker</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cloud-native">#<!-- -->Cloud Native</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/introduction-for-k8s"><h6 class="PostList_postTitle__vveJr">Kubernetes å…¥é—¨ ï¼ˆ1ï¼‰</h6><div class="PostList_postDate__z_XQh"><time dateTime="2022-08-13T17:45:31.000Z">2022-08-13</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">æˆ‘ä»¬çŸ¥é“ K8s åˆ©ç”¨äº†å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚è€Œè¯´åˆ°å®¹å™¨è™šæ‹ŸåŒ–å°±è¦è¯´ Docker ã€‚å¯æ˜¯ï¼Œå®¹å™¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ Docker åˆä¸ºæˆ‘ä»¬åšäº†äº›ä»€ä¹ˆï¼Ÿæˆ‘ä»¬åˆä¸ºä»€ä¹ˆè¦ç”¨ K8s ï¼Ÿ</p><p class="py-1">&gt; è¦æŠŠä¸€ä¸ªä¸çŸ¥é“æ‰“è¿‡å¤šå°‘ä¸ªå‡çº§è¡¥ä¸ï¼Œä¸çŸ¥é“ç»å†äº†å¤šå°‘ä»»ç®¡ç†å‘˜çš„ç³»ç»Ÿè¿ç§»åˆ°å…¶ä»–æœºå™¨ä¸Šï¼Œæ¯«æ— ç–‘é—®ä¼šæ˜¯ä¸€åœºç¾éš¾ã€‚ â€”â€” Chad Fowler ã€ŠTrash Your Servers and Burn Your Codeã€‹</p><p class="py-1">&quot;Write once, run anywhere&quot; æ˜¯ Java æ›¾ç»çš„å£å·ã€‚ Java ä¼å›¾é€šè¿‡ JVM è™šæ‹Ÿæœºæ¥å®ç°ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºåœ¨å¤šå¹³å°é—´çš„ç§»æ¤æ€§ã€‚ä½†æˆ‘ä»¬ç°åœ¨çŸ¥é“ï¼Œ Java è¯­è¨€å¹¶æ²¡èƒ½å®ç°ä»–çš„ç›®æ ‡ï¼Œä¼šåœ¨æ“ä½œç³»ç»Ÿè°ƒç”¨ã€ç¬¬ä¸‰æ–¹ä¾èµ–ä¸¢å¤±ã€ä¸¤ä¸ªç¨‹åºé—´ä¾èµ–çš„å†²çªç­‰å„æ–¹é¢å‡ºç°é—®é¢˜ã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/kubernetes">#<!-- -->Kubernetes</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/devops">#<!-- -->DevOps</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/docker">#<!-- -->Docker</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/cloud-native">#<!-- -->Cloud Native</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/why-homogeneous"><h6 class="PostList_postTitle__vveJr">ä¸ºä»€ä¹ˆä½¿ç”¨åœ¨é½æ¬¡åæ ‡ä¸‹çŸ©é˜µä¹˜æ³•èƒ½è¡¨ç¤ºç‚¹å¹³ç§»ï¼Ÿ</h6><div class="PostList_postDate__z_XQh"><time dateTime="2022-07-31T15:35:17.000Z">2022-07-31</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">ç®€åŒ–äº†ä¸€ä¸‡å€æ¥è¯´ï¼Œçº¿æ€§å˜æ¢ä¸»è¦æ˜¯åœ¨æè¿°ç¬¦åˆè¿™ä¸¤ç§æ€§è´¨çš„å˜æ¢ï¼šä¸€æ˜¯è¦å¯åŠ ï¼ŒäºŒæ˜¯è¦èƒ½æ•°ä¹˜ã€‚</p><p class="py-1">ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºç©ºé—´ä¸­æ‰€æœ‰å‘é‡ $$\vec{v_1}, \vec{v_2}$$ ï¼Œä»¥åŠä»»æ„æ•°é‡ $$k_1, k_2$$ ï¼Œå¦‚æœæœ‰ï¼š</p><p class="py-1">$$</p></div></a></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/graph-for-economics-2"><h6 class="PostList_postTitle__vveJr">å›¾è§£ç»æµå­¦åŸç†(2)</h6><div class="PostList_postDate__z_XQh"><time dateTime="2022-07-19T23:12:48.000Z">2022-07-19</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; 1. è¿™ç¯‡æ–‡ç« å‚è€ƒäº†æ›¼æ˜†çš„ã€Šç»æµå­¦åŸç†ã€‹ä¸åŒ—äº¬å¤§å­¦ç‹è¾‰è€å¸ˆçš„ã€Šå¾®è§‚ç»æµå­¦ã€‹è¯¾ç¨‹ï¼Œå†…å®¹ä¸Šä¼šæœ‰éƒ¨åˆ†ç›¸ä¼¼ã€‚</p><p class="py-1">&gt; 2. è¿™ç¯‡æ–‡ç« ä¸­çš„å›¾ä½¿ç”¨ 3Blue1Brown çš„åŠ¨ç”»ç”Ÿæˆå·¥å…· manim çš„ Community Edition åˆ¶ä½œï¼Œæºä»£ç ä¹‹åä¼šä¸Šä¼ åˆ° GitHub ã€‚</p><p class="py-1">ä¸Šä¸€ç¯‡è®²ä¾›ç»™ï¼Œè¿™ä¸€ç¯‡è®²éœ€æ±‚ã€‚</p></div></a></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/graph-for-economics-1"><h6 class="PostList_postTitle__vveJr">å›¾è§£ç»æµå­¦åŸç†(1)</h6><div class="PostList_postDate__z_XQh"><time dateTime="2022-06-28T00:59:41.000Z">2022-06-28</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; 1. è¿™ç¯‡æ–‡ç« å‚è€ƒäº†æ›¼æ˜†çš„ã€Šç»æµå­¦åŸç†ã€‹ä¸åŒ—äº¬å¤§å­¦ç‹è¾‰è€å¸ˆçš„ã€Šå¾®è§‚ç»æµå­¦ã€‹è¯¾ç¨‹ï¼Œå†…å®¹ä¸Šä¼šæœ‰éƒ¨åˆ†ç›¸ä¼¼ã€‚</p><p class="py-1">&gt; 2. è¿™ç¯‡æ–‡ç« ä¸­çš„å›¾ä½¿ç”¨ 3Blue1Brown çš„åŠ¨ç”»ç”Ÿæˆå·¥å…· manim çš„ Community Edition åˆ¶ä½œï¼Œæºä»£ç ä¹‹åä¼šä¸Šä¼ åˆ° GitHub ã€‚</p><p class="py-1">æˆ‘ä»¬å…ˆä¸è®²è¯¾ï¼Œå…ˆæ¥å¸¦ä¸ªè´§ã€‚</p></div></a></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/use-paste-image-and-vscode-memo"><h6 class="PostList_postTitle__vveJr">å®Œå–„ Hexo ç¼–å†™ç¯å¢ƒï¼Œæ”¹å–„æ–‡ç« ä¸­ä½¿ç”¨å›¾ç‰‡çš„ä½“éªŒ</h6><div class="PostList_postDate__z_XQh"><time dateTime="2022-04-03T21:03:03.000Z">2022-04-03</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">æˆ‘å¹³æ—¶ä½¿ç”¨ [vscode-memo](https://github.com/svsool/vscode-memo) æ’ä»¶å†™ç¬”è®°ï¼Œå…¶ä¸­æ’å…¥å›¾ç‰‡ä½¿ç”¨ `![[]]` è¯­æ³•ï¼Œæ˜¾ç¤ºç®€çŸ­ï¼Œä¹Ÿæœ‰è¾ƒå¥½çš„é¢„è§ˆæ”¯æŒï¼Œä½“éªŒæä½³ã€‚å¸Œæœ›è¿™ç§ç‰¹æ€§ä¹Ÿèƒ½åœ¨å†™ hexo åšå®¢çš„æ—¶å€™ä½¿ç”¨ã€‚</p><p class="py-1">å¯èƒ½æœ‰å¾ˆå¤šäººä¸ç†Ÿæ‚‰ vscode-memo è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘å…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p><p class="py-1">vscode-memo å®šä½æ˜¯ä¸€ä¸ª knowledge base ï¼Œå¯¹æ ‡çš„æ˜¯ [Obsidian.md](https://obsidian.md/) ç­‰è½¯ä»¶ã€‚å…¶åŠŸèƒ½åŒ…æ‹¬ä¸”ä¸é™äºï¼š</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/blog">#<!-- -->Blog</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/vscode">#<!-- -->VSCode</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/hexo">#<!-- -->Hexo</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/javascript">#<!-- -->JavaScript</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/create-blog-cicd-by-github"><h6 class="PostList_postTitle__vveJr">ç”¨ GitHub Action è‡ªåŠ¨åŒ–æ„å»º Hexo å¹¶å‘å¸ƒåˆ° S3</h6><div class="PostList_postDate__z_XQh"><time dateTime="2022-03-26T23:55:08.000Z">2022-03-26</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">GitHub Action è‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒåˆ° GitHub Pages å¤§å®¶éƒ½è§å¾—å¤šäº†ï¼Œç”šè‡³ Hexo å®˜æ–¹è‡ªå·±éƒ½æœ‰ç›¸å…³çš„æ–‡æ¡£ã€‚</p><p class="py-1">ä½†æˆ‘ä»Šå¤©è¦åšçš„ä¸æ˜¯å‘å¸ƒåˆ° GitHub è¿™ä¹ˆç®€å•ï¼Œè€Œæ˜¯è¦åŒæ—¶å‘å¸ƒåˆ° GitHub å’Œè‡ªå·±çš„åŸŸåä¸‹ã€‚</p><p class="py-1">æˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ª CI/CD è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦åšåˆ°ä»¥ä¸‹ç›®æ ‡ï¼š</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/blog">#<!-- -->Blog</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/github">#<!-- -->GitHub</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/aws">#<!-- -->AWS</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/ci-cd">#<!-- -->CI/CD</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/iac">#<!-- -->IaC</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/devops">#<!-- -->DevOps</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/init-a-new-hexo-project"><h6 class="PostList_postTitle__vveJr">init-a-new-hexo-project</h6><div class="PostList_postDate__z_XQh"><time dateTime="2021-12-12T20:09:13.000Z">2021-12-12</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">æœ€è¿‘ä½¿ç”¨ hexo æ­å»ºäº†ä¸€ä¸ªåšå®¢ï¼Œå¹¶æ‰“ç®—æŒ‚è½½åœ¨ github page ä¸Šã€‚</p><p class="py-1">å¯¹ä¹‹å‰çš„é‚£ä¸ªåšå®¢è¿›è¡Œæ›¿ä»£ï¼Œå¹¶å°†ä¹‹å‰çš„æ–‡ç« é€æ¸æ¬ç§»è¿‡æ¥ã€‚</p><p class="py-1">ä½¿ç”¨çš„[è¿™ä¸ªä¸»é¢˜](https://github.com/Yue-plus/hexo-theme-arknights)åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå®Œå–„çš„ã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/blog">#<!-- -->Blog</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/Handy-heap-cheat-sheet"><h6 class="PostList_postTitle__vveJr">å¦‚ä½•æ‰‹æ’•ä¸€ä¸ªå †</h6><div class="PostList_postDate__z_XQh"><time dateTime="2021-08-28T23:09:14.000Z">2021-08-28</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">åœ¨å‚åŠ å¦‚AtCoderç­‰ç®—æ³•ç«æŠ€ï¼Œæˆ–æ˜¯åˆ·Leetcodeç­‰ç®—æ³•é¢˜æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¸å¯é¿å…åœ°é‡åˆ°å †è¿™ç§æ•°æ®ç»“æ„ã€‚</p><p class="py-1">å½“ç„¶ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬åªè¦ç†è§£å †ï¼ŒçŸ¥é“å †çš„æ€§è´¨ï¼ŒçŸ¥é“æ€ä¹ˆæ ·ç”¨å †å°±è¶³å¤Ÿäº†ã€‚åœ¨åšé¢˜æ—¶åªéœ€è¦è°ƒç”¨ç³»ç»Ÿç±»åº“å³å¯â€”â€”åœ¨å‚åŠ AtCoderæ—¶ä½ ç”šè‡³ä¸ä¼šæœ‰æ—¶é—´å»è‡ªå·±å®ç°ä¸€ä¸ªå †ã€‚</p><p class="py-1">ä½†æ˜¯ï¼Œå¦‚æœå“ªä¸€å¤©ä½ æŠŠç¼–ç¨‹è¯­è¨€çš„ç±»åº“å…¨å¿˜å…‰äº†ï¼Œåˆé‡åˆ°ä¸€é¢˜éœ€è¦é¢‘ç¹æ±‚æœ€å€¼çš„é¢˜ç›®â€”â€”ä½ æ˜çŸ¥è¿™é‡Œè¦ç”¨å †ï¼Œå´åˆå¿˜è®°è¯¥è°ƒç”¨çš„ç±»åäº†ï¼Œå’‹åŠï¼Ÿæˆ‘è¿˜çœŸé‡åˆ°è¿‡è¿™é—®é¢˜ï¼šä¸‰å¹´æ²¡åˆ·ç®—æ³•ï¼Œåªèƒ½å¯¹ç€ä¸€é“è‡ªå·±æ˜æ˜¾ä¼šçš„é¢˜å¹²ç€æ€¥ï¼Œæ„£æ˜¯æƒ³ä¸èµ·PriorityQueueçš„åå­—ã€‚è¿™æ—¶å€™ï¼Œåªèƒ½è‡ªå·±å®ç°ä¸€ä¸ªå †å‡ºæ¥äº†ã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">#<!-- -->æ•°æ®ç»“æ„</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AE%97%E6%B3%95">#<!-- -->ç®—æ³•</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B">#<!-- -->ç®—æ³•ç«èµ›</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/The-beauty-of-design-parten"><h6 class="PostList_postTitle__vveJr">è®¾è®¡æ¨¡å¼ä¹‹ç¾è¯»ä¹¦ç¬”è®°</h6><div class="PostList_postDate__z_XQh"><time dateTime="2021-08-21T08:53:27.000Z">2021-08-21</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">ä»7ä¸ªæ–¹é¢è¯„ä»·ä»£ç çš„å¥½åï¼š</p><p class="py-1">1. æ˜“ç»´æŠ¤æ€§ï¼šæ ¹æœ¬</p><p class="py-1">2. å¯è¯»æ€§ï¼šæœ€é‡è¦</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">#<!-- -->è®¾è®¡æ¨¡å¼</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AC%94%E8%AE%B0">#<!-- -->ç¬”è®°</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/Sort-algorithm"><h6 class="PostList_postTitle__vveJr">æ’åºç®—æ³•</h6><div class="PostList_postDate__z_XQh"><time dateTime="2021-01-11T22:57:10.000Z">2021-01-11</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">æˆ‘ä»¬çŸ¥é“æ’åºæ˜¯ç®—æ³•å…¥é—¨åŸºæœ¬åŠŸï¼Œæ’åºç®—æ³•æœ‰å¤šé‡è¦æƒ³å¿…ä¹Ÿä¸éœ€è¦æˆ‘åœ¨è¿™é‡Œè¯´æ˜äº†ã€‚å› æ­¤è¿™ä¸€ç¯‡å°±æŒ‰ç€æˆ‘çš„ç†è§£ï¼ŒèŠä¸€èŠæ’åºç®—æ³•ã€‚</p><p class="py-1">å½“ç„¶æˆ‘ä¸æ‰“ç®—éšä¾¿å¼„ä¸ªä»€ä¹ˆåå¤§æ’åºç®—æ³•æˆ–æ˜¯ç»å…¸æ’åºæ€»ç»“ä¹‹ç±»å“å½“å½“çš„åå¤´ï¼Œå„ä¸ªç®—æ³•èµ°é©¬çœ‹èŠ±ä¸€æ ·æ‹‰å‡ºæ¥é›ä¸€éï¼Œæœ€åå˜å¾—è·Ÿç½‘ä¸Šæœç´¢åˆ°çš„å…¶ä»–è®²æ’åºçš„æ–‡ç« ä¸€æ ·æ¢æ±¤ä¸æ¢è¯ã€‚ä½ ä¼šå‘ç°è¿™ç¯‡æ–‡ç« çš„ç»“æ„è·Ÿåœ¨ç½‘ä¸Šæœç´¢åˆ°çš„ä»»ä½•è®²æ’åºçš„æ–‡ç« éƒ½æœ‰æ‰€ä¸åŒï¼š</p><p class="py-1">åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œä½ ä¼šå‘ç°ä½ æ‰¾ä¸åˆ°å†’æ³¡æ’åºâ€”â€”å› ä¸ºæˆ‘è®¤ä¸ºå†’æ³¡æ’åºåªä¸è¿‡æ˜¯ä¸€ç§ä½æ•ˆç‡çš„é€‰æ‹©æ’åºã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">#<!-- -->æ•°æ®ç»“æ„</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E7%AE%97%E6%B3%95">#<!-- -->ç®—æ³•</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%8E%92%E5%BA%8F">#<!-- -->æ’åº</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/python-dict"><h6 class="PostList_postTitle__vveJr">Pythonå­—å…¸çš„å®ç°åŸç†</h6><div class="PostList_postDate__z_XQh"><time dateTime="2020-08-02T00:10:10.000Z">2020-08-02</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; CPythonä»3.6å¼€å§‹ï¼Œå­—å…¸ï¼ˆdictï¼‰ä¸å†æ˜¯æ— åºçš„äº†â€”â€”å­—å…¸çš„ä¿®æ”¹äº†åŸå…ˆçš„åº•å±‚å®ç°ï¼Œå˜å¾—èƒ½æŒ‰å­—å…¸æ’å…¥çš„é¡ºåºè¿›è¡Œéå†ã€‚è€ŒPythonä»3.7å¼€å§‹å°†å­—å…¸çš„æœ‰åºæ€§å†™å…¥è¯­è¨€ç‰¹æ€§ï¼Œä¸ç®¡æ˜¯Jythonã€IronPythonè¿˜æ˜¯å…¶ä»–Pythonå®ç°ï¼Œä»3.7å¼€å§‹å¤§å®¶çš„å­—å…¸éƒ½æ˜¯æœ‰åºçš„äº†ã€‚</p><p class="py-1">ä»¥å‰å‚åŠ Pythonç›¸å…³çš„é¢è¯•æ—¶ï¼Œé¢è¯•å®˜ç»å¸¸éƒ½ä¼šé—®ä¸€ä¸ªé—®é¢˜ï¼šPythoné‡Œçš„å­—å…¸ï¼ˆdictï¼‰æ˜¯æœ‰åºçš„å—ï¼Ÿ</p><p class="py-1">è¿™è‡ªç„¶éš¾ä¸å€’æˆ‘ï¼Œæˆ‘ä¹Ÿç…§æœ¬å®£ç§‘åœ°è®²ï¼šPythonçš„å­—å…¸åº•å±‚æ˜¯ç”¨å“ˆå¸Œè¡¨å®ç°çš„ï¼Œåœ¨ä¸å‘ç”Ÿå†²çªæ—¶è¯»å†™çš„æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆ1ï¼‰ï¼Œæ¯”è¯»å†™æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆlognï¼‰çš„çº¢é»‘æ ‘è¦æ›´å¿«ã€‚ä½†çº¢é»‘æ ‘å¯ä»¥æŒ‰ä¸‹æ ‡çš„å¤§å°é¡ºåºè¿›è¡Œéå†ï¼Œè€ŒDictéå†æ—¶æ˜¯æ— åºçš„ã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/python">#<!-- -->Python</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">#<!-- -->æ•°æ®ç»“æ„</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/the-using-in-cpp"><h6 class="PostList_postTitle__vveJr">C++ä¸­usingå…³é”®å­—çš„ä½¿ç”¨</h6><div class="PostList_postDate__z_XQh"><time dateTime="2020-01-28T18:00:00.000Z">2020-01-28</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">1. å¼•å…¥æ•´ä¸ªå‘½åç©ºé—´ä¸­çš„æˆå‘˜</p><p class="py-1">   ä¸å¼•å…¥å‘½åç©ºé—´æ—¶ï¼Œä½¿ç”¨å…¶ä¸­å˜é‡éœ€è¦ä½¿ç”¨`&lt;å‘½åç©ºé—´å&gt;::&lt;å˜é‡å&gt;`çš„æ–¹å¼ä½¿ç”¨ã€‚</p><p class="py-1">   ```C++</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/c++">#<!-- -->C++</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E6%8A%80">#<!-- -->æ‚æŠ€</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/Building-this-blog"><h6 class="PostList_postTitle__vveJr">æ­å»ºåšå®¢çš„è¿‡ç¨‹</h6><div class="PostList_postDate__z_XQh"><time dateTime="2020-01-27T14:00:00.000Z">2020-01-27</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; â€œStop Trying to Reinvent the Wheel.â€</p><p class="py-1">å‚è€ƒ[BruceZhao][BruceZhao]æä¾›çš„ä¸­æ–‡ç¿»è¯‘ï¼š[README.zh.md][READMEzh]ï¼Œå…ˆå°†[Huxpro][Huxpro]æä¾›çš„[åšå®¢æ¨¡æ¿ä»“åº“][origin_repo]forkå‡ºæ¥ï¼Œ`git clone`åˆ°æœ¬åœ°ã€‚</p><p class="py-1">æ•´ä¸ªç½‘ç«™æ–‡ä»¶å¤¹å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E6%8A%80">#<!-- -->æ‚æŠ€</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/blog">#<!-- -->Blog</a></div></div><div class="PostList_postListElement__qi6kp"><a href="/blog-next/articles/hello-world"><h6 class="PostList_postTitle__vveJr">Welcome to Ryo&#x27;s Blog!</h6><div class="PostList_postDate__z_XQh"><time dateTime="2020-01-27T12:00:00.000Z">2020-01-27</time></div><div class="PostList_postAbstract__HtPA1"><p class="py-1">&gt; â€œHello World!â€</p><p class="py-1">è‡ªå·±ç›²äººæ‘¸è±¡æŠ˜è…¾äº†ä¸€ä¸¤å¤©ï¼Œç»ˆäºåˆ©ç”¨GitHub Pagesï¼ŒæŠŠè‡ªå·±çš„åšå®¢æ­å¥½äº†ã€‚</p><p class="py-1">æ„Ÿè°¢[Huxpro][Huxpro]æä¾›çš„åšå®¢æ¨¡æ¿ï¼Œä»¥åŠ[BruceZhao][BruceZhao]ç¼–å†™çš„ä¸­æ–‡ReadMeã€‚</p></div></a><div class="TagsBox_tagsBox__WzhAf py-4 md:py-1"><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E6%8A%80">#<!-- -->æ‚æŠ€</a><a class="tag-word TagsBox_tag__Rk32C" href="/blog-next/tags/%E6%9D%82%E8%B0%88">#<!-- -->æ‚è°ˆ</a></div></div></div></div></div><style data-emotion="css vkdybf">.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 3 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 3) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid-root MuiGrid-direction-xs-row MuiGrid-grid-xs-0 MuiGrid-grid-md-3 MuiGrid-grid-lg-2 css-vkdybf"></div></div><footer class="DefaultLayout_footer__aWV4u"><style data-emotion="css vktxal">.css-vktxal{--Grid-columns:12;--Grid-columnSpacing:0px;--Grid-rowSpacing:0px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-width:0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--Grid-rowSpacing) var(--Grid-columnSpacing);width:100%;max-width:80rem;margin-left:auto;margin-right:auto;padding:0.5rem;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.css-vktxal >*{--Grid-parent-columns:12;}.css-vktxal >*{--Grid-parent-columnSpacing:0px;}.css-vktxal >*{--Grid-parent-rowSpacing:0px;}</style><div class="MuiGrid-root MuiGrid-container MuiGrid-direction-xs-row css-vktxal"><style data-emotion="css 9gdssj">.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9gdssj{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid-root MuiGrid-direction-xs-row MuiGrid-grid-xs-0 MuiGrid-grid-md-0 MuiGrid-grid-lg-2 css-9gdssj"></div><style data-emotion="css 9h67uz">.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 12 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 12) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 9 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 9) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-9h67uz{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 8 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 8) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid-root MuiGrid-direction-xs-row MuiGrid-grid-xs-12 MuiGrid-grid-md-9 MuiGrid-grid-lg-8 css-9h67uz"><div class="flex flex-row justify-center items-center"><div class="DefaultLayout_footerLeft__Qn_VV">Â© 2023 Ryo Jerry Yu. All rights reserved.</div><div class="DefaultLayout_footerRight__GlReP"><a title="Twitter" href="https://twitter.com/ryo_okami"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a title="GitHub" href="https://github.com/RyoJerryYu"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a title="Pixiv" href="https://www.pixiv.net/users/9159893"><svg class="h-6 w-6 fill-gray-300 hover:fill-white transition-all ease-in-out mx-1 md:mx-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"></path></svg></a></div></div></div><style data-emotion="css vkdybf">.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 0 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 0) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));min-width:0;box-sizing:border-box;}@media (min-width:900px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 3 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 3) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}@media (min-width:1200px){.css-vkdybf{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;width:calc(100% * 2 / var(--Grid-parent-columns) - (var(--Grid-parent-columns) - 2) * (var(--Grid-parent-columnSpacing) / var(--Grid-parent-columns)));}}</style><div class="MuiGrid-root MuiGrid-direction-xs-row MuiGrid-grid-xs-0 MuiGrid-grid-md-3 MuiGrid-grid-lg-2 css-vkdybf"></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"pathMapping":{"filePath":"public/content/articles/2024-11-16-try-cursor-and-thinking.md","pagePath":"/articles/try-cursor-and-thinking","slug":"try-cursor-and-thinking"},"meta":{"content":"\nè¯•ç€ç”¨äº†ä¸€ä¸‹ cursor ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ã€‚éæŠ€æœ¯ä¹Ÿèƒ½åŠå°æ—¶èƒ½åšä¸€æ¬¾ App å¯èƒ½æ˜¯çœŸçš„ã€‚ä½†æ›¿ä»£ä¸äº†æŠ€æœ¯å²—ä¹Ÿæ˜¯çœŸçš„ã€‚\n\n## å…ˆè¯´é—®é¢˜\n\nè™½ç„¶ Cursor åŸºäº VSCode äºŒæ¬¡å¼€å‘ï¼Œä½†å¯èƒ½ä¸ºäº†åš AI åŠŸèƒ½æŠŠ Editor Pooling æˆ–è€… File Watching èƒ½åŠ›æåäº†ï¼Œç»å¸¸ Apply äº†ä¿®æ”¹å Explorer å’Œ Editor é‡Œæ²¡æœ‰åŠæ—¶åé¦ˆã€‚ç„¶åè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½å› ä¸ºå¯ä»¥åˆ å†…å®¹å¯¼è‡´æ‰‹æ„Ÿè·Ÿ VSCode é‡Œçš„ Copilot æ¯”è¾ƒä¸åŒï¼Œç”¨èµ·æ¥æ¯”è¾ƒ annoying ã€‚\n\n### æ–‡ä»¶ç³»ç»Ÿç›‘æ§é—®é¢˜\n\nä½œä¸ºä¸€ä¸ªåŸºäº VSCode äºŒæ¬¡å¼€å‘çš„ç¼–è¾‘å™¨ï¼ŒCursor åœ¨æ–‡ä»¶ç³»ç»Ÿç›‘æ§æ–¹é¢å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚å½“å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹åï¼ŒExplorer å’Œ Editor ç»å¸¸æ— æ³•åŠæ—¶åæ˜ è¿™äº›å˜åŒ–ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºä¸ºäº†å®ç° AI åŠŸèƒ½è€Œå¯¹åŸæœ‰çš„ Editor Pooling æˆ– File Watching æœºåˆ¶è¿›è¡Œäº†ä¿®æ”¹å¯¼è‡´çš„ã€‚\n\n\u003e è¿™ç®€ç›´å¤ªè®©äººæŠ“ç‹‚äº†ï¼ğŸ˜« ä½ æ”¹äº†ä»£ç ï¼Œç¼–è¾‘å™¨å´åœ¨é‚£è£…å‚»å……æ„£ã€‚å°±å¥½åƒä½ å‘äº†æ¶ˆæ¯ï¼Œå¯¹æ–¹å·²è¯»ä¸å› ğŸ’¬ã€‚ç¨‹åºå‘˜æœ€è®¨åŒç­‰å¾…äº†ï¼Œå¯¹å§ï¼Ÿâ³\n\n### è‡ªåŠ¨è¡¥å…¨ä½“éªŒå·®å¼‚\n\nCursor çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ä¸ VSCode ä¸­çš„ GitHub Copilot æœ‰æ˜æ˜¾çš„ä½¿ç”¨ä½“éªŒå·®å¼‚ã€‚ç”±äº Cursor çš„è¡¥å…¨å¯ä»¥åˆ é™¤å·²æœ‰å†…å®¹ï¼Œè¿™ç§è¡Œä¸ºæ–¹å¼ä¸ç¨‹åºå‘˜ä¹ æƒ¯çš„ç¼–è¾‘æ¨¡å¼ä¸å¤ªç›¸ç¬¦ï¼Œä½¿ç”¨èµ·æ¥æ„Ÿè§‰æ¯”è¾ƒçªå…€å’Œçƒ¦äººã€‚\n\n\u003e è¿™ä¸ªåŠŸèƒ½çœŸçš„è®©äººåˆçˆ±åˆæ¨ ğŸ’”ï¼AI å°åŠ©æ‰‹å¤ªçƒ­æƒ…äº†ï¼ŒåŠ¨ä¸åŠ¨å°±æƒ³å¸®ä½ é‡å†™ä»£ç ã€‚å†·é™ç‚¹ï¼Œè€é“ï¼æˆ‘åªæ˜¯æƒ³è¦ä¸€ç‚¹æç¤ºè€Œå·²ï¼ğŸ¤ª\n\n### æ€§èƒ½å½±å“\n\nè¿™äº›æŠ€æœ¯é—®é¢˜ä¸ä»…å½±å“äº†å¼€å‘ä½“éªŒï¼Œè¿˜å¯èƒ½ä¼šé™ä½ç¼–ç æ•ˆç‡ã€‚å®æ—¶çš„æ–‡ä»¶ç³»ç»Ÿåé¦ˆå¯¹äºå¼€å‘å·¥ä½œæµç¨‹æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ï¼Œè€Œè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½çš„å·®å¼‚ä¹Ÿä¼šå½±å“åˆ°æ—¥å¸¸ç¼–ç çš„æµç•…åº¦ã€‚\n\n\u003e æ€§èƒ½é—®é¢˜çœŸæ˜¯è®©äººå¤´å¤§ ğŸ¤¯ï¼å†™ä»£ç å°±åº”è¯¥æ˜¯è¡Œäº‘æµæ°´çš„æ„Ÿè§‰ï¼Œç°åœ¨å´ç»å¸¸è¦ç­‰ç­‰ç­‰...ç­‰åˆ°æˆ‘éƒ½èƒ½å–å®Œä¸€æ¯å’–å•¡äº† â˜•ï¸ï¼\n\n\n## Chat Anywhere\n\nä¸è¿‡ Chat Anywhere è¿™ä¸ªåšæ³•åº”è¯¥æ˜¯åšå¯¹äº†ã€‚éœ€è¦ç”¨ AI ä»£å†™çš„åœºæ™¯ï¼Œå¾ˆå¤šæ—¶å€™å¹¶ä¸æ˜¯ä¸ä¼šå†™è€Œæ˜¯æ‡’å¾—å†™ï¼Œä»¥å‰åœ¨ VSCode é‡Œéœ€è¦åˆ‡åˆ° Coplilot çš„ Tab ï¼Œå†™ prompt ç­‰å›å¤ï¼Œç„¶åå†å°†ç­”æ¡ˆå¤åˆ¶ç²˜è´´å›å»ï¼Œå¤šæ•°æƒ…å†µä¸‹æœ‰è¿™é—²å·¥å¤«è¿˜ä¸å¦‚ç›´æ¥è‡ªå·±å†™ğŸ¤£ï¼Œåœ¨ Cursor é‡Œå¯ä»¥ç›´æ¥åŸåœ°è°ƒ AI æ”¹å†™ï¼ŒçœŸçš„å·¨èˆ’æœã€‚\n\n\u003e è¿™åŠŸèƒ½ç®€ç›´å°±æ˜¯æ‡’äººç¦éŸ³å•Šï¼ğŸ¯ å†ä¹Ÿä¸ç”¨åœ¨å„ç§çª—å£ä¹‹é—´è·³æ¥è·³å»äº†ï¼çˆ½æ­ªæ­ªï¼ğŸŠ\n\n## æ™ºèƒ½ä»£ç åˆ†æ\n\nè¿˜æœ‰ Cursor å¯ä»¥ç›´æ¥å°†æ•´ä¸ªé¡¹ç›® Indexing æ‰ï¼Œè¿˜èƒ½ç†è§£ä»£ç é—´çš„è°ƒç”¨å…³ç³»ï¼Œä¸€ä¸ª prompt ç›´æ¥å‡ºè°ƒç”¨å…³ç³»å›¾ï¼Œå†ä¹Ÿä¸ç”¨æŒ çˆ†å¤´æƒ³æ€ä¹ˆåš RAG æ€ä¹ˆç»™æ–‡ç« åˆ†å—äº†ï¼Œçˆ½åˆ°ã€‚\n\n![[Pasted image 20241116200220.png]]\n\n![[Pasted image 20241116200148.png]]\n\n## Cursor å¯èƒ½ä¼šæ¯”è¾ƒæœ‰ç”¨çš„åœºæ™¯\n\n### æ™ºèƒ½æ³¨é‡Šç”Ÿæˆ\n\nCursor åœ¨ç”Ÿæˆä»£ç æ³¨é‡Šæ–¹é¢è¡¨ç°å‡ºè‰²ã€‚å®ƒä¸ä»…èƒ½åˆ†æå½“å‰æ–‡ä»¶çš„ä»£ç ï¼Œè¿˜èƒ½ç†è§£æ•´ä¸ªé¡¹ç›®çš„ä¸Šä¸‹æ–‡ã€‚é€šè¿‡åˆ†æ import å…³ç³»ã€å‡½æ•°è°ƒç”¨é“¾ã€æ¥å£å®ç°å’Œç±»å‹å®šä¹‰ç­‰å¤šä¸ªç»´åº¦ï¼Œå®ƒèƒ½ç”Ÿæˆæ›´åŠ å‡†ç¡®å’Œæœ‰æ„ä¹‰çš„æ³¨é‡Šã€‚è¿™å¯¹äºç»´æŠ¤å¤§å‹é¡¹ç›®æˆ–è€…éœ€è¦å¿«é€Ÿç†è§£ä»–äººä»£ç çš„åœºæ™¯ç‰¹åˆ«æœ‰å¸®åŠ©ã€‚\n\n\u003e ç»ˆäºä¸ç”¨ä¸ºå†™æ³¨é‡ŠæŠ“è€³æŒ è…®äº†ï¼ğŸ‰ AI å¸®ä½ åˆ†æå®Œæ‰€æœ‰ä»£ç å…³ç³»ï¼Œä¸‰ä¸‹äº”é™¤äºŒå°±èƒ½ç”Ÿæˆä¸€ä»½æ¼‚äº®çš„æ³¨é‡Šï¼ğŸ’¡\n\n### æ–‡æ¡£å’Œæ–‡ç« åˆ›ä½œ\n\nåœ¨æ–‡æ¡£å’Œæ–‡ç« åˆ›ä½œæ–¹é¢ï¼ŒCursor çš„åŸåœ° AI æ”¹å†™åŠŸèƒ½ç‰¹åˆ«å®ç”¨ã€‚å½“ä½ éœ€è¦å†™ä¸€ç¯‡é•¿æ–‡ï¼Œéœ€è¦å‚è€ƒå¤šä¸ªæ–‡æ¡£æºï¼Œä½†åˆä¸éœ€è¦ç‰¹åˆ«ä¸¥æ ¼çš„é€»è¾‘æ¨å¯¼æ—¶ï¼Œè¿™ä¸ªåŠŸèƒ½ç®€ç›´æ˜¯ç¥å™¨ã€‚ä½ å¯ä»¥ï¼š\n\n- è®© AI å¸®ä½ è§„åˆ’æ–‡ç« ç»“æ„ï¼Œç”Ÿæˆåˆé€‚çš„ç›®å½•\n- æ ¹æ®å·²æœ‰å†…å®¹å¿«é€Ÿæ‰©å……æ®µè½\n- å®æ—¶è°ƒæ•´æ–‡ç« è¯­æ°”å’Œé£æ ¼\n- å‚è€ƒç›¸å…³æ–‡æ¡£è‡ªåŠ¨è¡¥å……å†…å®¹\n\n\u003e å†™æ–‡æ¡£å†ä¹Ÿä¸ç”¨å¯¹ç€ç©ºç™½å‘å‘†äº†ï¼âœï¸ AI å°åŠ©æ‰‹éšæ—¶å¾…å‘½ï¼Œå¸®ä½ æŠŠæƒ³æ³•å˜æˆä¼˜ç¾çš„æ–‡å­—ï¼ğŸ“\n\n### é¡¹ç›®ç»“æ„ä¼˜åŒ–\n\nåœ¨é¡¹ç›®ç»“æ„ç»´æŠ¤æ–¹é¢ï¼ŒCursor æä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§çš„åŠŸèƒ½ï¼š\n\n1. **å¯è§†åŒ–é¡¹ç›®ç»“æ„**ï¼šä¸€é”®ç”Ÿæˆé¡¹ç›®ä¾èµ–å…³ç³»å›¾ï¼Œè®©é¡¹ç›®ç»“æ„ä¸€ç›®äº†ç„¶ã€‚å†ä¹Ÿä¸ç”¨åœ¨å¤æ‚çš„ç›®å½•ç»“æ„ä¸­è¿·å¤±æ–¹å‘ã€‚\n\n2. **æ™ºèƒ½é‡æ„å»ºè®®**ï¼šåŸºäºé¡¹ç›®åˆ†æï¼ŒAI å¯ä»¥æä¾›é¡¹ç›®ç»“æ„ä¼˜åŒ–å»ºè®®ï¼Œå¸®åŠ©ä½ å»ºç«‹æ›´æ¸…æ™°çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚\n\n3. **è‡ªåŠ¨åŒ–å·¥å…·ç”Ÿæˆ**ï¼šéœ€è¦æ‰¹é‡å¤„ç†æ–‡ä»¶ï¼ŸCursor å¯ä»¥ç›´æ¥ç”Ÿæˆ Shell å‘½ä»¤æˆ– Python è„šæœ¬ï¼Œå¸®ä½ å®Œæˆç¹ççš„ç›®å½•æ“ä½œã€‚\n\n\u003e é¡¹ç›®ç®¡ç†å˜å¾—å¦‚æ­¤è½»æ¾ï¼ğŸš€ è®© AI å¸®ä½ æ¢³ç†é¡¹ç›®ç»“æ„ï¼Œç”Ÿæˆå·¥å…·è„šæœ¬ï¼Œç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ç®€ç›´èµ·é£ï¼âœ¨\n\n\n## æ€»ç»“\n\n\u003e æ€»çš„æ¥è¯´ï¼ŒCursor ä½œä¸ºä¸€æ¬¾åŸºäº AI çš„ä»£ç ç¼–è¾‘å™¨æœ‰å…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼Œå°¤å…¶æ˜¯ Chat Anywhere å’Œæ™ºèƒ½ä»£ç åˆ†æè¿™æ ·çš„åˆ›æ–°åŠŸèƒ½ç¡®å®æå‡äº†å¼€å‘æ•ˆç‡ã€‚ä½†åŒæ—¶ä¹Ÿå­˜åœ¨ä¸€äº›æŠ€æœ¯é—®é¢˜ï¼Œæ¯”å¦‚æ–‡ä»¶ç³»ç»Ÿç›‘æ§å’Œè‡ªåŠ¨è¡¥å…¨ä½“éªŒç­‰éœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå®ƒå±•ç¤ºäº† AI è¾…åŠ©ç¼–ç¨‹çš„æ½œåŠ›ï¼Œä¸ºæœªæ¥ç¼–ç¨‹å·¥å…·çš„å‘å±•æä¾›äº†æ–°çš„æ€è·¯ã€‚\n\né¡ºä¾¿ä¸€æï¼Œåœ¨å¼•ç”¨å—é‡Œçš„å†…å®¹éƒ½æ˜¯ç”± AI ç”Ÿæˆçš„ã€‚\n","title":"å°è¯• Cursor çš„æ„Ÿæƒ³å’Œä¸€äº›æ€è€ƒ","abstract":"è¯•ç€ç”¨äº†ä¸€ä¸‹ cursor ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ã€‚éæŠ€æœ¯ä¹Ÿèƒ½åŠå°æ—¶èƒ½åšä¸€æ¬¾ App å¯èƒ½æ˜¯çœŸçš„ã€‚ä½†æ›¿ä»£ä¸äº†æŠ€æœ¯å²—ä¹Ÿæ˜¯çœŸçš„ã€‚\nè™½ç„¶ Cursor åŸºäº VSCode äºŒæ¬¡å¼€å‘ï¼Œä½†å¯èƒ½ä¸ºäº†åš AI åŠŸèƒ½æŠŠ Editor Pooling æˆ–è€… File Watching èƒ½åŠ›æåäº†ï¼Œç»å¸¸ Apply äº†ä¿®æ”¹å Explorer å’Œ Editor é‡Œæ²¡æœ‰åŠæ—¶åé¦ˆã€‚ç„¶åè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½å› ä¸ºå¯ä»¥åˆ å†…å®¹å¯¼è‡´æ‰‹æ„Ÿè·Ÿ VSCode é‡Œçš„ Copilot æ¯”è¾ƒä¸åŒï¼Œç”¨èµ·æ¥æ¯”è¾ƒ annoying ã€‚\nä½œä¸ºä¸€ä¸ªåŸºäº VSCode äºŒæ¬¡å¼€å‘çš„ç¼–è¾‘å™¨ï¼ŒCursor åœ¨æ–‡ä»¶ç³»ç»Ÿç›‘æ§æ–¹é¢å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚å½“å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹åï¼ŒExplorer å’Œ Editor ç»å¸¸æ— æ³•åŠæ—¶åæ˜ è¿™äº›å˜åŒ–ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºä¸ºäº†å®ç° AI åŠŸèƒ½è€Œå¯¹åŸæœ‰çš„ Editor Pooling æˆ– File Watching æœºåˆ¶è¿›è¡Œäº†ä¿®æ”¹å¯¼è‡´çš„ã€‚","length":78,"created_at":"2024-11-16T15:42:00.000Z","updated_at":"2024-11-16T15:42:00.000Z","tags":["Cursor","æ‚è°ˆ"],"license":true,"headingTrees":[{"key":"å…ˆè¯´é—®é¢˜","href":"#å…ˆè¯´é—®é¢˜","heading":2,"title":"å…ˆè¯´é—®é¢˜","children":[{"key":"æ–‡ä»¶ç³»ç»Ÿç›‘æ§é—®é¢˜","href":"#æ–‡ä»¶ç³»ç»Ÿç›‘æ§é—®é¢˜","heading":3,"title":"æ–‡ä»¶ç³»ç»Ÿç›‘æ§é—®é¢˜","children":[],"id":"æ–‡ä»¶ç³»ç»Ÿç›‘æ§é—®é¢˜"},{"key":"è‡ªåŠ¨è¡¥å…¨ä½“éªŒå·®å¼‚","href":"#è‡ªåŠ¨è¡¥å…¨ä½“éªŒå·®å¼‚","heading":3,"title":"è‡ªåŠ¨è¡¥å…¨ä½“éªŒå·®å¼‚","children":[],"id":"è‡ªåŠ¨è¡¥å…¨ä½“éªŒå·®å¼‚"},{"key":"æ€§èƒ½å½±å“","href":"#æ€§èƒ½å½±å“","heading":3,"title":"æ€§èƒ½å½±å“","children":[],"id":"æ€§èƒ½å½±å“"}],"id":"å…ˆè¯´é—®é¢˜"},{"key":"chat-anywhere","href":"#chat-anywhere","heading":2,"title":"Chat Anywhere","children":[],"id":"chat-anywhere"},{"key":"æ™ºèƒ½ä»£ç åˆ†æ","href":"#æ™ºèƒ½ä»£ç åˆ†æ","heading":2,"title":"æ™ºèƒ½ä»£ç åˆ†æ","children":[],"id":"æ™ºèƒ½ä»£ç åˆ†æ"},{"key":"cursor-å¯èƒ½ä¼šæ¯”è¾ƒæœ‰ç”¨çš„åœºæ™¯","href":"#cursor-å¯èƒ½ä¼šæ¯”è¾ƒæœ‰ç”¨çš„åœºæ™¯","heading":2,"title":"Cursor å¯èƒ½ä¼šæ¯”è¾ƒæœ‰ç”¨çš„åœºæ™¯","children":[{"key":"æ™ºèƒ½æ³¨é‡Šç”Ÿæˆ","href":"#æ™ºèƒ½æ³¨é‡Šç”Ÿæˆ","heading":3,"title":"æ™ºèƒ½æ³¨é‡Šç”Ÿæˆ","children":[],"id":"æ™ºèƒ½æ³¨é‡Šç”Ÿæˆ"},{"key":"æ–‡æ¡£å’Œæ–‡ç« åˆ›ä½œ","href":"#æ–‡æ¡£å’Œæ–‡ç« åˆ›ä½œ","heading":3,"title":"æ–‡æ¡£å’Œæ–‡ç« åˆ›ä½œ","children":[],"id":"æ–‡æ¡£å’Œæ–‡ç« åˆ›ä½œ"},{"key":"é¡¹ç›®ç»“æ„ä¼˜åŒ–","href":"#é¡¹ç›®ç»“æ„ä¼˜åŒ–","heading":3,"title":"é¡¹ç›®ç»“æ„ä¼˜åŒ–","children":[],"id":"é¡¹ç›®ç»“æ„ä¼˜åŒ–"}],"id":"cursor-å¯èƒ½ä¼šæ¯”è¾ƒæœ‰ç”¨çš„åœºæ™¯"},{"key":"æ€»ç»“","href":"#æ€»ç»“","heading":2,"title":"æ€»ç»“","children":[],"id":"æ€»ç»“"}],"wikiRefAliases":[],"richRefAliases":["Pasted image 20241116200220.png","Pasted image 20241116200148.png"]}},{"pathMapping":{"filePath":"public/content/articles/2022-08-20-introduction-for-k8s-2.md","pagePath":"/articles/introduction-for-k8s-2","slug":"introduction-for-k8s-2"},"meta":{"content":"\næˆ‘ä»¬ä¹‹å‰è¯´çš„éƒ½æ˜¯ç”¨äºéƒ¨ç½² Pod çš„èµ„æºï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä»‹ç»ä¸åˆ›å»º Pod ä¸ç›¸å…³çš„èµ„æºï¼šå‚¨å­˜ä¸ç½‘ç»œã€‚\n\n# å‚¨å­˜\n\nå…¶å®æˆ‘ä»¬ä¹‹å‰å·²ç»æ¥è§¦è¿‡å‚¨å­˜ç›¸å…³çš„å†…å®¹äº†ï¼šåœ¨è®² Stateful Set æ—¶æˆ‘ä»¬æè¿‡ Stateful Set åˆ›å»ºå‡ºæ¥çš„ Pod éƒ½ä¼šæœ‰ç›¸äº’ç‹¬ç«‹çš„å‚¨å­˜ï¼›è€Œè®² Daemon Set æ—¶æˆ‘ä»¬æåˆ° K8s æ¨èåªåœ¨ Daemon Set çš„ Pod ä¸­è®¿é—®å®¿ä¸»æœºç£ç›˜ã€‚ä½†ç‹¬ç«‹çš„å‚¨å­˜å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿé™¤äº†è®¿é—®å®¿ä¸»æœºç£ç›˜ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆå…¶ä»–çš„å‚¨å­˜ï¼Ÿ\n\nåœ¨ Docker ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®¿ä¸»æœºç£ç›˜ä¸Šçš„ä¸€ä¸ªè·¯å¾„ä½œä¸ºä¸€ä¸ª Volume æ¥ç»™å®¹å™¨ç»‘å®šï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ Docker Engine ç®¡ç†çš„ Volume æ¥æä¾›æŒä¹…åŒ–å­˜å‚¨æˆ–æ˜¯å®¹å™¨é—´å…±äº«æ–‡ä»¶ã€‚åœ¨ K8s é‡Œé¢ä¹Ÿæ²¿ç”¨äº† Volume è¿™ä¸ªæ¦‚å¿µï¼Œå¯ä»¥é€šè¿‡ Mount ç»‘å®šåˆ°å®¹å™¨å†…çš„è·¯å¾„ï¼Œå¹¶é€šè¿‡å®ç° CSI çš„å„ç§å¼•æ“æ¥æä¾›æ›´å¤šæ ·çš„å­˜å‚¨ã€‚\n\n\u003e CSI: Container Storage Interface ï¼Œå®¹å™¨å‚¨å­˜æ¥å£æ ‡å‡†ï¼Œæ˜¯ K8s æå‡ºçš„ä¸€ç§è§„èŒƒã€‚ä¸ç®¡æ˜¯å“ªç§å‚¨å­˜å¼•æ“ï¼Œåªè¦ç¼–å†™ä¸€ä¸ªå¯¹åº”çš„æ’ä»¶å®ç° CSI ï¼Œéƒ½å¯ä»¥åœ¨ K8s ä¸­ä½¿ç”¨ã€‚\n\n### K8s ä¸­ä½¿ç”¨ Volume ä¸å¯ç”¨çš„ Volume ç±»å‹\n\nå…¶å® K8s ä¸­ä½¿ç”¨ Volume çš„ä¾‹å­æˆ‘ä»¬ä¸€å¼€å§‹å°±å·²ç»æ¥è§¦è¿‡äº†ã€‚è¿˜è®°å¾—ä¸€å¼€å§‹ä»‹ç» Pod æ—¶çš„ Nginx ä¾‹å­å—ï¼Ÿ\n\n```yaml\nmetadata:\n  name: simple-webapp\nspec:\n  containers:\n    - name: main-application\n      image: nginx\n      volumeMounts:\n        - name: shared-logs\n          mountPath: /var/log/nginx\n    - name: sidecar-container\n      image: busybox\n      command: [\"sh\",\"-c\",\"while true; do cat /var/log/nginx/access.log; sleep 30; done\"]\n      volumeMounts:\n        - name: shared-logs\n          mountPath: /var/log/nginx\n  volumes:\n    - name: shared-logs\n      emptyDir: {}\n```\n\nè¿™ä¸ª Pod æè¿°ä¸­å£°æ˜äº†ä¸€ä¸ªç§ç±»ä¸º `emptyDir` çš„ï¼Œåä¸º `shared-logs` çš„ Volume ï¼Œç„¶å Pod ä¸­çš„ä¸¤ä¸ªå®¹å™¨éƒ½åˆ†åˆ« Mount äº†è¿™ä¸ª Volume ã€‚\n\nK8s ä¸­é»˜è®¤æä¾›äº†å‡ ç§ Volume ï¼Œæ¯”å¦‚ï¼š\n\n- emptyDir ï¼šä¸€ä¸ªç®€å•çš„ç©ºç›®å½•ï¼Œä¸€èˆ¬ç”¨äºå‚¨å­˜ä¸´æ—¶æ•°æ®æˆ–æ˜¯ Pod çš„å®¹å™¨ä¹‹é—´å…±äº«æ•°æ®ã€‚\n- hostPath ï¼šç»‘å®šåˆ°èŠ‚ç‚¹å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸Šçš„è·¯å¾„ï¼Œä¸€èˆ¬åœ¨ Daemon Set ä¸­ä½¿ç”¨ã€‚\n- gitRepo ï¼šè¿™ç§ Volume å…¶å®ç›¸å½“äº emptyDir ï¼Œä¸è¿‡åœ¨ Pod å¯åŠ¨æ—¶ä¼šä» Git ä»“åº“ clone ä¸€ä»½å†…å®¹ä½œä¸ºé»˜è®¤æ•°æ®ã€‚\n- configMap ã€ secret ï¼šä¸€èˆ¬ç”¨äºé…ç½®æ–‡ä»¶åŠ è½½ï¼Œéœ€è¦ä¸ configMap ã€ secret è¿™ä¸¤ç§èµ„æºä¸€åŒä½¿ç”¨ã€‚ä¼šå°† configMap ã€ secret ä¸­å¯¹åº”çš„å†…å®¹æ‹·è´ä¸€ä»½ä½œä¸º Volume ç»‘åˆ°å®¹å™¨ã€‚ï¼ˆä¸‹ä¸€èŠ‚ä¸­ä¼šå±•å¼€è®¨è®ºï¼‰\n- nfs ã€ glusterfs ã€ â€¦â€¦ï¼šå¯ä»¥é€šè¿‡å„ç§ç½‘ç»œå­˜å‚¨åè®®ç›´æ¥æŒ‚è½½ä¸€ä¸ªç½‘ç»œå­˜å‚¨\n- (deprecated!) gcePersistentDisk ã€ awsElasticBlockStore â€¦â€¦ï¼šå¯ä»¥è°ƒç”¨å„ä¸ªäº‘å¹³å°çš„ API ï¼Œåˆ›å»ºä¸€ä¸ªå—å‚¨å­˜ç¡¬ä»¶æŒ‚è½½åˆ°å®¿ä¸»æœºä¸Šï¼Œå†å°†é‚£ä¸ªç¡¬ä»¶æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚\n- persistentVolumeClaim ï¼šæŒä¹…å·å£°æ˜ï¼Œç”¨äºæŠŠå®é™…å‚¨å­˜æ–¹å¼æŠ½è±¡åŒ–ï¼Œä½¿å¾— Pod ä¸éœ€è¦å…³å¿ƒå…·ä½“çš„å‚¨å­˜ç±»å‹ã€‚è¿™ç§ç±»å‹ä¼šåœ¨ä¸‹é¢è¯¦ç»†ä»‹ç»ã€‚\n\næˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°ï¼Œ Volume çš„å£°æ˜æ˜¯ Pod çš„ä¸€ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯ä¸€ç§å•ç‹¬çš„èµ„æºã€‚ Volume æ˜¯ Pod çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ä¸åŒçš„ Pod ä¹‹é—´æ°¸è¿œä¸å¯èƒ½å…±äº«åŒä¸€ä¸ª Volume ã€‚\n\n\u003e ä½†æ˜¯ Volume æ‰€æŒ‡å‘çš„ä½ç½®å¯ä»¥ç›¸åŒï¼Œæ¯”å¦‚ HostPath ç±»å‹çš„ Volume å°±å¯ä»¥ä¸¤ä¸ª Pod å¯ä»¥ç»‘å®šåˆ°å®¿ä¸»æœºä¸ŠåŒä¸€ä¸ªè·¯å¾„ï¼Œå› æ­¤ Volume é‡Œçš„æ•°æ®è¿˜æ˜¯èƒ½é€šè¿‡ä¸€å®šæ–¹å¼åœ¨ Pod é—´å…±äº«ã€‚ä½†å½“ç„¶ K8s ä¸æ¨èè¿™ä¹ˆåšã€‚\n\nå¦å¤–ï¼Œç”±äº Volume æ˜¯ Pod çš„ä¸€éƒ¨åˆ†ï¼Œ Volume çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿæ˜¯è·Ÿéš Pod çš„ï¼Œå½“ä¸€ä¸ª Pod è¢«é”€æ¯æ—¶ï¼Œ Volume ä¹Ÿä¼šè¢«é”€æ¯ï¼Œå› æ­¤æœ€ä¸»è¦è¿˜æ˜¯ç”¨äº Pod å†…å®¹å™¨é—´çš„æ–‡ä»¶å…±äº«ã€‚å¦‚æœéœ€è¦æŒä¹…åŒ–å‚¨å­˜ï¼Œéœ€è¦ä½¿ç”¨ Persistent Volume ã€‚\n\n\u003e Volume ä¼šè¢«é”€æ¯ä¸ä»£è¡¨ Volume æŒ‡å‘çš„å†…å®¹ä¼šè¢«é”€æ¯ã€‚æ¯”å¦‚ hostPath ã€ NFS ç­‰ç±»å‹ Volume ä¸­çš„å†…å®¹å°±ä¼šç»§ç»­ä¿ç•™åœ¨å®¿ä¸»æœºæˆ–æ˜¯ NAS ä¸Šã€‚ä¸‹é¢æåˆ°çš„ Presistent Volume Claim ä¹Ÿæ˜¯ï¼Œæ‹¥æœ‰ `persistentVolumeClaim` ç±»å‹ Volume çš„ Pod è¢«åˆ é™¤åå¯¹åº”çš„ PVC ä¸ä¸€å®šä¼šè¢«åˆ é™¤ã€‚\n\n### Presistent Volume ã€ Presistent Volume Claim ã€ Storage Class\n\nå¦‚æœéœ€è¦åœ¨ Pod å£°æ˜ä¸­ç›´æ¥æŒ‡å®š NFS ã€ awsElasticBlockStore ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå°±éœ€è¦åº”ç”¨çš„å¼€å‘äººå‘˜å¯¹çœŸå®å¯ç”¨çš„å‚¨å­˜ç»“æ„æœ‰æ‰€ç†è§£ï¼Œè¿èƒŒäº† K8s çš„ç†å¿µã€‚å› æ­¤ K8s å°±å¼„å‡ºäº†å°æ ‡é¢˜ä¸­çš„ä¸‰ç§èµ„æºæ¥å°†å‚¨å­˜æŠ½è±¡åŒ–ã€‚\n\nä¸€ä¸ª Persistent Volume (PV) å¯¹åº”äº‘å¹³å°æä¾›çš„ä¸€ä¸ªå—å­˜å‚¨ï¼Œæˆ–æ˜¯ NAS ä¸Šçš„ä¸€ä¸ªè·¯å¾„ã€‚å¯ä»¥ç®€å•åœ°ç†è§£ä¸º **PV ç›´æ¥æè¿°äº†ä¸€å—å¯ç”¨çš„ç‰©ç†å­˜å‚¨** ã€‚å› ä¸º PV ç›´æ¥å¯¹åº”åˆ°ç¡¬ä»¶ï¼Œå› æ­¤ PV è·ŸèŠ‚ç‚¹ä¸€æ ·ï¼Œæ˜¯åç§°ç©ºé—´æ— å…³çš„ã€‚\n\nè€Œä¸€ä¸ª **Persistent Volume Claim (PVC) åˆ™æ˜¯æè¿°äº†æ€æ ·å»ä½¿ç”¨å‚¨å­˜** ï¼šä½¿ç”¨å¤šå°‘ç©ºé—´ã€åªè¯»è¿˜æ˜¯è¯»å†™ç­‰ã€‚ä¸€ä¸ª PVC è¢«åˆ›å»ºåä¼šä¸”åªä¼šå¯¹åº”åˆ°ä¸€ä¸ª PV ã€‚ PVC ä»å±äºä¸€ä¸ªåç§°ç©ºé—´ï¼Œå¹¶èƒ½è¢«è¯¥åç§°ç©ºé—´ä¸‹çš„ Pod æŒ‡å®šä¸ºä¸€ä¸ª Volume ã€‚\n\nPV ä¸ PVC è¿™ä¸¤ç§æŠ½è±¡æ˜¯å¾ˆå¿…è¦çš„ã€‚è¯•æƒ³ä¸€ä¸‹ç”¨è‡ªå·±çš„ç‰©ç†æœºæ­å»ºä¸€ä¸ª K8s é›†ç¾¤çš„åœºæ™¯ã€‚ä½ ä¼šæå‰ç»™ç‰©ç†æœºæ’ä¸Šè®¸å¤šä¸ªå‚¨å­˜ç¡¬ä»¶ï¼Œè¿™æ—¶ä½ å°±éœ€è¦ç”¨ PV æ¥æè¿°è¿™äº›ç¡¬ä»¶ï¼Œä¹‹åæ‰èƒ½åœ¨ K8s é‡Œåˆ©ç”¨è¿™äº›ç¡¬ä»¶çš„å‚¨å­˜ã€‚è€Œå®é™…å°†åº”ç”¨éƒ¨ç½²åˆ° K8s ä¸­æ—¶ï¼Œä½ æ‰éœ€è¦ç”¨ PVC æ¥æè¿° Pod ä¸­éœ€è¦æ€ä¹ˆæ ·çš„å‚¨å­˜å·ï¼Œç„¶å K8s å°±ä¼šè‡ªåŠ¨æŒ‘ä¸€ä¸ªåˆé€‚ PV ç»™è¿™ä¸ª PVC ç»‘å®šä¸Šã€‚è¿™æ ·å®é™…éƒ¨ç½²åº”ç”¨çš„æ—¶å€™å°±ä¸ç”¨å†ç‰¹æ„è·‘å»æœºæˆ¿ç»™ç‰©ç†æœºæ’ç¡¬ä»¶äº†ã€‚\n\nä½†æ˜¯ç°åœ¨éƒ½äº‘åŸç”Ÿæ—¶ä»£äº†ï¼Œå„ä¾›åº”å•†éƒ½æœ‰æä¾› API å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªå—å‚¨å­˜ï¼Œè¿˜è¦æƒ³åŠæ³•æå‰å‡†å¤‡ PV å®åœ¨æ˜¯å¤ªè ¢äº†ã€‚äºæ˜¯ä¾¿éœ€è¦ Storage Class è¿™ç§èµ„æºã€‚\n\nä½¿ç”¨ Storage Class å‰éœ€è¦å…ˆå®‰è£…å„ç§äº‘ä¾›åº”å•†æä¾›çš„æ’ä»¶ï¼ˆå½“ç„¶ä½¿ç”¨äº‘æœåŠ¡æä¾›çš„ K8s çš„è¯ä¸€èˆ¬å·²ç»å‡†å¤‡å¥½äº†ï¼‰ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ª Storage Class ç±»å‹çš„èµ„æºï¼ˆå½“ç„¶ä¸€èˆ¬ä¹Ÿå·²ç»å‡†å¤‡å¥½äº†ï¼‰ã€‚ä¸‹é¢æ˜¯ AWS ä¸Šçš„ EKS æœåŠ¡ä¸­é»˜è®¤è‡ªå¸¦çš„ Storage Class ï¼š\n\n```yaml\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  annotations:\n    storageclass.kubernetes.io/is-default-class: \"true\"\n  name: gp2\nprovisioner: kubernetes.io/aws-ebs\nparameters:\n  fsType: ext4\n  type: gp2\n# å½“ PVC è¢«åˆ é™¤æ—¶ä¼šåŒæ—¶åˆ é™¤ PV\nreclaimPolicy: Delete\n# åªæœ‰å½“ PVC è¢«ç»‘å®šä¸ºä¸€ä¸ª Pod çš„ Volume æ—¶æ‰ä¼šåˆ›å»ºä¸€ä¸ª PV\nvolumeBindingMode: WaitForFirstConsumer\n```\n\nå¯ä»¥çœ‹åˆ° EKS è‡ªå¸¦çš„ gp2 æä¾›äº†ä¸€äº›é»˜è®¤çš„é€‰é¡¹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç±»ä¼¼åœ°å»å®šä¹‰è‡ªå·±çš„ Storage Class ã€‚æœ‰äº† gp2 è¿™ä¸ª Storage Class ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª PVC å K8s å°±ä¼šè°ƒç”¨ AWS çš„ API ï¼Œåˆ›å»ºä¸€ä¸ªå—å‚¨å­˜æ¥åˆ°æˆ‘ä»¬çš„èŠ‚ç‚¹ä¸Šï¼Œç„¶å K8s å†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª PV å¹¶ç»‘å®šåˆ° PVC ä¸Šã€‚\n\nä¾‹å¦‚ï¼Œæˆ‘ä»¬éƒ¨ç½² Kafka æ—¶ä¼šåˆ›å»ºä¸€ä¸ªè¿™æ ·çš„ PVC ï¼š\n\n```yaml\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: data-kafka-0\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n  storageClassName: gp2\n```\n\nK8s å°±ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºå‡ºä¸€ä¸ªå¯¹åº”çš„ PV ï¼š\n\n```sh\n# `pvc-` å¼€å¤´è¿™ä¸ªæ˜¯ AWS è‡ªåŠ¨ç»™æˆ‘ä»¬èµ·çš„åå­—ã€‚å®ƒè™½ç„¶æ˜¯ `pvc-` å¼€å¤´ï¼Œä½†ä»–å…¶å®æ˜¯ä¸€ä¸ª PV ã€‚\nNAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                STORAGECLASS   REASON   AGE\npvc-3614c15f-5697-4d66-a13c-6ddf7eb89998   10Gi       RWO            Delete           Bound    kafka/data-kafka-0   gp2                     152d\n```\n\nè¦æ˜¯æ‰“å¼€ AWS Console è¿˜ä¼šå‘ç°ï¼Œ K8s è°ƒç”¨äº† AWS çš„ API ï¼Œè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª EBS å—å‚¨å­˜å¹¶ç»‘å®šåˆ°äº†æˆ‘ä»¬å¯¹åº”çš„å®¿ä¸»æœºä¸Šã€‚\n\nå¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥è¡¨ç¤º Pod ä¸­çš„ Volume ã€ PVC ã€ PV ä¹‹é—´çš„å…³ç³»ï¼š\n\n```mermaid\nflowchart TD\n\nsubgraph Pod[Pod: Kafka-0]\nsubgraph Container[Container: docker.io/bitnami/kafka:3.1.0]\nvm[VolumeMount: /bitnami/kafka]\nend\nvolume[(Volume: data)]\nvm --\u003e volume\nend\n\npvc[pvc: data-kafka-0]\npv[pv: pvc-3614c15f-5697-4d66-a13c-6ddf7eb89998]\nebs[ebs: AWS ä¸ºæˆ‘ä»¬åˆ›å»ºçš„å—å‚¨å­˜ç¡¬ä»¶]\n\nvolume --\u003e pvc\npvc --\u003e pv\npv --\u003e ebs\n```\n\nè€Œ Storage Class åœ¨ä¸Šå›¾ä¸­åˆ™è´Ÿè´£è¯»å–æˆ‘ä»¬æäº¤çš„ PVC ï¼Œç„¶ååˆ›å»º PV ä¸ EBS ã€‚\n\n### å†è¯´å› Stateful Set\n\nä¹‹å‰æˆ‘ä»¬æåˆ° Stateful Set æ—¶è¯´åˆ° Stateful Set åˆ›å»ºçš„ Pod æ‹¥æœ‰å›ºå®šçš„å‚¨å­˜ï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿè·Ÿ Deployment çš„å‚¨å­˜åˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\n\næˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ï¼Œå¦‚æœè¦ç»™ Deployment åˆ›å»ºå‡ºæ¥çš„ Pod æŒ‚è½½ PVC éœ€è¦æ€ä¹ˆåšã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªéƒ¨ç½² Nginx çš„ Deployment æ¸…å•ï¼Œå…¶ä¸­ html ç›®å½•ä¸‹çš„é™æ€æ–‡ä»¶å­˜æ”¾åœ¨ NFS é‡Œï¼Œé€šè¿‡ PVC æŒ‚è½½åˆ° Pod ä¸­ï¼š\n\n```yaml\n# è¿™é‡Œçœç•¥äº† Service ç›¸å…³çš„å†…å®¹\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-dpl-with-nfs-pvc\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:alpine\n        ports:\n        - containerPort: 80\n          name: web\n        volumeMounts: #æŒ‚è½½å®¹å™¨ä¸­çš„ç›®å½•åˆ° pvc nfs ä¸­çš„ç›®å½•\n        - name: www\n          mountPath: /usr/share/nginx/html\n      volumes:\n      - name: www\n        persistentVolumeClaim: #æŒ‡å®špvc\n          claimName: nfs-pvc-for-nginx\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: nfs-pvc-for-nginx\n  namespace: default\nspec:\n  storageclassname: \"\" # æŒ‡å®šä½¿ç”¨ç°æœ‰ PV ï¼Œä¸ä½¿ç”¨ StorageClass åˆ›å»º PV\n  accessModes:\n  - ReadWriteMany\n  resources:\n    requests:\n      storage: 1Gi\n---\n# è¿™ä¸ªä¾‹å­ä¸­éœ€è¦æŒ‚è½½ NFS ä¸Šçš„ç‰¹å®šè·¯å¾„ï¼Œæ‰€ä»¥æ‰‹åŠ¨å®šä¹‰äº†ä¸€ä¸ª PV\n# ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä¼šæ‰‹åŠ¨åˆ›å»º PVï¼Œè€Œæ˜¯ä½¿ç”¨ StorageClass è‡ªåŠ¨åˆ›å»º\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: nfs-pv-for-nginx\nspec:\n  capacity: \n    storage: 1Gi\n  accessModes:\n  - ReadWriteMany\n  persistentVolumeReclaimPolicy: Retain\n  nfs:\n    path: /nfs/sharefolder/nginx\n    server: 81.70.4.171\n```\n\nè¿™ä»½æ¸…å•æˆ‘ä»¬ä¸»è¦å…³æ³¨å‰ä¸¤ä¸ªèµ„æºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é™¤äº†ä¸€ä¸ª Deployment èµ„æºä»¥å¤–æˆ‘ä»¬è¿˜å•ç‹¬å®šä¹‰äº†ä¸€ä¸ª PVC èµ„æºã€‚ç„¶ååœ¨ Deployment çš„ Pod æ¨¡æ¿ä¸­å£°æ˜å¹¶ç»‘å®šäº†è¿™ä¸ª PVC ã€‚\n\nå¯è¿™æ · apply äº†ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬åªå£°æ˜äº†ä¸€ä»½ PVC ï¼Œå½“ç„¶æˆ‘ä»¬åªä¼šæ‹¥æœ‰ä¸€ä¸ª PVC èµ„æºã€‚ä½†è¿™ä¸ª Deployment çš„å‰¯æœ¬æ•°æ˜¯ 3 ï¼Œå› æ­¤æˆ‘ä»¬ä¼šæœ‰ 3 ä¸ªç›¸åŒçš„ Pod å»ç»‘å®šåŒä¸€ä¸ª PVC ã€‚ä¹Ÿå°±æ˜¯æœ€ç»ˆä¼šåœ¨ 3 ä¸ªå®¹å™¨é‡Œè®¿é—®åŒä¸€ä¸ª NFS çš„åŒä¸€ä¸ªç›®å½•ã€‚å¦‚æœæˆ‘ä»¬åœ¨å…¶ä¸­ä¸€ä¸ªå®¹å™¨é‡Œå¯¹è¿™ä¸ªç›®å½•ä½œä¿®æ”¹ï¼Œä¹Ÿä¼šå½±å“åˆ°å¦å¤–ä¸¤ä¸ªå®¹å™¨ã€‚\n\n\u003e æ³¨ï¼šè¿™ä¸€ç°è±¡ä¸ä¸€å®šåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½é€‚ç”¨ã€‚æ¯”å¦‚ AWS çš„ EBS å·åªæ”¯æŒå•ä¸ª AZ å†…çš„ç»‘å®šã€‚å¦‚æœ Pod å› ä¸º Node Affinity ç­‰è®¾å®šè¢«éƒ¨ç½²åˆ°äº†å¤šä¸ªåŒºï¼Œæ²¡æ³•ç»‘å®šåŒä¸€ä¸ª EBS å·ï¼Œå°±ä¼šåœ¨ Scedule çš„é˜¶æ®µæŠ¥é”™ã€‚\n\nå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½ä¸å¸Œæœ›å¤šä¸ª Pod ç»‘å®šåˆ°åŒä¸€ PVC ã€‚æ¯”å¦‚æˆ‘ä»¬éƒ¨ç½²ä¸€ä¸ª DB é›†ç¾¤çš„æ—¶å€™ï¼Œå¦‚æœå¥½ä¸å®¹æ˜“éƒ¨ç½²å‡ºæ¥çš„å¤šä¸ªå®ä¾‹å±…ç„¶ç”¨çš„æ˜¯åŒä¸€ä»½å‚¨å­˜ï¼Œå°±ä¼šæ˜¾å¾—å¾ˆå‘†ã€‚ Stateful Set å°±æ˜¯ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œä¼šä¸ºå…¶ç®¡ç†ä¸‹çš„æ¯ä¸ª Pod éƒ½éƒ¨ç½²ä¸€ä¸ªä¸“ç”¨çš„ PVC ã€‚\n\nä¸‹é¢æ˜¯ç»™ Stateful Set åˆ›å»ºå‡ºæ¥çš„ Pod æŒ‚è½½ PVC çš„ä¸€ä»½æ¸…å•ï¼š\n\n```yaml\n# è¿™é‡Œçœç•¥äº† Service ç›¸å…³çš„å†…å®¹\n---\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: web\nspec:\n  serviceName: \"nginx\"\n  replicas: 2\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: k8s.gcr.io/nginx-slim:0.8\n        ports:\n        - containerPort: 80\n          name: web\n        volumeMounts:\n        - name: www\n          mountPath: /usr/share/nginx/html\n  volumeClaimTemplates:\n  - metadata:\n      name: www\n    spec:\n      accessModes: [ \"ReadWriteOnce\" ]\n      resources:\n        requests:\n          storage: 1Gi\n```\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œéƒ¨ç½² Stateful Set æ—¶æˆ‘ä»¬ä¸èƒ½å¦å¤–å•ç‹¬å®šä¹‰ä¸€ä»½ PVC äº†ï¼Œåªèƒ½ä½œä¸º Stateful Set å®šä¹‰çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨ volumeClaimTemplates å­—æ®µä¸­å®šä¹‰ PVC çš„æ¨¡æ¿ã€‚è¿™æ ·ä¸€æ¥ï¼Œ Stateful Set ä¼šæ ¹æ®è¿™ä¸ªæ¨¡æ¿ï¼Œä¸ºæ¯ä¸ª Pod åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ PVC ï¼Œå¹¶ä½œä¸º Pod çš„ Volume ç»‘å®šä¸Šï¼š\n\n```bash\n# Stateful Set åˆ›å»ºå‡ºæ¥çš„ Pod ï¼Œåå­—éƒ½æ˜¯æŒ‰é¡ºåºçš„\n$ kubectl get pods -l app=nginx\nNAME      READY     STATUS    RESTARTS   AGE\nweb-0     1/1       Running   0          1m\nweb-1     1/1       Running   0          1m\n\n# Stateful Set åˆ›å»ºå‡ºæ¥çš„ PVC ï¼Œåå­—ä¸ Pod çš„åå­—ä¸€ä¸€å¯¹åº”\n$ kubectl get pvc -l app=nginx\nNAME        STATUS    VOLUME                                     CAPACITY   ACCESSMODES   AGE\nwww-web-0   Bound     pvc-15c268c7-b507-11e6-932f-42010a800002   1Gi        RWO           48s\nwww-web-1   Bound     pvc-15c79307-b507-11e6-932f-42010a800002   1Gi        RWO           48s\n```\n\nè¿™æ ·ï¼Œ Stateful Set çš„å¤šä¸ª Pod å°±ä¼šæ‹¥æœ‰è‡ªå·±çš„å‚¨å­˜ï¼Œä¸ä¼šç›¸äº’æ‰“æ¶äº†ã€‚å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬äº‹å…ˆå®šä¹‰äº† StorageClass ï¼Œè¿˜èƒ½æ ¹æ® Stateful Set çš„å‰¯æœ¬æ•°åŠ¨æ€é…ç½® PV ã€‚\n\n### ConfigMap ä¸ Secret æŒ‚è½½ä½œä¸ºç‰¹æ®Šçš„å·\n\næœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶æ¥é…ç½®åº”ç”¨ï¼ˆæ¯”å¦‚ Nginx çš„é…ç½®æ–‡ä»¶ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ä¸é‡å¯ Pod å°±çƒ­æ›´æ–°é…ç½®ã€‚å¦‚æœç”¨ PVC æ¥åŠ è½½é…ç½®æ–‡ä»¶ç•¥å¾®éº»çƒ¦ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ Config Map ã€‚\n\nä¸‹é¢æ˜¯ K8s å®˜ç½‘ä¸Š Config Map çš„ä¸€ä¸ªä¾‹å­ï¼š\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: game-demo\ndata:\n  # ä¸€ä¸ª Key å¯ä»¥å¯¹åº”ä¸€ä¸ªå€¼\n  player_initial_lives: \"3\"\n  ui_properties_file_name: \"user-interface.properties\"\n\n  # ä¸€ä¸ª Key ä¹Ÿå¯ä»¥å¯¹åº”ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹\n  game.properties: |\n    enemy.types=aliens,monsters\n    player.maximum-lives=5    \n  user-interface.properties: |\n    color.good=purple\n    color.bad=yellow\n    allow.textmode=true    \n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: configmap-demo-pod\nspec:\n  containers:\n    - name: demo\n      image: alpine\n      command: [\"sleep\", \"3600\"]\n      env:\n        # ConfigMap çš„ Key å¯ä»¥ä½œä¸ºç¯å¢ƒå˜é‡å¼•ç”¨\n        - name: PLAYER_INITIAL_LIVES\n          valueFrom:\n            configMapKeyRef:\n              name: game-demo           # ä»è¿™ä¸ª Config Map é‡Œ\n              key: player_initial_lives # æ‹¿åˆ°è¿™ä¸ª key çš„å€¼\n        - name: UI_PROPERTIES_FILE_NAME\n          valueFrom:\n            configMapKeyRef:\n              name: game-demo\n              key: ui_properties_file_name\n      volumeMounts:\n      - name: config\n        mountPath: \"/config\"\n        readOnly: true\n  volumes:\n    # å®šä¹‰ Pod çš„ Volume ï¼Œç§ç±»ä¸º configMap\n    - name: config\n      configMap:\n        name: game-demo # ConfigMapçš„åå­—\n        # éœ€è¦ä½œä¸ºæ–‡ä»¶æ”¾å…¥ Volume çš„ Key\n        items:\n        - key: \"game.properties\"\n          path: \"game.properties\"\n        - key: \"user-interface.properties\"\n          path: \"user-interface.properties\"\n```\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ° ConfigMap é‡Œçš„ Key å¯ä»¥ä½œä¸ºæ–‡ä»¶æˆ–æ˜¯ç¯å¢ƒå˜é‡åŠ è½½åˆ° Pod ä¸­ã€‚å¦å¤–ï¼Œä½œä¸ºç¯å¢ƒå˜é‡åŠ è½½åå…¶å®è¿˜èƒ½ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ä¼ å…¥åº”ç”¨ï¼Œå®ç°å„ç§é…ç½®æ–¹å¼ã€‚å¦‚æœä¿®æ”¹ Config map çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨æ›´æ–° Pod ä¸­çš„æ–‡ä»¶ã€‚\n\nç„¶è€Œï¼Œ Config Map çš„çƒ­æ›´æ–°æœ‰ä¸€äº›ä¸å¤ªçµæ´»çš„åœ°æ–¹ï¼š\n\n1. ä½œä¸ºç¯å¢ƒå˜é‡åŠ è½½çš„ Config Map æ•°æ®ä¸ä¼šè¢«çƒ­æ›´æ–°ã€‚æƒ³è¦æ›´æ–°è¿™ä¸€éƒ¨åˆ†æ•°æ®éœ€è¦é‡å¯ Podã€‚ï¼ˆå½“ç„¶ï¼Œå‘½ä»¤è¡Œå‚æ•°ä¹Ÿä¸èƒ½çƒ­æ›´æ–°ï¼‰\n2. ç”±äº Kubelet ä¼šå…ˆå°† Config Map å†…å®¹åŠ è½½åˆ°æœ¬åœ°ä½œä¸ºç¼“å­˜ï¼Œå› æ­¤ä¿®æ”¹ Config Map åæ–°çš„å†…å®¹ä¸ä¼šç¬¬ä¸€æ—¶é—´åŠ è½½åˆ° Pod ä¸­ã€‚è€Œä¸”åœ¨æ—§ç‰ˆæœ¬çš„ K8s ä¸­ï¼Œ Config Map è¢«æ›´æ–°ç›´åˆ°ç¼“å­˜è¢«åˆ·æ–°çš„æ—¶é—´é—´éš”è¿˜ä¼šå¾ˆé•¿ï¼Œæ–°ç‰ˆæœ¬çš„ K8s è¿™ä¸€éƒ¨åˆ†æœ‰äº†ä¼˜åŒ–ï¼Œå¯ä»¥è®¾å®šåˆ·æ–°æ—¶é—´ï¼Œä½†ä¼šå¯¼è‡´ API Server çš„è´Ÿæ‹…åŠ é‡ã€‚ï¼ˆè¿™å…¶å®æ˜¯ä¸€ä¸ª Known Issue ï¼Œè¢«è¯Ÿç—…å¤šå¹´ï¼š https://github.com/kubernetes/kubernetes/issues/22368 ï¼‰\n\né™¤ Config Map ä»¥å¤–ï¼Œ K8s è¿˜æä¾›äº†ä¸€ç§å« Secret çš„èµ„æºï¼Œç”¨æ³•å’Œ Config Map å‡ ä¹ä¸€æ ·ã€‚å¯¹æ¯” Config Map ï¼ŒSecret æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š\n\n1. åœ¨ Pod é‡Œï¼Œ Secret åªä¼šè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè€Œæ°¸è¿œä¸ä¼šè¢«å†™åˆ°ç£ç›˜ä¸Šã€‚\n2. ç”¨ `kubectl get` ä¹‹ç±»çš„å‘½ä»¤æ˜¾ç¤ºçš„ Secret å†…å®¹ä¼šè¢«ç”¨ base64 ç¼–ç ã€‚ï¼ˆä¸è¿‡ï¼Œ well ï¼Œä¼—æ‰€å‘¨çŸ¥ base64 å¯ä¸ç®—æ˜¯ä»€ä¹ˆåŠ å¯†ï¼‰\n3. å¯ä»¥é€šè¿‡ K8s çš„ Service Account ç­‰ RBAC ç›¸å…³çš„èµ„æºæ¥æ§åˆ¶ Secret çš„è®¿é—®æƒé™ã€‚\n\nä¸è¿‡ï¼Œç”±äº Secret ä¹Ÿæ˜¯ä»¥æ˜æ–‡çš„å½¢å¼è¢«å­˜å‚¨åœ¨ K8s çš„ä¸»èŠ‚ç‚¹ä¸­çš„ï¼Œå› æ­¤éœ€è¦ä¿è¯ K8s ä¸»èŠ‚ç‚¹çš„å®‰å…¨ã€‚\n\n\u003e **Downward API æŒ‚è½½ä½œä¸ºç‰¹æ®Šçš„å·**\n\u003e \n\u003e è¿˜æœ‰å¦å¤–ä¸€ç§å« Downward API çš„ä¸œè¥¿ï¼Œå¯ä»¥ä½œä¸º Volume æˆ–æ˜¯ç¯å¢ƒå˜é‡è¢«åŠ è½½åˆ° Pod ä¸­ã€‚æœ‰ä¸€äº›å‚æ•°æˆ‘ä»¬å¾ˆéš¾äº‹å…ˆåœ¨ Manifest ä¸­å®šä¹‰ï¼ˆ e.g. Deployment ç”Ÿæˆçš„ Pod çš„åå­—ï¼‰ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ Downward API æ¥å®ç°ã€‚\n\u003e \n\u003e ```yaml\n\u003e apiVersion: v1\n\u003e kind: Pod\n\u003e metadata:\n\u003e     name: test-volume-pod\n\u003e     namespace: kube-system\n\u003e     labels:\n\u003e         k8s-app: test-volume\n\u003e         node-env: test\n\u003e spec:\n\u003e     containers:\n\u003e     - name: test-volume-pod-container\n\u003e       image: busybox:latest\n\u003e       env:\n\u003e       - name: POD_NAME # å°† Pod çš„åå­—ä½œä¸ºç¯å¢ƒå˜é‡ POD_NAME åŠ è½½åˆ° Pod ä¸­\n\u003e         valueFrom:\n\u003e           fieldRef:\n\u003e             fieldPath: metadata.name\n\u003e       command: [\"sh\", \"-c\"]\n\u003e       args:\n\u003e       - while true; do\n\u003e           cat /etc/podinfo/labels | echo;\n\u003e           env | sort | echo;\n\u003e           sleep 3600;\n\u003e         done;\n\u003e       volumeMounts:\n\u003e       - name: podinfo\n\u003e         mountPath: /etc/podinfo\n\u003e     volumes:\n\u003e     - name: podinfo\n\u003e       downwardAPI: # Downward API ç±»å‹çš„å·\n\u003e         items:\n\u003e         - path: \"labels\" # å°† Pod çš„æ ‡ç­¾ä½œä¸º  labels æ–‡ä»¶æŒ‚è½½åˆ° Pod ä¸­\n\u003e           fieldRef:\n\u003e             fieldPath: metadata.labels\n\u003e ```\n\n\n\n# ç½‘ç»œ\n\nå…¶å® Pod åªè¦éƒ¨ç½²å¥½äº†ï¼Œå°±ä¼šè¢«åˆ†é…åˆ°ä¸€ä¸ªé›†ç¾¤å†…éƒ¨çš„ IP åœ°å€ï¼Œæµé‡å°±å¯ä»¥é€šè¿‡ IP åœ°å€æ¥è®¿é—® Pod äº†ã€‚ç„¶è€Œé€šè¿‡å¯èƒ½ä¼šæœ‰å¾ˆå¤§é—®é¢˜ï¼š **Pod éšæ—¶ä¼šè¢«æ€æ­»ã€‚** è™½ç„¶é€šè¿‡ç”¨ Deployment ç­‰èµ„æºå¯ä»¥åœ¨æŒ‚æ‰åé‡æ–°åˆ›å»ºä¸€ä¸ª Pod ï¼Œä½†é‚£æ¯•ç«Ÿæ˜¯ä¸åŒçš„ Pod ï¼Œ IP å·²ç»æ”¹å˜ã€‚\n\nå¦å¤–ï¼Œ Deployment ç­‰èµ„æºçš„å°±æ˜¯ä¸ºäº†èƒ½æ›´æ–¹ä¾¿çš„åšåˆ°å¤šå‰¯æœ¬éƒ¨ç½²åŠä»»æ„ç¼©å®¹æ‰©å®¹è€Œå­˜åœ¨çš„ã€‚å¦‚æœåœ¨ K8s ä¸­è®¿é—® Pod è¿˜éœ€è¦å°å¿ƒç¿¼ç¿¼åœ°å»æ‰¾åˆ° Pod çš„ IP åœ°å€ï¼Œæˆ–æ˜¯å»å¯»æ‰¾ Pod æ˜¯å¦éƒ¨ç½²äº†æ–°å‰¯æœ¬ï¼Œ Deployment ç­‰èµ„æºå°±å‡ ä¹æ²¡æœ‰å­˜åœ¨ä»·å€¼äº†ã€‚\n\n\u003e å…¶å® Pod éƒ¨ç½²å¥½åä¸æ­¢ä¼šè¢«åˆ†é… IP åœ°å€ï¼Œè¿˜ä¼šè¢«åˆ†é…åˆ°ä¸€ä¸ªç±»ä¼¼ `\u003cpod-ip\u003e.\u003cnamespace\u003e.pod.cluster.local` çš„ DNS è®°å½•ã€‚ä¾‹å¦‚ä¸€ä¸ªä½äº default åå­—ç©ºé—´ï¼ŒIP åœ°å€ä¸º 172.17.0.3 çš„ Pod ï¼Œå¯¹åº” DNS è®°å½•ä¸º `172-17-0-3.default.pod.cluster.local` ã€‚\n\n### Service\n\nåœ¨å¤ä»£ï¼Œäººä»¬æ˜¯é€šè¿‡æ³¨å†Œä¸­å¿ƒã€æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ç­‰ä¸­é—´ä»¶æ¥è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜çš„ï¼Œä½†è¿™æ ·å¾ˆä¸äº‘åŸç”Ÿã€‚äºæ˜¯ K8s å¼•å…¥äº† Service è¿™ç§èµ„æºï¼Œæ¥å®ç°ç®€æ˜“çš„æœåŠ¡å‘ç°ã€ DNS åŠŸèƒ½ã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç»å…¸çš„ä¾‹å­ï¼Œéƒ¨ç½²äº†ä¸€ä¸ª Service å’Œä¸€ä¸ª Deploymentï¼š\n\n```yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: auth-service\n  labels:\n    app: auth\nspec:\n  type: ClusterIP\n  selector:\n    app: auth # æŒ‡å‘ Deployment åˆ›å»ºçš„ Pod\n  ports:\n  - port: 80 # Service æš´éœ²çš„ç«¯å£\n    targetPort: 8080 # Pod çš„ç«¯å£\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name:  auth\n  labels:\n    app: auth\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: auth\n  template:\n    metadata:\n      name: auth\n      labels:\n        app: auth\n    spec:\n      containers:\n      - name: auth\n        image: xxxxx.dkr.ecr.ap-northeast-1.amazonaws.com/auth:xxxxx\n        ports:\n        - containerPort: 8080\n```\n\næ ¹æ®å‰é¢çš„çŸ¥è¯†æˆ‘ä»¬çŸ¥é“ï¼Œè¿™ä»½æ–‡ä»¶ä¼šéƒ¨ç½² Deployment ä¼šåˆ›å»º 2 ä¸ªç›¸åŒçš„ Pod å‰¯æœ¬ã€‚å¦å¤–è¿˜ä¼šéƒ¨ç½²ä¸€ä¸ªåä¸º auth-service çš„ Service èµ„æºã€‚è¿™ä¸ª Service æš´éœ²äº†ä¸€ä¸ª 80 ç«¯å£ï¼Œå¹¶ä¸”æŒ‡å‘é‚£ä¸¤ä¸ª Pod çš„ 8080 ç«¯å£ã€‚\n\nè€Œè¿™ä»½æ–‡ä»¶éƒ¨ç½²åï¼Œ Service èµ„æºå°±ä¼šåœ¨é›†ç¾¤ä¸­æ³¨å†Œä¸€ä¸ª DNS A è®°å½•ï¼ˆæˆ– AAAA è®°å½•ï¼‰ï¼Œé›†ç¾¤å†…å…¶ä»– Pod ï¼ˆä¸ºäº†è¾¨åˆ«æˆ‘ä»¬å«å®ƒ Client ï¼‰å°±å¯ä»¥é€šè¿‡ç›¸åŒçš„ DNS åç§°æ¥è®¿é—® Deployment éƒ¨ç½²çš„è¿™ 2 ä¸ª Pod ï¼š\n\n```sh\ncurl http://auth-service.\u003cnamespace\u003e.svc.cluster.local:80\n# æˆ–è€…çœç•¥æ‰åé¢çš„ä¸€å¤§ä¸²\ncurl http://auth-service.\u003cnamespace\u003e:80\n# å¦‚æœ Client å’Œ Service åœ¨åŒä¸€ä¸ª Namespace ä¸­ï¼Œè¿˜å¯ä»¥ï¼š\ncurl http://auth-service:80\n```\n\nåƒè¿™æ · Client é€šè¿‡ Service æ¥è®¿é—®æ—¶ï¼Œä¼šéšæœºè®¿é—®åˆ°å…¶ä¸­ä¸€ä¸ª Pod ï¼Œè¿™æ ·ä¸€æ¥æ— è®º Deployment åˆ°åº•åˆ›å»ºäº†å¤šå°‘ä¸ªå‰¯æœ¬ï¼Œåªè¦å‰¯æœ¬çš„æ ‡ç­¾ç›¸åŒï¼Œå°±èƒ½é€šè¿‡åŒä¸€ä¸ª DNS åç§°æ¥è®¿é—®ï¼Œè¿˜èƒ½è‡ªåŠ¨å®ç°ä¸€äº›ç®€å•çš„è´Ÿè½½å‡è¡¡ã€‚\n\n\u003e **ä¸ºä»€ä¹ˆ DNS åç§°å¯ä»¥ç®€åŒ–ï¼Ÿ**\n\u003e \n\u003e Pod è¢«éƒ¨ç½²æ—¶ï¼Œ kubelet ä¼šä¸ºæ¯ä¸ª Pod æ³¨å…¥ä¸€ä¸ªç±»ä¼¼å¦‚ä¸‹çš„ `/etc/resolv.conf` æ–‡ä»¶ï¼š\n\u003e \n\u003e ```\n\u003e nameserver 10.32.0.10\n\u003e search \u003cnamespace\u003e.svc.cluster.local svc.cluster.local cluster.local\n\u003e options ndots:5\n\u003e ```\n\u003e \n\u003e Pod ä¸­è¿›è¡Œ DNS æŸ¥è¯¢æ—¶ï¼Œé»˜è®¤ä¼šå…ˆè¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åæŒ‰ç…§ `search` é€‰é¡¹ä¸­çš„å†…å®¹å±•å¼€ DNS ã€‚ä¾‹å¦‚ï¼Œåœ¨ test åç§°ç©ºé—´ä¸­çš„ Pod ï¼Œè®¿é—® data æ—¶çš„æŸ¥è¯¢å¯èƒ½è¢«å±•å¼€ä¸º data.test.svc.cluster.local ã€‚\n\u003e æ›´å¤šå…³äº `/etc/resolv.conf` æ–‡ä»¶çš„å†…å®¹å¯å‚è€ƒ https://www.man7.org/linux/man-pages/man5/resolv.conf.5.html\n\n### Service çš„ç§ç±»\n\næˆ‘ä»¬ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¯ä»¥çœ‹åˆ° Service èµ„æºæœ‰ä¸ªå­—æ®µ `type:ClusterIP` ã€‚å…¶å® Service èµ„æºæœ‰ä»¥ä¸‹å‡ ä¸ªç§ç±»ï¼š\n\n| ç§ç±»           | ä½œç”¨                                                                                                                                                                                                                                                                                             |\n| :------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `ClusterIP`    | è¿™ä¸ªç±»å‹çš„ Service ä¼šåœ¨é›†ç¾¤å†…åˆ›å»ºä¸€æ¡ DNS A è®°å½•å¹¶é€šè¿‡ä¸€å®šæ–¹æ³•å°†æµé‡ä»£ç†åˆ°å…¶æŒ‡å‘çš„ Pod ä¸Šã€‚è¿™ç§ Service ä¸ä¼šæš´éœ²åˆ°é›†ç¾¤å¤–ã€‚è¿™æ˜¯æœ€åŸºç¡€çš„ Service ç§ç±»ã€‚                                                                                                                                            |\n| `NodePort`     | è¿™ç§ Service ä¼šåœ¨ ClusterIP çš„åŸºç¡€ä¸Šï¼Œåœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šå„æš´éœ²ä¸€ä¸ªç«¯å£ï¼Œå¹¶æŠŠç«¯å£çš„æµé‡ä¹Ÿä»£ç†åˆ°æŒ‡å‘çš„ Pod ä¸Šã€‚å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•ä»é›†ç¾¤å¤–è®¿é—®é›†ç¾¤å†…çš„èµ„æºã€‚                                                                                                                                                |\n| `LoadBalancer` | è¿™ç§ Service ä¼šåœ¨ ClusterIP çš„åŸºç¡€ä¸Šï¼Œåœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šå„æš´éœ²ä¸€ä¸ªç«¯å£ï¼Œå¹¶åœ¨é›†ç¾¤å¤–åˆ›å»ºä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨æ¥å°†å¤–éƒ¨æµé‡è·¯ç”±åˆ°æš´éœ²çš„ç«¯å£ï¼Œå†æŠŠæµé‡ä»£ç†åˆ°æŒ‡å‘çš„ Pod ä¸Šã€‚è¿™ç§ Service ä¸€èˆ¬éœ€è¦è°ƒç”¨äº‘æœåŠ¡æä¾›çš„ API æˆ–æ˜¯é¢å¤–å®‰è£…çš„æ’ä»¶ã€‚å¦‚æœä»€ä¹ˆæ’ä»¶éƒ½æ²¡å®‰è£…çš„è¯ï¼Œè¿™ç§ Service éƒ¨ç½²åä¼šä¸ `NodePort` çš„è¡¨ç°ä¸€æ ·ã€‚ |\n| `ExternalName` | è¿™ç§ Service ä¸éœ€è¦ selector å­—æ®µæŒ‡å®šåç«¯ï¼Œè€Œæ˜¯ç”¨ externalName å­—æ®µæŒ‡å®šä¸€ä¸ªå¤–éƒ¨ DNS è®°å½•ï¼Œç„¶åå°†æµé‡å…¨éƒ¨æŒ‡å‘å¤–éƒ¨æœåŠ¡ã€‚å¦‚æœæ‰“ç®—å°†é›†ç¾¤å†…çš„æœåŠ¡è¿ç§»åˆ°é›†ç¾¤å¤–ã€æˆ–æ˜¯é›†ç¾¤å¤–è¿ç§»åˆ°é›†ç¾¤å†…ï¼Œè¿™ç§ç±»å‹çš„ Service å¯ä»¥å®ç°æ— ç¼è¿ç§»ã€‚                                                                          |\n\n### è™šæ‹Ÿ IP ä¸ Headless Service\n\nå¦‚æœä½ åœ¨é›†ç¾¤å†…å°è¯•å¯¹ Service å¯¹åº”çš„ DNS è®°å½•è¿›è¡ŒåŸŸåè§£æï¼Œä¼šå‘ç°è¿”å›æ¥çš„ IP åœ°å€ä¸ Service æŒ‡å‘çš„ä»»ä½•ä¸€ä¸ª Pod å¯¹åº”çš„ IP åœ°å€éƒ½ä¸ç›¸åŒã€‚å¦‚æœä½ è¿˜å°è¯•äº†å» Ping è¿™ä¸ª IP åœ°å€ï¼Œä¼šå‘ç°ä¸èƒ½ Ping é€šã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ\n\nåŸæ¥ï¼Œæ¯ä¸ª Service è¢«éƒ¨ç½²åï¼Œ K8s éƒ½ä¼šç»™ä»–åˆ†é…ä¸€ä¸ªé›†ç¾¤å†…éƒ¨çš„ IP åœ°å€ï¼Œä¹Ÿå°±æ˜¯ Cluster IP ï¼ˆè¿™ä¹Ÿæ˜¯æœ€åŸºç¡€çš„ Service ç§ç±»ä¼šèµ·åå« Cluster IP çš„åŸå› ï¼‰ã€‚\n\nä½†æ˜¯è¿™ä¸ª Cluster IP ä¸ä¼šç»‘å®šä»»ä½•çš„ç½‘å¡ï¼Œæ˜¯ä¸€ä¸ªè™šæ‹Ÿ IP ã€‚ç„¶å K8s ä¸­æœ‰ä¸€ä¸ªå« kube-proxy çš„ç»„ä»¶ï¼ˆè¿™é‡Œå«ä»–åšç»„ä»¶ï¼Œæ˜¯å› ä¸º kube-proxy ä¸ Service ã€ Deployment ç­‰ä¸ä¸€æ ·ï¼Œä¸æ˜¯ä¸€ç§èµ„æºè€Œæ˜¯ K8s çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œ kube-proxy é€šè¿‡ä¿®æ”¹ iptables ï¼Œå°†è™šæ‹Ÿ IP çš„æµé‡ç»è¿‡ä¸€å®šçš„è´Ÿè½½å‡è¡¡è§„åˆ™åä»£ç†åˆ° Pod ä¸Šã€‚\n\n![K8s å®˜ç½‘ä¸Šçš„è™šæ‹Ÿ IP å›¾](https://d33wubrfki0l68.cloudfront.net/27b2978647a8d7bdc2a96b213f0c0d3242ef9ce0/e8c9b/images/docs/services-iptables-overview.svg)\n\n\u003e **ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ DNS è½®è¯¢ï¼Ÿ**\n\u003e \n\u003e ä¸ºä»€ä¹ˆ K8s ä¸é…ç½®å¤šæ¡ DNS A è®°å½•ï¼Œç„¶åé€šè¿‡è½®è¯¢åç§°æ¥è§£æï¼Ÿä¸ºä»€ä¹ˆéœ€è¦æå‡ºè™šæ‹Ÿ IP è¿™ä¹ˆå¤æ‚çš„ä¸œè¥¿ï¼Ÿè¿™ä¸ªé—®é¢˜ K8s å®˜ç½‘ä¸Šä¹Ÿæœ‰ç‰¹åˆ«æåˆ°åŸå› ï¼š\n\u003e \n\u003e - DNS å®ç°çš„å†å²ç”±æ¥å·²ä¹…ï¼Œå®ƒä¸éµå®ˆè®°å½• TTLï¼Œå¹¶ä¸”åœ¨åç§°æŸ¥æ‰¾ç»“æœåˆ°æœŸåå¯¹å…¶è¿›è¡Œç¼“å­˜ã€‚\n\u003e - æœ‰äº›åº”ç”¨ç¨‹åºä»…æ‰§è¡Œä¸€æ¬¡ DNS æŸ¥æ‰¾ï¼Œå¹¶æ— é™æœŸåœ°ç¼“å­˜ç»“æœã€‚\n\u003e - å³ä½¿åº”ç”¨å’Œåº“è¿›è¡Œäº†é€‚å½“çš„é‡æ–°è§£æï¼ŒDNS è®°å½•ä¸Šçš„ TTL å€¼ä½æˆ–ä¸ºé›¶ä¹Ÿå¯èƒ½ä¼šç»™ DNS å¸¦æ¥é«˜è´Ÿè½½ï¼Œä»è€Œä½¿ç®¡ç†å˜å¾—å›°éš¾ã€‚\n\næœ‰äº›æ—¶å€™ï¼ˆæ¯”å¦‚æƒ³ä½¿ç”¨è‡ªå·±çš„æœåŠ¡å‘ç°æœºåˆ¶æˆ–æ˜¯è‡ªå·±çš„è´Ÿè½½å‡è¡¡æœºåˆ¶æ—¶ï¼‰æˆ‘ä»¬ç¡®å®ä¹Ÿä¼šæƒ³è¶Šè¿‡è™šæ‹Ÿ IP ï¼Œç›´æ¥è·å–èƒŒå Pod çš„ IP åœ°å€ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å°† Service çš„ `spec.clusterIP` å­—æ®µæŒ‡å®šä¸º `None` ï¼Œè¿™æ · K8s å°±ä¸ä¼šç»™è¿™ä¸ª Service åˆ†é…ä¸€ä¸ª Cluster IP ã€‚è¿™æ ·çš„ Service è¢«ç§°ä¸º **Headless Service** ã€‚\n\nHeadless Service èµ„æºä¼šåˆ›å»ºä¸€ç»„ A è®°å½•ç›´æ¥æŒ‡å‘èƒŒåçš„ Pod ï¼Œå¯ä»¥é€šè¿‡ DNS è½®è¯¢ç­‰æ–¹å¼ç›´æ¥è·å¾—å…¶ä¸­ä¸€ä¸ª Pod çš„ IP åœ°å€ã€‚å¦å¤–æ›´é‡è¦çš„ä¸€ç‚¹ï¼Œ Headless Service è¿˜ä¼šåˆ›å»ºä¸€ç»„ SRV è®°å½•ï¼ŒåŒ…å«äº†æŒ‡å‘å„ä¸ª Pod çš„ DNS è®°å½•ï¼Œå¯ä»¥é€šè¿‡ SRV è®°å½•æ¥å‘ç°æ‰€æœ‰ Pod ã€‚\n\næˆ‘ä»¬å¯ä»¥åœ¨é›†ç¾¤é‡Œç”¨ nsloopup æˆ– dig å‘½ä»¤å»éªŒè¯ä¸€ä¸‹ï¼š\n\n```sh\n# åœ¨é›†ç¾¤çš„ Pod å†…éƒ¨è¿è¡Œ\n$ nslookup kafka-headless.kafka.svc.cluster.local\nServer:     10.96.0.10\nAddress:    10.96.0.10#53\n\nName:   kafka-headless.kafka.svc.cluster.local\nAddress: 172.17.0.6\nName:   kafka-headless.kafka.svc.cluster.local\nAddress: 172.17.0.5\nName:   kafka-headless.kafka.svc.cluster.local\nAddress: 172.17.0.4\n\n$ dig SRV kafka-headless.kafka.svc.cluster.local\n# .....\n;; ANSWER SECTION:\nkafka-headless.kafka.svc.cluster.local.      30      IN      SRV     0 20 9092 kafka-0.kafka-headless.kafka.svc.cluster.local.\nkafka-headless.kafka.svc.cluster.local.      30      IN      SRV     0 20 9092 kafka-1.kafka-headless.kafka.svc.cluster.local.\nkakfa-headless.kafka.svc.cluster.local.      30      IN      SRV     0 20 9092 kafka-2.kafka-headless.kafka.svc.cluster.local.\n\n;; ADDITIONAL SECTION:\nkafka-0.kafka-headless.kafka.svc.cluster.local. 30 IN A  172.17.0.6\nkafka-1.kafka-headless.kafka.svc.cluster.local. 30 IN A  172.17.0.5\nkafka-2.kafka-headless.kafka.svc.cluster.local. 30 IN A  172.17.0.4\n```\n\n\u003e æ‹¥æœ‰ Cluster IP çš„ Service å…¶å®ä¹Ÿæœ‰ SRV è®°å½•ã€‚ä½†è¿™ç§æƒ…å†µçš„ SRV è®°å½•ä¸­å¯¹åº”çš„ Target ä»ä¸º Service è‡ªå·±çš„ FQDN ã€‚\n\n### ç¬¬ä¸‰æ¬¡å›åˆ° Stateful Set\n\nåœ¨ä¸Šé¢ Headless Service çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œå„ä¸ª Pod å¯¹åº”çš„ DNS A è®°å½•æ ¼å¼ä¸º `\u003cpod_name\u003e.\u003csvc_name\u003e.\u003cnamespace\u003e.svc.cluster.local` ã€‚ä¸å¯¹å•Šï¼Œä¹‹å‰çš„å°çŸ¥è¯†é‡Œä¸æ˜¯è¯´è¿‡ Pod è¢«åˆ†é…çš„ DNS A è®°å½•æ ¼å¼åº”è¯¥æ˜¯ `172-17-0-3.default.pod.cluster.local` çš„å—ï¼Ÿ\n\nå…¶å® Headless Service è¿˜æœ‰ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„éšè—åŠŸèƒ½ã€‚ Pod è¿™ç§èµ„æºæœ¬èº«çš„å‚æ•°ä¸­æœ‰ `subdomain` å­—æ®µå’Œ `hostname` å­—æ®µï¼Œå¦‚æœè®¾ç½®äº†è¿™ä¸¤ä¸ªå­—æ®µï¼Œè¿™ä¸ª Pod å°±æ‹¥æœ‰äº†å½¢å¦‚ `\u003chostname\u003e.\u003csubdomain\u003e.\u003cnamespace\u003e.svc.cluster.local` çš„ FQDN ï¼ˆå…¨é™å®šåŸŸåï¼‰ã€‚å¦‚æœè¿™æ—¶åˆšå¥½åœ¨åŒä¸€åç§°ç©ºé—´ä¸‹æœ‰ä¸ `subdomain` åŒåçš„ Headless Service ï¼Œ DNS å°±ä¼šç”¨ä¸ºè¿™ä¸ª Pod ç”¨å®ƒçš„ FQDN æ¥åˆ›å»ºä¸€æ¡ DNS A è®°å½•ã€‚\n\næ¯”å¦‚ Pod1 åœ¨ `kafka` åç§°ç©ºé—´ä¸­ï¼Œ `hostname` ä¸º `kafka-1` ï¼Œ `subdomain` ä¸º `kafka-headless` ï¼Œé‚£ä¹ˆ Pod1 çš„ FQDN å°±æ˜¯ `kafka-1.kafka-headless.kakfa.svc.cluster.local` ã€‚è€ŒåŒæ ·åœ¨ `kafka` åç§°ç©ºé—´ä¸­ï¼Œåˆšå¥½åˆæœ‰ä¸€ä¸ª `kafka-headless` çš„ Headless Service ï¼Œé‚£ä¹ˆ DNS å°±ä¼šåˆ›å»ºä¸€æ¡ A è®°å½•ï¼Œå°±å¯ä»¥é€šè¿‡ `kafka-1.kafka-headless.kafka.svc.cluster.local` æ¥è®¿é—® Pod1 äº†ã€‚å½“ç„¶ï¼Œç”±äº DNS å±•å¼€ï¼Œä¹Ÿå¯ä»¥ç”¨ `kafka-1.kafka-headless.kafka` ç”šè‡³æ˜¯ `kafka-1.kafka-headless` æ¥è®¿é—®è¿™ä¸ª Pod ã€‚\n\nå…¶å®è¿™äº› Pod æ˜¯ç”¨ Stateful Set æ¥éƒ¨ç½²çš„ï¼Œè¿™ä¸€éƒ¨åˆ†å…¶å®æ˜¯ Stateful Set ç›¸å…³çš„åŠŸèƒ½ã€‚ä¹‹å‰æˆ‘ä»¬è¯´åˆ° Stateful Set æœ‰å”¯ä¸€ç¨³å®šçš„ç½‘ç»œæ ‡è¯†ã€‚æˆ‘ä»¬ç°åœ¨å°±æ¥è¯¦ç»†è®²è®²ï¼Œè¿™â€œå”¯ä¸€ç¨³å®šçš„ç½‘ç»œæ ‡è¯†â€åˆ°åº•æ˜¯åœ¨æŒ‡ä»€ä¹ˆã€‚\n\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ª kafka Stateful Set åˆ°åº•æ˜¯æ€ä¹ˆéƒ¨ç½²çš„ï¼š\n\n```yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: kafka-headless\nspec:\n  clusterIP: None # è¿™æ˜¯ä¸€ä¸ª headless service\n  ports:\n  - name: tcp-client\n    port: 9092\n    protocol: TCP\n    targetPort: kafka-client\n  selector:\n    select-label: kafka-label\n  type: ClusterIP\n---\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: kafka\nspec:\n  replicas: 3\n  serviceName: kafka-headless # æ³¨æ„åˆ°è¿™é‡Œæœ‰ serviceName å­—æ®µ\n  selector:\n    matchLabels:\n      select-label: kafka-label\n  template:\n    metadata:\n      labels:\n        select-label: kafka-label\n    spec:\n      containers:\n      - name: kafka\n        image: docker.io/bitnami/kafka:3.1.0-debian-10-r52\n        # æ¥ä¸‹æ¥ Pod ç›¸å…³éƒ¨åˆ†çœç•¥\n  # ä¸‹é¢ Volume ç›¸å…³éƒ¨åˆ†ä¹Ÿçœç•¥\n```\n\næˆ‘ä»¬çœ‹åˆ°ï¼Œ Stateful Set çš„å®šä¹‰ä¸­å¿…é¡»è¦ç”¨ `spec.serviceName` å­—æ®µæŒ‡å®šä¸€ä¸ª Headless Service ã€‚ Stateful Set åˆ›å»º Pod æ—¶ï¼Œä¼šè‡ªåŠ¨ç»™ Pod æŒ‡å®š `hostname` å’Œ `subdomain` å­—æ®µã€‚è¿™æ ·ä¸€æ¥ï¼Œæ¯ä¸ª Pod æ‰æœ‰äº†å”¯ä¸€å›ºå®šçš„ hostname ï¼Œå”¯ä¸€å›ºå®šçš„ FQDN ï¼Œä»¥åŠé€šè¿‡ä¸ Headless Service å…±åŒéƒ¨ç½²è€Œè·å¾—å”¯ä¸€å›ºå®šçš„ A è®°å½•ã€‚ï¼ˆæ­¤å¤–ï¼Œå…¶å®å½“ Pod å› ä¸ºç‰ˆæœ¬å‡çº§ç­‰åŸå› è¢«é‡æ–°åˆ›å»ºæ—¶ï¼Œç›¸åŒåºå·çš„ Pod è¿˜ä¼šè¢«åˆ†é…åˆ°ç›¸åŒå›ºå®šçš„é›†ç¾¤å†… IP ã€‚ï¼‰\n\n\u003e **å…³äº Stateful Set ä¸­ `serviceName` å­—æ®µçš„äº‰è®®**\n\u003e \n\u003e Stateful Set ä¸­çš„ serviceName å­—æ®µæ˜¯å¿…å¡«å­—æ®µã€‚è¿™ä¸ªå­—æ®µå”¯ä¸€çš„ä½œç”¨å…¶å®å°±æ˜¯ç»™ Pod æŒ‡å®š subdomain ã€‚å…¶å®è¿™æ ·ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼š\n\u003e \n\u003e 1. Stateful Set éƒ¨ç½²æ—¶ä¸ä¼šæ£€æŸ¥æ˜¯å¦çœŸçš„å­˜åœ¨è¿™ä¹ˆä¸€ä¸ª Headless Service ã€‚å¦‚æœ serviceName ä¹±å¡«ä¸€ä¸ªå€¼ï¼Œä¼šå¯¼è‡´è™½ç„¶ Pod çš„ `hostname` å’Œ `subdomain` éƒ½æŒ‡å®šäº†å´æ²¡æœ‰åˆ›å»º A è®°å½•çš„æƒ…å†µã€‚\n\u003e 2. æœ‰æ—¶ Stateful Set çš„ Pod ä¸éœ€è¦æ¥æ”¶æµé‡ï¼Œä¹Ÿä¸éœ€è¦ç›¸äº’å‘ç°ï¼Œè¿™æ—¶å€™è¿˜å¼ºè¡Œéœ€è¦æŒ‡å®šä¸€ä¸ª serviceName æ˜¾å¾—æœ‰ç‚¹å¤šä½™ã€‚\n\u003e \n\u003e åœ¨ GitHub ä¸Šæœ‰å…³äºè¿™ä¸ªé—®é¢˜çš„ Issue ï¼š https://github.com/kubernetes/kubernetes/issues/69608\n\n### ä»é›†ç¾¤å¤–éƒ¨è®¿é—®\n\nåœ¨ K8s é›†ç¾¤é‡ŒæŠŠåº”ç”¨éƒ¨ç½²å¥½äº†ï¼Œå¯æ˜¯å¦‚ä½•è®©é›†ç¾¤å¤–éƒ¨çš„å®¢æˆ·ç«¯è®¿é—®æˆ‘ä»¬é›†ç¾¤ä¸­çš„åº”ç”¨å‘¢ï¼Ÿè¿™å¯èƒ½æ˜¯å¤§å®¶æœ€å…³å¿ƒçš„é—®é¢˜ã€‚\n\nä¸è¿‡æœ‰è®¤çœŸå¬çš„åŒå­¦ä¼°è®¡å·²ç»æœ‰è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆäº†ã€‚ä¹‹å‰æˆ‘ä»¬è®²è¿‡ NodePort å’Œ LoadBalancer è¿™ä¸¤ç§ Service ç±»å‹ã€‚\n\nå…¶ä¸­ NodePort Service åªæ˜¯ç®€å•åœ°åœ¨èŠ‚ç‚¹æœºå™¨ä¸Šå„å¼€ä¸€ä¸ªç«¯å£ï¼Œè€Œå¦‚ä½•è·¯ç”±ã€å¦‚ä½•è´Ÿè½½å‡è¡¡ç­‰åˆ™ä¸€æ¦‚ä¸ç®¡ã€‚\n\nè€Œ LoadBalancer Service åˆ™æ˜¯åœ¨ NodePort çš„åŸºç¡€ä¸Šå†åŠ ä¸€ä¸ªä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ï¼Œç„¶åæŠŠèŠ‚ç‚¹æš´éœ²çš„ç«¯å£æ³¨å†Œåˆ°è¿™ä¸ªè´Ÿè½½å‡è¡¡å™¨ä¸Šã€‚è¿™æ ·ä¸€æ¥ï¼Œé›†ç¾¤å¤–éƒ¨çš„å®¢æˆ·ç«¯å°±å¯ä»¥é€šè¿‡åŒä¸€ä¸ª IP æ¥è®¿é—®é›†ç¾¤ä¸­çš„åº”ç”¨ã€‚ä½†æ˜¯è¦ä½¿ç”¨ LoadBalancer Service ï¼Œä¸€èˆ¬éœ€è¦å…ˆå®‰è£…äº‘ä¾›åº”å•†æä¾›çš„ Controller ï¼Œæˆ–æ˜¯å®‰è£…å…¶ä»–ç¬¬ä¸‰æ–¹çš„ Controller ï¼ˆæ¯”å¦‚ Nginx Controller ï¼‰ã€‚\n\nåœ¨ Service ä¹‹å¤–è¿˜å¦æœ‰ä¸€ç§èµ„æºç±»å‹å« Ingress ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®ç°é›†ç¾¤å¤–éƒ¨è®¿é—®é›†ç¾¤å†…éƒ¨åº”ç”¨çš„åŠŸèƒ½ã€‚ Ingress å…¶å®ä¹Ÿä¼šåœ¨é›†ç¾¤å¤–åˆ›å»ºä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ï¼Œå› æ­¤ä¹Ÿéœ€è¦é¢„å…ˆå®‰è£…äº‘ä¾›åº”å•†çš„ Controller ã€‚ä½† Ingress ä¸ Service ä¸åŒçš„æ˜¯ï¼Œå®ƒè¿˜ä¼šç®¡ç†ä¸€å®šçš„è·¯ç”±é€»è¾‘ï¼Œæ¥æ”¶æµé‡åå¯ä»¥æ ¹æ®è·¯ç”±æ¥åˆ†é…ç»™ä¸åŒçš„ Service ã€‚\n\n| ç±»å‹                 | OSI æ¨¡å‹å·¥ä½œå±‚æ•° | ä¾èµ–äºäº‘å¹³å°æˆ–å…¶ä»–æ’ä»¶ |\n| :------------------- | :--------------- | :--------------------- |\n| NodePort Service     | ç¬¬å››å±‚           | å¦                     |\n| LoadBalancer Service | ç¬¬å››å±‚           | æ˜¯                     |\n| Ingress              | ç¬¬ä¸ƒå±‚           | æ˜¯                     |\n\nç‰¹åˆ«å†è¯¦ç»†è¯´ä¸€ä¸‹ Ingress è¿™ç§èµ„æºã€‚ Ingress æœ¬èº«ä¸ä¼šåœ¨é›†ç¾¤å†…çš„ DNS ä¸Šåˆ›å»ºè®°å½•ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šä¸»åŠ¨å»è·¯ç”±é›†ç¾¤å†…çš„æµé‡ï¼ˆé™¤éä½ åœ¨é›†ç¾¤å†…å¼ºè¡Œè®¿é—® Ingress çš„è´Ÿè½½å‡è¡¡å™¨â€¦â€¦ ä¸è¿‡ä¸€èˆ¬ä¹Ÿæ²¡ä»€ä¹ˆç†ç”±è¦è¿™æ ·åšå¯¹å§ï¼‰ã€‚ä½† Ingress å¯ä»¥æ ¹æ® HTTP çš„ hostname å’Œ path æ¥è·¯ç”±æµé‡ï¼ŒæŠŠæµé‡åˆ†å‘åˆ°ä¸åŒçš„ Service ä¸Šã€‚ Ingress ä¹Ÿæ˜¯ K8s çš„åŸç”Ÿèµ„æºé‡Œå”¯ä¸€èƒ½çœ‹åˆ° OSI ç¬¬ä¸ƒå±‚çš„èµ„æºã€‚\n\nä¸‹é¢æ˜¯ AWS çš„ EKS æœåŠ¡ä¸­éƒ¨ç½²çš„ä¸€ä¸ª Ingress çš„ä¾‹å­ï¼ˆé›†ç¾¤ä¸­å·²å®‰è£… AWS Load Balancer Controller ï¼‰ï¼š\n\n```yaml\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  annotations:\n    kubernetes.io/ingress.class: alb\n    alb.ingress.kubernetes.io/scheme: internet-facing\n    alb.ingress.kubernetes.io/target-type: ip\n    alb.ingress.kubernetes.io/backend-protocol-version: GRPC\n    alb.ingress.kubernetes.io/listen-ports: '[{\"HTTPS\":443}]'\n    alb.ingress.kubernetes.io/healthcheck-path: /grpc.health.v1.Health/Check\n    alb.ingress.kubernetes.io/healthcheck-protocol: HTTP\n    alb.ingress.kubernetes.io/success-codes: 0,12\n    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:xxxxxxxxxx:certificate/xxxxxxxxxx\n\n    external-dns.alpha.kubernetes.io/hostname: sample.example.com\n  \n  name: gateway-ingress\nspec:\n  rules:\n  - host: sample.example.com\n    http:\n      paths:\n      - path: /grpc.health.v1.Health\n        pathType: Prefix\n        backend:\n          service:\n            name: health-service\n            port:\n              number: 50051\n      - path: /proto.sample.v1.Sample\n        pathType: Prefix\n        backend:\n          service:\n            name: sample-service\n            port:\n              number: 50051\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œ Ingress èµ„æºå¯ä»¥é€šè¿‡ `spec.rules` å­—æ®µä¸­å®šä¹‰å„æ¡è§„åˆ™ï¼Œé€šè¿‡ hostname æˆ–æ˜¯ path ç­‰ç¬¬ä¸ƒå±‚çš„ä¿¡æ¯æ¥è¿›è¡Œè·¯ç”±ã€‚ Ingress éƒ¨ç½²ä¸‹å»åï¼Œ AWS Load Balancer Controller ä¼šè¯»å–ä¼šæ ¹æ®çš„é…ç½®ï¼Œå¹¶åœ¨äº‘ä¸Šåˆ›å»ºä¸€ä¸ª AWS Application Load Balancer ï¼ˆALBï¼‰ï¼Œè€Œ `spec.rules` ä¼šåº”ç”¨åˆ° ALB ä¸Šï¼Œç”± ALB æ¥è´Ÿè´£æµé‡çš„è·¯ç”±ã€‚\n\næˆ‘ä»¬ä¹Ÿä¼šæ³¨æ„åˆ°ï¼Œæ€ä¹ˆ `metadata.annotations` é‡Œæœ‰è¿™ä¹ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„å­—æ®µï¼ Ingress æœ¬èº«çš„åŠŸèƒ½éƒ½æ˜¯ AWS Load Balancer Controller è°ƒç”¨ AWS çš„ API åˆ›å»º ALB æ¥å®ç°çš„ã€‚ä½† AWS çš„ ALB èƒ½å®ç°çš„åŠŸèƒ½å¯ä¸æ­¢ Ingress å­—æ®µå®šä¹‰çš„è¿™äº›ï¼Œæ¯”å¦‚å®‰è£… TLS è¯ä¹¦ã€ health check ç­‰ spec å­—æ®µä¸­æè¿°ä¸ä¸‹çš„åŠŸèƒ½ï¼Œå°±åªèƒ½æ˜¯é€šè¿‡ annotation çš„å½¢å¼æ¥å®šä¹‰äº†ã€‚\n\n\u003e å°å½©è›‹ï¼šå¯ä»¥çœ‹åˆ°ä¾‹å­ä¸­çš„ Ingress èµ„æº annotation å­—æ®µé‡Œè¿˜æœ‰ä¸€è¡Œ `external-dns.alpha.kubernetes.io/hostname: sample.example.com` ã€‚å…¶å®è¿™ä¸ª K8s é›†ç¾¤ä¸­è¿˜å®‰è£…äº† external-dns è¿™ä¸ªåº”ç”¨ï¼Œå®ƒå¯ä»¥æ ¹æ® annotation æ¥åœ¨å¤–éƒ¨ DNS ä¸Šç›´æ¥åˆ›å»º DNS è®°å½•ï¼æœ‰äº†è¿™ä¸ªæ’ä»¶æˆ‘ä»¬å¯ä¸ç”¨å†æ…¢æ…¢æ‰“å¼€å…¬å…± DNS ç®¡ç†é¡µé¢ï¼Œå†å°å¿ƒç¿¼ç¿¼åœ°è®°ä¸‹ IP åœ°å€å»æ·»åŠ  A è®°å½•äº†ã€‚\n\n# æ›´é«˜çº§çš„éƒ¨ç½²æ–¹å¼ï¼ˆä¸€ï¼‰\n\nä¸€è·¯è¯´é“è¿™é‡Œï¼Œ K8s ä¸­æœ€åŸºç¡€çš„èµ„æºå¤§éƒ¨åˆ†éƒ½å·²ç»ä»‹ç»äº†ã€‚ä½†æ˜¯ï¼Œè¿™ä¹ˆå¤šèµ„æºä¹‹é—´åˆéœ€è¦ç›¸äº’é…åˆï¼Œåªéƒ¨ç½²ä¸€ç§èµ„æºåŸºæœ¬æ²¡ä»€ä¹ˆç”Ÿäº§èƒ½åŠ›ã€‚\n\næ¯”å¦‚åªéƒ¨ç½² Deployment çš„è¯ï¼Œæˆ‘ä»¬ç¡®å®æ˜¯èƒ½åœ¨ä¸€ç»„å¤šå‰¯æœ¬çš„ Pod é‡Œè·‘èµ·å¯æ‰§è¡Œç¨‹åºï¼Œä½†è¿™ç»„ Pod å´å‡ ä¹æ²¡åŠæ³•æ¥å—é›†ç¾¤é‡Œå…¶ä»– Pod çš„æµé‡ï¼ˆåªèƒ½é€šè¿‡åˆ¶å®š Pod çš„ IP æ¥è®¿é—®ï¼Œä½† Pod çš„ IP æ˜¯ä¼šå˜çš„ï¼‰ã€‚å› æ­¤ä¸€èˆ¬æ¥è¯´ä¸€ä¸ª Deployment éƒ½ä¼šæ­é…ä¸€ä¸ª Service æ¥ä½¿ç”¨ã€‚è¿™è¿˜æ˜¯æœ€ç®€å•çš„ä¸€ç§æ­é…äº†ã€‚\n\nå‡è‹¥æˆ‘ä»¬ç°åœ¨è¦åœ¨è‡ªå·±çš„ K8s é‡Œå®‰è£…ä¸€ä¸ªåˆ«äººæä¾›çš„åº”ç”¨ã€‚å½“ç„¶ç”±äº K8s æ˜¯åŸºäºå®¹å™¨çš„ï¼Œåªè¦åˆ«äººæä¾›äº†ä»–åº”ç”¨çš„ yaml æ¸…å•ï¼Œæˆ‘ä»¬åªç”¨æŠŠæ¸…å•ç”¨ `kubectl apply -f` æäº¤ç»™ K8s ï¼Œç„¶åè®© K8s æŠŠæ¸…å•ä¸­çš„é•œåƒæ‹‰ä¸‹æ¥å°±èƒ½è·‘äº†ã€‚å¯å¦‚æœæˆ‘ä»¬éœ€è¦æ ¹æ®ç¯å¢ƒæ¥æ”¹ä¸€äº›å‚æ•°å‘¢ï¼Ÿ\n\nå¦‚æœåˆ«äººæä¾›çš„ yaml æ–‡ä»¶æ¯”è¾ƒç®€å•è¿˜å¥½è¯´ï¼Œæ”¹æ”¹å¯¹åº”çš„å­—æ®µå°±å¥½äº†ã€‚å¦‚æœåˆ«äººçš„åº”ç”¨æ¯”è¾ƒå¤æ‚ï¼Œé‚£æ”¹ yaml æ–‡ä»¶å¯å°±æ˜¯ä¸€ä¸ªå¤§éš¾é¢˜äº†ã€‚æ¯”å¦‚ AWS çš„ Load Balancer Controller ï¼Œå®ƒçš„ yaml æ¸…å•æ–‡ä»¶å¯æ˜¯å¤šè¾¾ 939 è¡Œï¼\n\n[[aws-elb-controller-lines.png]]\n\nåœ¨è¿™ç§å¤æ‚çš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€äº›æ›´é«˜çº§çš„éƒ¨ç½²æ–¹å¼äº†ã€‚\n\n### Helm\n\né¦–å…ˆæ¥ä»‹ç»çš„æ˜¯ Helm ã€‚ Helm æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç±»æ¯”ä¸€ä¸‹ CentOS ä¸­çš„ yum å·¥å…·ã€‚å®ƒå¯ä»¥æŠŠä¸€ç»„ K8s èµ„æºå‘å¸ƒæˆä¸€ä¸ª Chart ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ç”¨ Helm æ¥å®‰è£…è¿™ä¸ª Chart ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å‚æ•°è®¾å€¼æ¥æ”¹å˜ Chart ä¸­çš„éƒ¨åˆ†èµ„æºã€‚åˆ©ç”¨ Helm å®‰è£… Chart åè¿˜å¯ä»¥ç®¡ç† Chart çš„å‡çº§ã€å›æ»šã€å¸è½½ã€‚\n\nä½¿ç”¨åˆ«äººæä¾›çš„ Helm Chart å‰ï¼Œéœ€è¦å…ˆ add ä¸€ä¸‹ Chart çš„ä»“åº“ï¼Œç„¶åå†å®‰è£…ä»“åº“é‡Œæä¾›çš„ Chart ã€‚æ¯”å¦‚æˆ‘ä»¬è¦å®‰è£… bitnami æä¾›çš„ Kafka Chart æ—¶ï¼š\n\n```bash\n# æ·»åŠ  https://charts.bitnami.com/bitnami è¿™ä¸ªä»“åº“ï¼Œå‘½åä¸º bitnami\nhelm repo add bitnami https://charts.bitnami.com/bitnami\n\n# åœ¨ kafka åç§°ç©ºé—´é‡Œå®‰è£… bitnami ä»“åº“é‡Œçš„ kafka Chart ï¼Œå¹¶é€šè¿‡å‚æ•°è®¾ç½®ä¸º 3 ä¸ªå‰¯æœ¬ï¼Œå¹¶åŒæ—¶å®‰è£…ä¸€ä¸ª 3 å‰¯æœ¬çš„ Zookeeper\nhelm install kafka -n kafka \\\n  --set replicaCount=3 \\\n  --set zookeeper.enabled=true \\\n  --set zookeeper.replicaCount=3 \\\n  bitnami/kafka\n```\n\nå‘½ä»¤æ‰§è¡Œåï¼Œ helm å°±ä¼šæ ¹æ®å‚æ•°ä¸ Chart çš„å†…å®¹ï¼Œåœ¨ K8s é‡Œå®‰è£… StatefulSet ã€ Service ã€ ConfigMap ç­‰ä¸€åˆ‡æ‰€éœ€è¦çš„èµ„æºã€‚\n\n```sh\n$ k -n kafka get all,cm\nNAME                    READY   STATUS    RESTARTS      AGE\npod/kafka-0             1/1     Running   1             46d\npod/kafka-1             1/1     Running   3             46d\npod/kafka-2             1/1     Running   3             46d\npod/kafka-zookeeper-0   1/1     Running   0             46d\npod/kafka-zookeeper-1   1/1     Running   0             46d\npod/kafka-zookeeper-2   1/1     Running   0             46d\n\nNAME                               TYPE           CLUSTER-IP       EXTERNAL-IP      PORT(S)                      AGE\nservice/kafka                      ClusterIP      172.20.1.196     \u003cnone\u003e           9092/TCP                     164d\nservice/kafka-headless             ClusterIP      None             \u003cnone\u003e           9092/TCP,9093/TCP            164d\nservice/kafka-zookeeper            ClusterIP      172.20.227.236   \u003cnone\u003e           2181/TCP,2888/TCP,3888/TCP   164d\nservice/kafka-zookeeper-headless   ClusterIP      None             \u003cnone\u003e           2181/TCP,2888/TCP,3888/TCP   164d\n\nNAME                               READY   AGE\nstatefulset.apps/kafka             3/3     164d\nstatefulset.apps/kafka-zookeeper   3/3     164d\n\nNAME                                DATA   AGE\nconfigmap/kafka-scripts             2      164d\nconfigmap/kafka-zookeeper-scripts   2      164d\nconfigmap/kube-root-ca.crt          1      165d\n```\n\nç”šè‡³ï¼Œ Helm å¯ä»¥é€šè¿‡æ¨¡æ¿ç”Ÿæˆçš„ Pod ç¯å¢ƒå˜é‡ï¼Œæ¥é¢„å…ˆè®¾ç½®å¥½ Kafka çš„é…ç½®ï¼Œè®©ä»–æ‰¾å¾—åˆ° Zookeeper æœåŠ¡ï¼š\n\n```yaml\napiVersion: v1\nkind: Pod\n# ç•¥å»æ— å…³ä¿¡æ¯\nspec:\n  containers:\n  - name: kafka\n    command:\n    - /scripts/setup.sh\n    env:\n    - name: KAFKA_CFG_ZOOKEEPER_CONNECT\n      value: kafka-zookeeper\n    # ...\n```\n\né€šè¿‡è®¾ç½® `KAFKA_CFG_ZOOKEEPER_CONNECT` è¿™ä¸ªç¯å¢ƒå˜é‡ï¼ŒæŒ‡å®šäº† Kafka Broker å¯ä»¥é€šè¿‡è®¿é—® `kafka-zookeeper` æ¥æ‰¾åˆ° zookeeper æœåŠ¡ã€‚ï¼ˆè¿˜è®°å¾— zookeeper çš„ Service åå­—æ˜¯ `kafka-zookeeper` å—ï¼Ÿ zookeeper ä¸ kafka éƒ¨ç½²åœ¨åŒä¸€ä¸ªåç§°ç©ºé—´é‡Œï¼Œå› æ­¤å¯ä»¥ç›´æ¥é€šè¿‡ Service åè®¿é—®ã€‚ï¼‰\n\nå¦‚æœæˆ‘ä»¬æ‰“å¼€è¿™ä¸ª helm chart å¯¹åº”çš„[ä»£ç ä»“åº“](https://github.com/bitnami/charts/tree/master/bitnami/kafka)ï¼Œä¼šå‘ç°åŸæ¥æœ‰ä¸€ç»„ go template æ–‡ä»¶ï¼Œä»¥åŠä¸€ä¸ª `values.yaml` æ–‡ä»¶å’Œ `Chart.yaml` æ–‡ä»¶ï¼š\n\n```sh\n.\nâ”œâ”€â”€ Chart.lock\nâ”œâ”€â”€ Chart.yaml\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ templates\nâ”‚   â”œâ”€â”€ NOTES.txt # è¿™é‡Œå®šä¹‰çš„æ˜¯ helm å·¥å…·çš„å‘½ä»¤è¡Œä¿¡æ¯\nâ”‚   â”œâ”€â”€ _helpers.tpl # è¿™é‡Œé¢æ˜¯ä¸€äº›å®šä¹‰å¥½çš„ go template ä»£ç å—å¯ä»¥ä¾›å…¶ä»–æ¨¡æ¿ä½¿ç”¨\nâ”‚   â”œâ”€â”€ configmap.yaml\nâ”‚   â”œâ”€â”€ statefulset.yaml\nâ”‚   â”œâ”€â”€ svc-headless.yaml\nâ”‚   â”œâ”€â”€ svc.yaml\nâ”‚   â””â”€â”€ # ä»¥ä¸‹çœç•¥è‹¥å¹²æ¨¡æ¿æ–‡ä»¶\nâ””â”€â”€ values.yaml\n```\n\n- `Chart.yaml` ä¸­å®šä¹‰äº†è¿™ä¸ª Chart çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ä¾èµ–ç­‰ã€‚\n- `values.yaml` ä¸­å®šä¹‰äº†è¿™ä¸ª Chart çš„é»˜è®¤å‚æ•°ï¼ŒåŒ…æ‹¬å„ç§èµ„æºçš„é»˜è®¤é…ç½®ã€å‰¯æœ¬æ•°é‡ã€é•œåƒç‰ˆæœ¬ç­‰ã€‚å…¶ä¸­çš„å€¼éƒ½å¯ä»¥é€šè¿‡ `helm install` å‘½ä»¤çš„ `--set` å‚æ•°æ¥è¦†ç›–ã€‚\n- `templates/` æ–‡ä»¶å¤¹ä¸‹çš„éƒ½æ˜¯ go template çš„æ¨¡æ¿æ–‡ä»¶ã€‚\n\n`helm install` å°±æ˜¯é€šè¿‡ç”¨ `values.yaml` ä¸­é¢„å®šä¹‰çš„å‚æ•°ï¼Œæ¸²æŸ“ `templates/` æ–‡ä»¶å¤¹ä¸‹çš„ go template æ–‡ä»¶ï¼Œç”Ÿæˆæœ€ç»ˆçš„ yaml æ–‡ä»¶ï¼Œç„¶åå†é€šè¿‡ kubectl apply -f çš„æ–¹å¼ï¼Œå°† yaml æ–‡ä»¶é‡Œçš„èµ„æºéƒ¨ç½²åˆ° K8s é‡Œã€‚ç„¶åé€šè¿‡å¿˜èµ„æºé‡Œæ³¨å…¥ä¸€äº›ç‰¹æ®Š annotation çš„æ–¹å¼æ¥è®°ä½è‡ªå·±éƒ¨ç½²äº†é‚£äº›èµ„æºï¼Œè¿›è€Œæä¾› `update` ã€ `uninstall` ç­‰åŠŸèƒ½ã€‚\n\nå…³äºæ›´å¤š Helm çš„å†…å®¹ï¼Œå¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://helm.sh/docs/)ã€‚\n\n### Kustomize\n\nå¦ä¸€ä¸ªéƒ¨ç½²å·¥å…·æ˜¯ Kustomize ã€‚ä¹‹å‰æåˆ° Config Map æ—¶çš„ä¾‹å­ä¸­ï¼Œå°†é…ç½®æ–‡ä»¶çš„å†…å®¹ç›´æ¥å†™è¿›äº† yaml æ¸…å•çš„ä¸€ä¸ªå­—æ®µé‡Œï¼š\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: game-demo\ndata:\n  # ä¸€ä¸ª Key å¯ä»¥å¯¹åº”ä¸€ä¸ªå€¼\n  player_initial_lives: \"3\"\n  ui_properties_file_name: \"user-interface.properties\"\n\n  # ä¸€ä¸ª Key ä¹Ÿå¯ä»¥å¯¹åº”ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹\n  game.properties: |\n    enemy.types=aliens,monsters\n    player.maximum-lives=5    \n  user-interface.properties: |\n    color.good=purple\n    color.bad=yellow\n    allow.textmode=true    \n```\n\nå…¶å®è¿™æ ·å¾ˆä¸å¥½ï¼Œå…ˆä¸è¯´è¿™æ ·å†™æ²¡åŠæ³•åœ¨ IDE é‡Œç”¨é…ç½®æ–‡ä»¶è‡ªå·±çš„è¯­æ³•æ£€æŸ¥ï¼Œæ¯è¡Œè¿˜éœ€è¦ä¸€å®šçš„ç¼©è¿›ï¼Œå¦‚æœé…ç½®æ–‡ä»¶æœ‰å¥½å‡ ç™¾è¡Œï¼Œä½ ç”šè‡³ä¼šå¿˜äº†è¿™ä¸€è¡Œåˆ°åº•æ˜¯å“ªä¸ªé…ç½®æ–‡ä»¶ï¼æ­¤æ—¶æˆ‘ä»¬å°±ä¼šè‡ªç„¶è€Œç„¶çš„æƒ³æŠŠæ¯ä¸ªé…ç½®æ–‡ä»¶ä»¥å•ç‹¬æ–‡ä»¶çš„å½¢å¼ä¿å­˜ã€‚\n\nKustomize å°±æ˜¯è¿™æ ·ä¸€ä¸ªå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠæ¯ä¸ªé…ç½®æ–‡ä»¶ä»¥å•ç‹¬æ–‡ä»¶çš„å½¢å¼ä¿å­˜ï¼Œç„¶åå†é€šè¿‡ä¸€ä¸ª `kustomization.yaml` æ–‡ä»¶ï¼Œå°†è¿™äº›é…ç½®æ–‡ä»¶ç»„åˆèµ·æ¥ï¼Œç”Ÿæˆæœ€ç»ˆçš„ yaml æ–‡ä»¶ã€‚\n\n```yaml\napiVersion: kustomize.config.k8s.io/v1beta1\nkind: Kustomization\nresources:\n  # å…¶ä»–èµ„æºä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶å®šä¹‰\n  - deployment.yaml\n\n# ç”¨ configMapGenerator ä»æ–‡ä»¶ä¸­ç”Ÿæˆ ConfigMap\nconfigMapGenerator:\n  - name: game-demo\n    literals:\n      - \"ui_properties_file_name=user-interface.properties\"\n      - \"player_initial_lives=3\"\n    # ä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹\n    files:\n      - game.properties\n      - user-interface.properties\n# æœ‰å¤šä¸ª configMap æ—¶ï¼Œå¯ä»¥é€šè¿‡ç»Ÿä¸€çš„ generatorOptions æ¥è®¾ç½®ä¸€äº›é€šç”¨çš„é€‰é¡¹\ngeneratorOptions:\n  disableNameSuffixHash: true\n```\n\nç„¶åä¸¤ä¸ªé…ç½®æ–‡ä»¶çš„å†…å®¹å¯ä»¥å•ç‹¬ç”¨æ–‡ä»¶å®šä¹‰ï¼Œæ­¤æ—¶å¯ä»¥ç»“åˆ IDE çš„è¯­æ³•æ£€æŸ¥ï¼Œä»¥åŠä»£ç è¡¥å…¨åŠŸèƒ½ï¼Œæ¥ç¼–å†™é…ç½®æ–‡ä»¶ã€‚\n\n```properties\n# user-interface.properties\ncolor.good=purple\ncolor.bad=yellow\nallow.textmode=true    \n```\n\nç„¶åå°† `kustomization.yaml` å’Œå…¶ä»–æ‰€éœ€çš„æ–‡ä»¶éƒ½æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼š\n\n```bash\n.\nâ”œâ”€â”€ kustomization.yaml\nâ”œâ”€â”€ deployment.yaml\nâ”œâ”€â”€ game.properties\nâ””â”€â”€ user-interface.properties\n```\n\nç„¶åå°±å¯ä»¥é€šè¿‡ `kubectl apply -k ./` æ¥å°†æ•´ä¸ª kustomize æ–‡ä»¶å¤¹è½¬æ¢ä¸º yaml æ¸…å•ç›´æ¥éƒ¨ç½²åˆ° K8s ä¸­ã€‚\nï¼ˆæ²¡é”™ï¼Œç°åœ¨ Kustomize å·²ç»æˆä¸º kubectl ä¸­çš„å†…ç½®åŠŸèƒ½ï¼å¯ä»¥ä¸ç”¨å…ˆ `kustomize build` ç”Ÿæˆ yaml æ–‡ä»¶å† `kubectl apply` ä¸¤æ­¥èµ°äº†ï¼ï¼‰\n\nå€¼å¾—æé†’çš„æ˜¯ï¼Œè™½ç„¶ `kustomization.yaml` æœ‰ `apiVersion` å’Œ `kind` å­—æ®µï¼Œé•¿å¾—å¾ˆåƒä¸€ä¸ªèµ„æºæ¸…å•ï¼Œä½†å…¶å® K8s çš„ API server å¹¶ä¸è®¤è¯†ä»–ã€‚ Kustomize çš„å·¥ä½œåŸç†å…¶å®æ˜¯å…ˆæ ¹æ® `kustomization.yaml` ç”Ÿæˆ K8s è®¤è¯†çš„ yaml èµ„æºæ¸…å•ï¼Œç„¶åå†é€šè¿‡ `kubectl apply` æ¥éƒ¨ç½²ã€‚\n\né™¤äº†å¯ä»¥ç›´æ¥å°† ConfigMap ä¸ Secret ä¸­çš„æ–‡ä»¶å­—æ®µå†…å®¹ç”¨å•ç‹¬çš„æ–‡ä»¶å®šä¹‰å¤–ï¼Œ Kustomize è¿˜æœ‰å…¶ä»–æ¯”å¦‚ä¸ºéƒ¨ç½²çš„èµ„æºæ·»åŠ ç»Ÿä¸€çš„åç§°å‰ç¼€ã€æ·»åŠ ç»Ÿä¸€å­—æ®µç­‰åŠŸèƒ½ã€‚è¿™äº›å¤§å®¶å¯ä»¥é˜…è¯» Kustomize çš„[å®˜æ–¹æ–‡æ¡£](https://kubernetes.io/docs/tasks/manage-kubernetes-objects/kustomization/)æ¥äº†è§£ã€‚\n\n### å„ç§å·¥å…·çš„ä¼˜ç¼ºç‚¹\n\næˆ‘ä»¬ç›®å‰å·²ç»çŸ¥é“æœ‰ä¸‰ç§åœ¨ K8s ä¸­éƒ¨ç½²èµ„æºçš„æ–¹å¼ï¼š `kubectl apply`ã€Helm å’Œ Kustomize ã€‚\n\nå…¶ä¸­ `kubectl apply` çš„ä¼˜ç¼ºç‚¹å¾ˆæ˜ç¡®ï¼Œä¼˜ç‚¹æ˜¯æœ€ç®€å•ç›´æ¥ï¼Œç¼ºç‚¹æ˜¯ä¼šå¯¼è‡´è¦ä¹ˆ yaml æ¸…å•è¿‡é•¿ï¼Œè¦ä¹ˆéœ€è¦åˆ†å¤šæ–‡ä»¶å¤šæ¬¡éƒ¨ç½²ï¼Œä½¿é›†ç¾¤ä¸­äº§ç”Ÿä¸­é—´çŠ¶æ€ã€‚\n\nè€Œ Helm ä¸ Kustomize æˆ‘ä»¬ä¸Šé¢ä¹Ÿåˆ†æè¿‡ï¼Œå…¶å®éƒ½æ˜¯åŸºäº `kubectl apply` çš„ã€‚ Helm æ˜¯é€šè¿‡ go template å…ˆç”Ÿæˆ yaml æ–‡ä»¶å† `kubectl apply` ï¼Œè€Œ Kustomize æ˜¯é€šè¿‡ `kustomization.yaml` ä¸­çš„å®šä¹‰ç”¨è‡ªå·±çš„ä¸€å¥—é€»è¾‘ç”Ÿæˆ yaml æ–‡ä»¶ï¼Œç„¶åå† `kubectl apply` ã€‚\n\nHelm çš„ä¼˜ç‚¹æ˜¯ Helm Chart å®‰è£…æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ«äºº Helm ä»“åº“ä¸­å·²ç»ä¸Šä¼ å¥½çš„ Chart ï¼Œåªéœ€è¦è®¾ç½®å‚æ•°å°±å¯ä»¥ä½¿ç”¨ã€‚è¿™ä¹Ÿæ˜¯ Kustomize çš„ç¼ºç‚¹ï¼šå¦‚æœæƒ³è¦ä½¿ç”¨åˆ«äººæä¾›çš„ Kustomization è€Œåªä¿®æ”¹å…¶ä¸­çš„ä¸€äº›é…ç½®ï¼Œå¿…é¡»è¦å…ˆæŠŠæ”¾ `kustomization.yaml` çš„æ•´ä¸ªæ–‡ä»¶å¤¹ä¸‹è½½ä¸‹æ¥æ‰èƒ½åšä¿®æ”¹ã€‚\n\nè€Œ Helm çš„ç¼ºç‚¹ä¹Ÿæ˜¯æ˜æ˜¾çš„ï¼Œ Helm ä¾èµ–äºå¾€èµ„æºé‡Œæ³¨å…¥ç‰¹æ®Šçš„ annotation æ¥ç®¡ç† Chart ç”Ÿæˆçš„èµ„æºï¼Œè¿™å¯èƒ½ä¼šå¾ˆéš¾ä¸é›†ç¾¤ä¸­ç°æœ‰çš„ä¸€äº›ç³»ç»Ÿï¼ˆæ¯”å¦‚ Service Mesh æˆ–æ˜¯ GitOps ç³»ç»Ÿç­‰ï¼‰æ”¾ä¸€èµ·ç®¡ç†ã€‚è€Œ Kustomize ç”Ÿæˆçš„ yaml æ¸…å•å°±æ˜¯å¾ˆå¹²å‡€çš„ K8s èµ„æºï¼ŒåŸå…ˆçš„ K8s èµ„æºè¯¥æ˜¯ä»€ä¹ˆè¡¨ç°å°±æ˜¯ä»€ä¹ˆè¡¨ç°ï¼Œä¸ç°æœ‰çš„ç³»ç»Ÿå…¼å®¹ä¸€èˆ¬ä¼šæ¯”è¾ƒå¥½ã€‚\n\nè€Œå¦å¤–ï¼Œç”±äº Helm ä¸ Kustomize éƒ½æ˜¯åŸºäº `kubectl apply` çš„ï¼Œå› æ­¤ä»–ä»¬æœ‰å…±åŒçš„ç¼ºç‚¹ï¼Œå°±æ˜¯ä¸èƒ½åš `kubectl apply` ä¸èƒ½åšçš„äº‹æƒ…ã€‚\n\nä»€ä¹ˆå« `kubectl apply` ä¸èƒ½åšçš„äº‹æƒ…å‘¢ï¼Ÿæ¯”å¦‚è¯´æˆ‘ä»¬è¦åœ¨ K8s ä¸­éƒ¨ç½² Redis é›†ç¾¤ã€‚èªæ˜çš„ä½ å¯èƒ½å°±æƒ³åˆ°è¦ç”¨ Stateful Set ã€ PVC ã€ Headless Service æ¥ä¸€å¥—ç»„åˆæ‹³ã€‚è¿™ç¡®å®å¯ä»¥éƒ¨ç½²ä¸€ä¸ªå¤šèŠ‚ç‚¹ã€æœ‰çŠ¶æ€çš„ Redis Cluster ã€‚å¯æ˜¯å¦‚æœæˆ‘ä»¬è¦å¾€ Redis Cluster é‡ŒåŠ ä¸€ä¸ªèŠ‚ç‚¹å‘¢ï¼Ÿ\n\nä½ å½“ç„¶å¯ä»¥æŠŠ Stateful Set ä¸­çš„ `Replicas` å­—æ®µåŠ ä¸ª 1 ç„¶åç”¨ `kubectl apply` éƒ¨ç½²ï¼Œå¯æ˜¯è¿™å®é™…ä¸Šåªèƒ½å¢åŠ ä¸€ä¸ªä¸€ä¸ª Redis å®ä¾‹ â€”â€” ç„¶åä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿã€‚å…¶ä»–èŠ‚ç‚¹ä¸è®¤è¯†è¿™ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œè®¿é—®è¿™ä¸ªæ–°èŠ‚ç‚¹ä¹Ÿä¸èƒ½æ‹¿åˆ°æ­£ç¡®çš„æ•°æ®ã€‚è¦çŸ¥é“å¾€ Redis Cluster é‡ŒåŠ èŠ‚ç‚¹ï¼Œæ˜¯è¦å…ˆè®©é›†ç¾¤å‘ç°è¿™ä¸ªæ–°èŠ‚ç‚¹ï¼Œç„¶åè¿˜è¦è¿ç§» slot çš„ï¼ `kubectl apply` å¯ä¸ä¼šåšè¿™äº›äº‹ã€‚\n\n\u003e Well, å…¶å®è¿™äº›ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡å¢åŠ  initContainer ã€ä¿®æ”¹é•œåƒå¢åŠ å¯åŠ¨è„šæœ¬ç­‰æ–¹å¼ï¼Œå®ç°ç”¨ `kubectl apply` éƒ¨ç½²çš„ã€‚å¯æ˜¯ï¼Œè¿™ä¼šè®©æ•´ä¸ª Pod èµ„æºå˜å¾—å¾ˆéš¾ç†è§£ï¼Œä¹Ÿä¸å¥½ç»´æŠ¤ã€‚è€Œä¸”ï¼Œå¦‚æœä¸æ˜¯å› ä¸ºåšä¸åˆ°ï¼Œè°ä¼šæƒ³å»ä¿®æ”¹åˆ«äººçš„é•œåƒå‘¢ï¼Ÿ\n\næˆ‘ä»¬æ¥ä¸‹æ¥ä¼šä»‹ç» K8s çš„æ ¸å¿ƒæ¶æ„ï¼Œæ¥ç†è§£æˆ‘ä»¬ä¹‹å‰è®²çš„è¿™äº›èµ„æºåˆ°åº•æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚æœ€åä¼šå¼•å‡ºä¸€ç»„æ–°çš„æ¦‚å¿µï¼š Operator ä¸è‡ªå®šä¹‰èµ„æºï¼ˆ Custom Resource Definition ï¼Œç®€ç§° CRD ï¼‰ã€‚é€šè¿‡ Operator ä¸ CRD ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ° `kubectl apply` æ‰€ä¸èƒ½åšåˆ°çš„äº‹ï¼ŒåŒ…æ‹¬ Redis Cluster çš„æ‰©å®¹ã€‚\n\n\u003e DIO: `kubectl apply` çš„èƒ½åŠ›æ˜¯æœ‰é™çš„â€¦â€¦\n\u003e è¶Šæ˜¯éƒ¨ç½²å¤æ‚çš„åº”ç”¨ï¼Œå°±è¶Šä¼šå‘ç° `kubectl apply` çš„èƒ½åŠ›æ˜¯æœ‰æé™çš„â€¦â€¦é™¤éè¶…è¶Š `kubectl apply` ã€‚\n\u003e \n\u003e JOJO: ä½ åˆ°åº•æƒ³è¯´ä»€ä¹ˆï¼Ÿ\n\u003e \n\u003e DIO: æˆ‘ä¸ç”¨ `kubectl apply` äº†ï¼ JOJO ï¼\n\u003e ï¼ˆå…¶å®è¿˜æ˜¯è¦ç”¨çš„ï¼‰\n\n","title":"Kubernetes å…¥é—¨ ï¼ˆ2ï¼‰","abstract":"æˆ‘ä»¬ä¹‹å‰è¯´çš„éƒ½æ˜¯ç”¨äºéƒ¨ç½² Pod çš„èµ„æºï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä»‹ç»ä¸åˆ›å»º Pod ä¸ç›¸å…³çš„èµ„æºï¼šå‚¨å­˜ä¸ç½‘ç»œã€‚\nå…¶å®æˆ‘ä»¬ä¹‹å‰å·²ç»æ¥è§¦è¿‡å‚¨å­˜ç›¸å…³çš„å†…å®¹äº†ï¼šåœ¨è®² Stateful Set æ—¶æˆ‘ä»¬æè¿‡ Stateful Set åˆ›å»ºå‡ºæ¥çš„ Pod éƒ½ä¼šæœ‰ç›¸äº’ç‹¬ç«‹çš„å‚¨å­˜ï¼›è€Œè®² Daemon Set æ—¶æˆ‘ä»¬æåˆ° K8s æ¨èåªåœ¨ Daemon Set çš„ Pod ä¸­è®¿é—®å®¿ä¸»æœºç£ç›˜ã€‚ä½†ç‹¬ç«‹çš„å‚¨å­˜å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿé™¤äº†è®¿é—®å®¿ä¸»æœºç£ç›˜ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆå…¶ä»–çš„å‚¨å­˜ï¼Ÿ\nåœ¨ Docker ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®¿ä¸»æœºç£ç›˜ä¸Šçš„ä¸€ä¸ªè·¯å¾„ä½œä¸ºä¸€ä¸ª Volume æ¥ç»™å®¹å™¨ç»‘å®šï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ Docker Engine ç®¡ç†çš„ Volume æ¥æä¾›æŒä¹…åŒ–å­˜å‚¨æˆ–æ˜¯å®¹å™¨é—´å…±äº«æ–‡ä»¶ã€‚åœ¨ K8s é‡Œé¢ä¹Ÿæ²¿ç”¨äº† Volume è¿™ä¸ªæ¦‚å¿µï¼Œå¯ä»¥é€šè¿‡ Mount ç»‘å®šåˆ°å®¹å™¨å†…çš„è·¯å¾„ï¼Œå¹¶é€šè¿‡å®ç° CSI çš„å„ç§å¼•æ“æ¥æä¾›æ›´å¤šæ ·çš„å­˜å‚¨ã€‚","length":875,"created_at":"2022-08-20T21:56:52.000Z","updated_at":"2022-08-20T14:02:18.000Z","tags":["Kubernetes","DevOps","Docker","Cloud Native"],"license":true,"headingTrees":[{"key":"å‚¨å­˜","href":"#å‚¨å­˜","heading":1,"title":"å‚¨å­˜","children":[{"key":"k8s-ä¸­ä½¿ç”¨-volume-ä¸å¯ç”¨çš„-volume-ç±»å‹","href":"#k8s-ä¸­ä½¿ç”¨-volume-ä¸å¯ç”¨çš„-volume-ç±»å‹","heading":3,"title":"K8s ä¸­ä½¿ç”¨ Volume ä¸å¯ç”¨çš„ Volume ç±»å‹","children":[],"id":"k8s-ä¸­ä½¿ç”¨-volume-ä¸å¯ç”¨çš„-volume-ç±»å‹"},{"key":"presistent-volume--presistent-volume-claim--storage-class","href":"#presistent-volume--presistent-volume-claim--storage-class","heading":3,"title":"Presistent Volume ã€ Presistent Volume Claim ã€ Storage Class","children":[],"id":"presistent-volume--presistent-volume-claim--storage-class"},{"key":"å†è¯´å›-stateful-set","href":"#å†è¯´å›-stateful-set","heading":3,"title":"å†è¯´å› Stateful Set","children":[],"id":"å†è¯´å›-stateful-set"},{"key":"configmap-ä¸-secret-æŒ‚è½½ä½œä¸ºç‰¹æ®Šçš„å·","href":"#configmap-ä¸-secret-æŒ‚è½½ä½œä¸ºç‰¹æ®Šçš„å·","heading":3,"title":"ConfigMap ä¸ Secret æŒ‚è½½ä½œä¸ºç‰¹æ®Šçš„å·","children":[],"id":"configmap-ä¸-secret-æŒ‚è½½ä½œä¸ºç‰¹æ®Šçš„å·"}],"id":"å‚¨å­˜"},{"key":"ç½‘ç»œ","href":"#ç½‘ç»œ","heading":1,"title":"ç½‘ç»œ","children":[{"key":"service","href":"#service","heading":3,"title":"Service","children":[],"id":"service"},{"key":"service-çš„ç§ç±»","href":"#service-çš„ç§ç±»","heading":3,"title":"Service çš„ç§ç±»","children":[],"id":"service-çš„ç§ç±»"},{"key":"è™šæ‹Ÿ-ip-ä¸-headless-service","href":"#è™šæ‹Ÿ-ip-ä¸-headless-service","heading":3,"title":"è™šæ‹Ÿ IP ä¸ Headless Service","children":[],"id":"è™šæ‹Ÿ-ip-ä¸-headless-service"},{"key":"ç¬¬ä¸‰æ¬¡å›åˆ°-stateful-set","href":"#ç¬¬ä¸‰æ¬¡å›åˆ°-stateful-set","heading":3,"title":"ç¬¬ä¸‰æ¬¡å›åˆ° Stateful Set","children":[],"id":"ç¬¬ä¸‰æ¬¡å›åˆ°-stateful-set"},{"key":"ä»é›†ç¾¤å¤–éƒ¨è®¿é—®","href":"#ä»é›†ç¾¤å¤–éƒ¨è®¿é—®","heading":3,"title":"ä»é›†ç¾¤å¤–éƒ¨è®¿é—®","children":[],"id":"ä»é›†ç¾¤å¤–éƒ¨è®¿é—®"}],"id":"ç½‘ç»œ"},{"key":"æ›´é«˜çº§çš„éƒ¨ç½²æ–¹å¼ä¸€","href":"#æ›´é«˜çº§çš„éƒ¨ç½²æ–¹å¼ä¸€","heading":1,"title":"æ›´é«˜çº§çš„éƒ¨ç½²æ–¹å¼ï¼ˆä¸€ï¼‰","children":[{"key":"helm","href":"#helm","heading":3,"title":"Helm","children":[],"id":"helm"},{"key":"kustomize","href":"#kustomize","heading":3,"title":"Kustomize","children":[],"id":"kustomize"},{"key":"å„ç§å·¥å…·çš„ä¼˜ç¼ºç‚¹","href":"#å„ç§å·¥å…·çš„ä¼˜ç¼ºç‚¹","heading":3,"title":"å„ç§å·¥å…·çš„ä¼˜ç¼ºç‚¹","children":[],"id":"å„ç§å·¥å…·çš„ä¼˜ç¼ºç‚¹"}],"id":"æ›´é«˜çº§çš„éƒ¨ç½²æ–¹å¼ä¸€"}],"wikiRefAliases":["aws-elb-controller-lines.png"],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2022-08-13-introduction-for-k8s.md","pagePath":"/articles/introduction-for-k8s","slug":"introduction-for-k8s"},"meta":{"content":"\n# å®¹å™¨ï¼Œ Docker ä¸ K8s\n\næˆ‘ä»¬çŸ¥é“ K8s åˆ©ç”¨äº†å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚è€Œè¯´åˆ°å®¹å™¨è™šæ‹ŸåŒ–å°±è¦è¯´ Docker ã€‚å¯æ˜¯ï¼Œå®¹å™¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ Docker åˆä¸ºæˆ‘ä»¬åšäº†äº›ä»€ä¹ˆï¼Ÿæˆ‘ä»¬åˆä¸ºä»€ä¹ˆè¦ç”¨ K8s ï¼Ÿ\n\n### å…³äºå®¹å™¨è™šæ‹ŸåŒ–\n\n\u003e è¦æŠŠä¸€ä¸ªä¸çŸ¥é“æ‰“è¿‡å¤šå°‘ä¸ªå‡çº§è¡¥ä¸ï¼Œä¸çŸ¥é“ç»å†äº†å¤šå°‘ä»»ç®¡ç†å‘˜çš„ç³»ç»Ÿè¿ç§»åˆ°å…¶ä»–æœºå™¨ä¸Šï¼Œæ¯«æ— ç–‘é—®ä¼šæ˜¯ä¸€åœºç¾éš¾ã€‚ â€”â€” Chad Fowler ã€ŠTrash Your Servers and Burn Your Codeã€‹\n\n\"Write once, run anywhere\" æ˜¯ Java æ›¾ç»çš„å£å·ã€‚ Java ä¼å›¾é€šè¿‡ JVM è™šæ‹Ÿæœºæ¥å®ç°ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºåœ¨å¤šå¹³å°é—´çš„ç§»æ¤æ€§ã€‚ä½†æˆ‘ä»¬ç°åœ¨çŸ¥é“ï¼Œ Java è¯­è¨€å¹¶æ²¡èƒ½å®ç°ä»–çš„ç›®æ ‡ï¼Œä¼šåœ¨æ“ä½œç³»ç»Ÿè°ƒç”¨ã€ç¬¬ä¸‰æ–¹ä¾èµ–ä¸¢å¤±ã€ä¸¤ä¸ªç¨‹åºé—´ä¾èµ–çš„å†²çªç­‰å„æ–¹é¢å‡ºç°é—®é¢˜ã€‚\n\nè¦ä¿è¯ç¨‹åºæ‹‰ä¸‹æ¥å°±èƒ½è·‘ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯æŠŠç¨‹åºå’Œä¾èµ–æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œç„¶åå°†å¤–éƒ¨ç¯å¢ƒéš”ç¦»èµ·æ¥ã€‚å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªã€‚\n\nä¸å¸¸è¯´çš„è™šæ‹Ÿæœºä¸åŒï¼Œ Docker ç­‰å„ç±»å®¹å™¨æ˜¯ç”¨éš”ç¦»åç§°ç©ºé—´çš„æ–¹å¼è¿›è¡Œèµ„æºéš”ç¦»çš„ã€‚ Linux ç³»ç»Ÿçš„å†…æ ¸ç›´æ¥æä¾›äº†åç§°ç©ºé—´éš”ç¦»çš„èƒ½åŠ›ï¼Œæ˜¯é’ˆå¯¹è¿›ç¨‹è®¾è®¡çš„è®¿é—®éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›èµ„æºå°è£…ã€‚\n\n| åç§°ç©ºé—´     | éš”ç¦»å†…å®¹                      | å†…æ ¸ç‰ˆæœ¬ |\n| :----------- | :---------------------------- | :------- |\n| Mount        | æ–‡ä»¶ç³»ç»Ÿä¸è·¯å¾„ç­‰              | 2.4.19   |\n| UTS          | ä¸»æœºçš„Hostnameã€Domain names  | 2.6.19   |\n| IPC          | è¿›ç¨‹é—´é€šä¿¡ç®¡é“                | 2.6.19   |\n| PID          | ç‹¬ç«‹çš„è¿›ç¨‹ç¼–å·ç©ºé—´            | 2.6.24   |\n| Network      | ç½‘å¡ã€IP åœ°å€ã€ç«¯å£ç­‰ç½‘ç»œèµ„æº | 2.6.29   |\n| User         | è¿›ç¨‹ç‹¬ç«‹çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„        | 3.8      |\n| Cgroup       | CPU æ—¶é—´ç‰‡ï¼Œå†…å­˜åˆ†é¡µç­‰        | 4.6      |\n| Time \\\u003c- New! | è¿›ç¨‹ç‹¬ç«‹çš„ç³»ç»Ÿæ—¶é—´            | 5.6      |\n\nå€¼å¾—æ³¨ç›®çš„æ˜¯ï¼Œ Linux ç³»ç»Ÿæä¾›äº† Cgroup åç§°ç©ºé—´éš”ç¦»çš„æ”¯æŒã€‚é€šè¿‡éš”ç¦» Cgroup ï¼Œå¯ä»¥ç»™å•ç‹¬ä¸€ä¸ªè¿›ç¨‹åˆ†é… CPU å ç”¨æ¯”ç‡ã€å†…å­˜å¤§å°ã€å¤–è®¾ I/O è®¿é—®æƒé™ç­‰ã€‚å†é…åˆ IPC ã€ PID ç­‰çš„éš”ç¦»ï¼Œå¯ä»¥è®©è¢«éš”ç¦»çš„è¿›ç¨‹çœ‹ä¸åˆ°åŒä¸€å®ä½“æœºä¸­å…¶ä»–è¿›ç¨‹çš„ä¿¡æ¯ï¼Œå°±åƒæ˜¯ç‹¬äº«ä¸€æ•´å°æœºå™¨ä¸€æ ·ã€‚\n\nç”±äºå®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ç›´æ¥åˆ©ç”¨äº†å®¿ä¸»æœºæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œå› æ­¤è¿œè¿œè¦æ¯”è™šæ‹Ÿæœºæ›´è½»é‡ï¼Œä¹Ÿæ›´é€‚åˆç”¨æ¥ç»™å•ä¸ªç¨‹åºè¿›è¡Œéš”ç¦»ã€‚ä½†ä¹ŸåŒæ ·ç”±äºä¾èµ–äº†å®¿ä¸»æœºå†…æ ¸ï¼Œåœ¨ä¸åŒçš„æ¶æ„ã€ä¸åŒç§ç±»çš„æ“ä½œç³»ç»Ÿé—´å®¹å™¨å¯èƒ½ä¸èƒ½ç§»æ¤ã€‚\n\n### å…³äº Docker\n\nåœ¨ä»‹ç» K8s ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆææ¸…æ¥š Docker æ˜¯ä»€ä¹ˆã€‚æˆ–è€…è¯´ï¼Œæˆ‘ä»¬å¹³æ—¶è¯´çš„â€œ Docker â€æ˜¯ä»€ä¹ˆï¼Ÿ\n\næˆ‘ä»¬å¹³æ—¶è¯´çš„ Docker ï¼Œå¯èƒ½æ˜¯ä»¥ä¸‹å‡ ä¸ªä¸œè¥¿ï¼š\n\n- Docker Engine: åœ¨å®¿ä¸»æœºä¸Šè·‘çš„ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸“é—¨ç”¨æ¥ç®¡ç†å„ä¸ªå®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸã€ç½‘ç»œè¿æ¥ç­‰ï¼Œè¿˜æš´éœ²å‡ºä¸€äº› API ä¾›å¤–éƒ¨è°ƒç”¨ã€‚æœ‰æ—¶ä¼šè¢«ç§°ä¸º Docker Daemon æˆ–æ˜¯ dockerd ã€‚\n- Docker Client: å‘½ä»¤è¡Œä¸­çš„ `docker` å‘½ä»¤ï¼Œå…¶å®åªä¼šè·Ÿ Docker Server é€šä¿¡ï¼Œä¸ä¼šç›´æ¥åˆ›å»ºé”€æ¯ä¸€ä¸ªå®¹å™¨è¿›ç¨‹ã€‚\n- Docker Container: å®¿ä¸»æœºä¸Šè¿è¡Œçš„ä¸€ç»„è¢«èµ„æºéš”ç¦»çš„è¿›ç¨‹ï¼Œåœ¨å®¹å™¨ä¸­çœ‹æ¥åƒæ˜¯ç‹¬å äº†ä¸€å°è™šæ‹Ÿçš„æœºå™¨ï¼Œä¸éœ€è¦è€ƒè™‘å¤–éƒ¨ä¾èµ–ã€‚\n- Docker Image: æ˜¯ä¸€ä¸ªæ‰“åŒ…å¥½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥ä»ä¸€ä¸ª Image è¿è¡Œå‡ºå¤æ•°ä¸ª Container ã€‚ Image å†…éƒ¨åŒ…å«äº†ç¨‹åºè¿è¡Œæ‰€éœ€çš„æ‰€æœ‰æ–‡ä»¶ã€åº“ä¾èµ–ï¼Œä»¥åŠè¿è¡Œæ—¶çš„ç¯å¢ƒå˜é‡ç­‰ã€‚\n- Docker å®¹å™¨è¿è¡Œæ—¶: æ˜¯ Docker Engine ä¸­ä¸“é—¨ç®¡ç†å®¹å™¨çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸç­‰çš„é‚£ä¸ªç»„ä»¶ï¼ŒåŸæ¥åä¸º libcontainer ã€‚[ã€Šå¼€æ”¾å®¹å™¨äº¤äº’æ ‡å‡†ã€‹](https://en.wikipedia.org/wiki/Open_Container_Initiative)åˆ¶å®šåï¼Œ Docker å…¬å¸å°†æ­¤éƒ¨åˆ†é‡æ„ä¸º [runC é¡¹ç›®](https://github.com/opencontainers/runc)ï¼Œäº¤ç»™ Linux åŸºé‡‘ä¼šç®¡ç†ã€‚è€Œ Docker Engine ä¸­ä¸è¿è¡Œæ—¶è¿›è¡Œäº¤äº’çš„éƒ¨åˆ†åˆ™æŠ½è±¡å‡ºæ¥æˆä¸º [containerd é¡¹ç›®](https://containerd.io/)ï¼ŒæçŒ®ç»™äº† CNCF ã€‚\n\næˆ‘ä»¬å¹³æ—¶åœ¨ linux æœºä¸Šè¿è¡Œ `yum install docker` ä¹‹ç±»çš„å‘½ä»¤ï¼Œå®‰è£…çš„å…¶å®æ˜¯ Docker Engine + Docker Client ã€‚ï¼ˆè€Œåœ¨ Windows æˆ– MacOS ä¸Šå®‰è£…çš„ Docker Desktop å…¶å®æ˜¯ä¸€ä¸ªå®šåˆ¶è¿‡çš„ linux è™šæ‹Ÿæœºã€‚ï¼‰ä¸‹é¢è¯´çš„ Docker çš„åŠŸèƒ½å…¶å®éƒ½æ˜¯æŒ‡ Docker Engine çš„åŠŸèƒ½ã€‚\n\nè€Œ Docker æä¾›ç»™æˆ‘ä»¬çš„åŠŸèƒ½ï¼Œé™¤äº†æœ€åŸºç¡€çš„è¿è¡Œå’Œé”€æ¯å®¹å™¨å¤–ï¼Œè¿˜åŒ…æ‹¬äº†ä¸€äº›å®¹å™¨ç½‘ç»œç¼–æ’ã€é‡å¯ç­–ç•¥ã€æ–‡ä»¶è·¯å¾„æ˜ å°„ã€ç«¯å£æ˜ å°„ç­‰åŠŸèƒ½ã€‚\n\nè€Œæˆ‘è®¤ä¸º Docker æœ€å¤§çš„è´¡çŒ®ï¼Œè¿˜æ˜¯å®¹å™¨çš„é•œåƒä¸é•œåƒä»“åº“ã€‚æœ‰äº†é•œåƒä¸é•œåƒä»“åº“ï¼Œäººä»¬å°±å¯ä»¥æŠŠè‡ªå·±çš„ç¨‹åºä¸æ‰§è¡Œç¯å¢ƒç›´æ¥æ‰“åŒ…æˆé•œåƒå‘å¸ƒï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‹¿æ‰“åŒ…å¥½çš„é•œåƒæ¥è¿è¡Œå®¹å™¨è¿›è¡Œéƒ¨ç½²ï¼Œè€Œä¸éœ€è¦é¢å¤–ä¸‹è½½æˆ–æ˜¯å®‰è£…ä¸€äº›ä¸œè¥¿ï¼Œä¹Ÿä¸éœ€è¦æ‹…å¿ƒç¨‹åºä¼šä¸å·²ç»è·‘èµ·æ¥çš„å…¶ä»–ç¨‹åºå†²çªã€‚\n\n### ä¸ºä»€ä¹ˆè¦ç”¨ K8s ï¼Ÿ\n\nå…¶å® Docker æœ‰ä¸€ä¸ªå¾ˆå¼ºå¤§çš„å·¥å…·å« docker-compose ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ª manifest å¯¹å¤šä¸ªå®¹å™¨ç»„æˆçš„ç½‘ç»œè¿›è¡Œç¼–æ’ã€‚é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ K8s å‘¢ï¼Ÿæ¢å¥è¯è¯´ï¼Œæœ‰ä»€ä¹ˆäº‹æ˜¯ Docker ä¸èƒ½åšçš„ï¼Ÿè€Œ K8s è®¾è®¡å‡ºæ¥çš„ç›®æ ‡æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\né¦–å…ˆï¼Œ Docker åšä¸åˆ°ä»¥ä¸‹çš„åŠŸèƒ½ï¼š\n\n1. **Docker ä¸èƒ½åšè·¨å¤šä¸»æœºçš„å®¹å™¨ç¼–æ’ã€‚** docker-compose å†æ–¹ä¾¿ï¼Œä»–ä¹Ÿåªèƒ½ç¼–æ’å•å°ä¸»æœºä¸Šçš„å®¹å™¨ã€‚å¯¹è·¨ä¸»æœºçš„é›†ç¾¤ç¼–æ’æ— èƒ½ä¸ºåŠ›ã€‚ï¼ˆå®é™…ä¸Šï¼Œç”¨äº† Docker-Swarm åæ˜¯å¯ä»¥å¤šä¸»æœºç¼–æ’çš„ï¼Œä½†ä¸€æ¥ Docker-Swarm å‡ºç°çš„æ¯” K8s æ™šï¼Œè€Œæ¥ Docker-Swarm åŠŸèƒ½ä¸å¦‚ K8s ï¼Œå› æ­¤ç”¨çš„äººå¾ˆå°‘ï¼Œæˆ‘ä»¬ä¸‹é¢å°±é»˜è®¤ Docker-Swarm ä¸å­˜åœ¨äº†ã€‚ï¼‰\n2. **Docker æä¾›çš„å®¹å™¨éƒ¨ç½²ç®¡ç†åŠŸèƒ½ä¸å¤Ÿä¸°å¯Œã€‚** Docker æœ‰ä¸€äº›ç®€å•çš„å®¹å™¨é‡å¯ç­–ç•¥ï¼Œä½†ä¹Ÿåªæ˜¯ç®€å•çš„å¤±è´¥åé‡å¯ä¹‹ç±»çš„ï¼Œæ²¡æœ‰å®Œæ•´çš„åº”ç”¨çŠ¶æ€æ£€æŸ¥ç­‰åŠŸèƒ½ã€‚åŒæ—¶ï¼Œç‰ˆæœ¬å‡çº§ã€ç¼©æ‰©å®¹ç­‰ç­–ç•¥é€‰æ‹©çš„ä½™åœ°ä¹Ÿä¸å¤šã€‚\n3. **Docker ç¼ºä¹é«˜çº§ç½‘ç»œåŠŸèƒ½ã€‚** è¦è®© Docker çš„å®¹å™¨é—´è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œä¹Ÿåªèƒ½æ˜¯è¯´æŠŠå®¹å™¨æ”¾åˆ°åŒä¸€ä¸ªç½‘ç»œä¸‹ï¼Œç„¶åå†é€šè¿‡å„è‡ªçš„ Hostname æ¥æ‰¾åˆ°å¯¹æ–¹ã€‚ä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬æ›´ä¼šæƒ³è¦ä¸€äº›è´Ÿè½½å‡è¡¡ã€è‡ªå®šä¹‰åŸŸåã€é€‰æ‹©æŸäº›å®¹å™¨ç«¯å£ä¸æš´éœ²ä¹‹ç±»çš„åŠŸèƒ½ã€‚\n\nand more...\n\næ€»çš„æ¥è¯´ï¼Œ Docker æ›´å…³æ³¨å•å°ä¸»æœºä¸Šå®¹å™¨æ€ä¹ˆè·‘ï¼Œè€Œå¯¹éƒ¨ç½²ç®¡ç†çš„åŠŸèƒ½åˆ™æ”¯æŒä¸å¤šã€‚è€Œæœ€å¤§çš„ç—›ç‚¹ï¼Œå°±æ˜¯ Docker å¯¹å¤šä¸»æœºçš„é›†ç¾¤éƒ¨ç½²æ”¯æŒçš„å®å†å¾ˆå·®ã€‚ç„¶è€Œï¼Œä¸ºäº†å®ç°å¤šåŒºå¯ç”¨ã€è´Ÿè½½å‡è¡¡ç­‰åŠŸèƒ½ï¼Œå¤šä¸»æœºé›†ç¾¤çš„å®¹å™¨ç¼–æ’åˆæ˜¯å¿…ä¸å¯å°‘çš„ã€‚\n\nK8s çš„å‡ºç°ï¼Œä¸»è¦å°±æ˜¯ä¸ºäº†è§£å†³å¤šä¸»æœºé›†ç¾¤ä¸Šçš„å®¹å™¨ç¼–æ’é—®é¢˜ã€‚\n\n1. **K8s å¯ä»¥è¿›è¡Œå¤šä¸»æœºè°ƒåº¦ã€‚** ç”¨æˆ·åªéœ€è¦æè¿°è‡ªå·±éœ€è¦è¿è¡Œæ€æ ·çš„åº”ç”¨ï¼Œ K8s å°±å¯ä»¥è‡ªå·±é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„èŠ‚ç‚¹è¿›è¡Œéƒ¨ç½²ï¼Œç”¨æˆ·ä¸éœ€è¦å…³å¿ƒè‡ªå·±çš„åº”ç”¨éƒ¨ç½²åˆ°å“ªä¸ªèŠ‚ç‚¹ä¸Šã€‚\n2. **K8s ä¸­ä¸€åˆ‡çš†èµ„æºã€‚** K8s æœ‰å®Œå–„çš„æŠ½è±¡èµ„æºæœºåˆ¶ï¼Œç”¨æˆ·å‡ ä¹ä¸éœ€è¦çŸ¥é“ç£ç›˜ã€ç½‘ç»œç­‰ä»»ä½•ç¡¬ä»¶ä¿¡æ¯ï¼Œåªéœ€è¦å¯¹ç€ç»Ÿä¸€çš„æŠ½è±¡èµ„æºè¿›è¡Œæ“ä½œã€‚\n3. **K8s èƒ½ä¿è¯è¾ƒå¼ºçš„å¯ç”¨æ€§ã€‚** é™¤äº†èƒ½è·¨å¤šä¸»æœºè°ƒåº¦å®ç°å¤šåŒºå¯ç”¨å¤–ï¼Œ K8s è¿˜æä¾›äº†å¾ˆå®Œå–„çš„ç¼©æ‰©å®¹æœºåˆ¶ã€å¥åº·æ£€æŸ¥æœºåˆ¶ä»¥åŠè‡ªåŠ¨æ¢å¤æœºåˆ¶ã€‚\n\nå¯ä»¥è¯´ï¼Œ K8s æ˜¯å®¹å™¨ç¼–æ’å·¥å…·çš„ä¸»æµé€‰æ‹©ã€‚\n\n### K8s ä¸ Docker çš„å…³ç³»\n\nK8s ä¸ Docker å…³ç³»å¾ˆå¤æ‚ï¼Œæ˜¯ä¸€ä¸ªé€æ¸å˜åŒ–çš„è¿‡ç¨‹ã€‚\n\nä¸€å¼€å§‹ K8s æ˜¯å®Œå…¨ä¾èµ–äº Docker Engine è¿›è¡Œå®¹å™¨å¯åŠ¨ä¸é”€æ¯çš„ã€‚åæ¥[å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆCRIï¼‰](https://kubernetes.io/blog/2016/12/container-runtime-interface-cri-in-kubernetes/)ã€ [CRI-O æ ‡å‡†](https://github.com/cri-o/cri-o)ã€å¼€æ”¾å®¹å™¨äº¤äº’æ ‡å‡†ï¼ˆOCIï¼‰ç­‰æ ‡å‡†é€æ¸å»ºç«‹ï¼Œå¯æ›¿ä»£ Docker Engine çš„å·¥å…·è¶Šæ¥è¶Šå¤šï¼Œ K8s ä¸­å·²ç»å®Œå…¨å¯ä»¥ä¸ä½¿ç”¨ Docker Engine äº†ã€‚\n\n[ã€Šå‡¤å‡°æ¶æ„ã€‹](http://icyfenix.cn/)ä¸€ä¹¦ä¸­æœ‰ä¸‹é¢è¿™æ ·ä¸€å¼ å›¾æ¥æè¿° K8s ä¸ Docker Engine çš„å…³ç³»ï¼š\n\n![K8s ä¸ Docker Engine çš„å…³ç³»](http://icyfenix.cn/assets/img/kubernetes.495f9eae.png)\n\nã€Šå‡¤å‡°æ¶æ„ã€‹ä¹¦ä¸­[è¿™ä¸€ç« èŠ‚](http://icyfenix.cn/immutable-infrastructure/container/history.html#%E5%B0%81%E8%A3%85%E9%9B%86%E7%BE%A4%EF%BC%9Akubernetes)è¯¦ç»†ä»‹ç»äº† K8s ä¸ Docker çš„å†å²ï¼Œæˆ‘è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚\n\n# éƒ¨ç½²ä¸€ä¸ª Pod\n\nä¸Šé¢è¯´äº†ä¸€å †æ¦‚å¿µï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å®é™…ä¸Šä¼šæ€æ ·åº”ç”¨ K8s ã€‚\n\n### Pod ç¤ºä¾‹\n\n\u003e Pod æ˜¯å¯ä»¥åœ¨ Kubernetes ä¸­åˆ›å»ºå’Œç®¡ç†çš„ã€æœ€å°çš„å¯éƒ¨ç½²çš„è®¡ç®—å•å…ƒã€‚\n\u003e Pod æ˜¯ä¸€ç»„å®¹å™¨ï¼›Pod ä¸­çš„å†…å®¹æ€»æ˜¯ä¸€åŒè°ƒåº¦ï¼Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ Pod ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨å®¹å™¨ï¼Œè¿™äº›å®¹å™¨ç›¸å¯¹ç´§å¯†åœ°è€¦åˆåœ¨ä¸€èµ·ã€‚åœ¨éäº‘ç¯å¢ƒä¸­ï¼Œåœ¨ç›¸åŒçš„ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„åº”ç”¨ç±»ä¼¼äºåœ¨åŒä¸€é€»è¾‘ä¸»æœºä¸Šè¿è¡Œçš„äº‘åº”ç”¨ã€‚\n\u003e â€”â€” Kubernetes å®˜æ–¹æ–‡æ¡£\n\nPod æ˜¯ K8s çš„æœ€å°éƒ¨ç½²å•ä½ã€‚\n\nå› ä¸º K8s å°†ç¡¬ä»¶èµ„æºéƒ½æŠ½è±¡åŒ–äº†ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“è‡ªå·±çš„åº”ç”¨éƒ¨ç½²åˆ°å“ªå°æœºä¸Šã€‚ä½†æ˜¯æœ‰äº›åœºæ™¯ä¸‹ä¸¤ä¸ªä¸»è¿›ç¨‹ä¹‹é—´åˆå¿…é¡»ç›¸äº’åä½œæ‰èƒ½å®Œæˆä»»åŠ¡ï¼Œå¦‚æœä¸¤ä¸ªè¿›ç¨‹ä¸ç¡®å®šä¼šä¸ä¼šéƒ¨ç½²åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šä¼šå˜å¾—å¾ˆéº»çƒ¦ã€‚å› æ­¤æ‰éœ€è¦ Pod è¿™ç§èµ„æºã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ª Nginx Pod çš„ç¤ºä¾‹ï¼ˆè¿™æ˜¯ K8s manifest æ–‡ä»¶ï¼Œå¯ä»¥ç”¨ `kubectl apply -f \u003cfilepath\u003e` è¿›è¡Œéƒ¨ç½²ï¼‰ï¼š\n\n```yaml\nmetadata:\n  name: simple-webapp\nspec:\n  containers:\n    - name: main-application\n      image: nginx\n      volumeMounts:\n        - name: shared-logs\n          mountPath: /var/log/nginx\n    - name: sidecar-container\n      image: busybox\n      command: [\"sh\",\"-c\",\"while true; do cat /var/log/nginx/access.log; sleep 30; done\"]\n      volumeMounts:\n        - name: shared-logs\n          mountPath: /var/log/nginx\n  volumes:\n    - name: shared-logs\n      emptyDir: {}\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œ Pod ä¸­å¯ä»¥åŒ…å«å¤šä¸ªå®¹å™¨ï¼Œè¿™ç»„å®¹å™¨æ€»æ˜¯ä»¥ä¸€å®šçš„é€»è¾‘ä¸€èµ·éƒ¨ç½²ï¼Œä¸”æ€»æ˜¯éƒ¨ç½²åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚å¯¹ K8s æ“ä½œæ—¶ï¼Œä¸èƒ½è¯´åªéƒ¨ç½² Pod ä¸­ä¸€ä¸ªç‰¹å®šçš„å®¹å™¨ï¼Œä¹Ÿä¸èƒ½è¯´æŠŠ Pod ä¸­ä¸€ä¸ªå®¹å™¨éƒ¨ç½²åœ¨è¿™ä¸ªèŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªå®¹å™¨éƒ¨ç½²åœ¨å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸Šã€‚\n\nåœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ° Pod ä¸­é™¤äº† Nginx å®¹å™¨ä»¥å¤–è¿˜æœ‰ä¸€ä¸ª Sidecar å®¹å™¨è´Ÿè´£å°† Nginx çš„ access.log æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚ä¸¤ä¸ªå®¹å™¨å¯ä»¥é€šè¿‡ mount åŒä¸€ä¸ªè·¯å¾„æ¥å®ç°æ–‡ä»¶å…±äº«ã€‚è¿™ç§åœºæ™¯ä¸‹ï¼Œå•ç‹¬è·‘ä¸€ä¸ª Sidecar å®¹å™¨æ²¡æœ‰æ„ä¹‰ï¼Œè€Œæˆ‘ä»¬ä¹Ÿä¸ä¼šå¸Œæœ›ä¸¤ä¸ªå®¹å™¨éƒ¨ç½²åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚ **ä¸¤ä¸ªå®¹å™¨åŒç”Ÿå…±æ­»** ï¼Œè¿™æ ·çš„æ¨¡å¼è¢«ç§°ä¸º **Sidecar æ¨¡å¼** ã€‚ Jaeger Agent ï¼Œæˆ–æ˜¯ Service Mesh ä¸­å¸¸è§çš„ Envoy Sidecar éƒ½å¯ä»¥é€šè¿‡è¿™ç§æ¨¡å¼éƒ¨ç½²ï¼Œè¿™æ ·ä¸šåŠ¡å®¹å™¨ä¸­å°±å¯ä»¥ä¸è€ƒè™‘ tracing æˆ–æ˜¯æµé‡æ§åˆ¶ç›¸å…³çš„é—®é¢˜ã€‚\n\næ­¤å¤–ï¼Œç”±äºåŒä¸€ä¸ª Pod ä¸­çš„å®¹å™¨é»˜è®¤å…±äº«äº†ç›¸åŒçš„ network å’Œ UTS åç§°ç©ºé—´ï¼Œä¸ç®¡æ˜¯åœ¨ Pod çš„å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨æ¥çœ‹ï¼Œä»–ä»¬ä¸€å®šç¨‹åº¦ä¸Šå°±åƒæ˜¯çœŸçš„éƒ¨ç½²åœ¨åŒä¸€ä¸»æœºä¸Šä¸€æ ·ï¼Œæœ‰ç›¸åŒçš„ Hostname ä¸ ip åœ°å€ï¼Œåœ¨ä¸€ä¸ªå®¹å™¨ä¸­ä¹Ÿå¯ä»¥é€šè¿‡ localhost æ¥è®¿é—®é›¶ä¸€ä¸ªå®¹å™¨çš„ç«¯å£ã€‚\n\nå¦å¤– Pod ä¸­å¯ä»¥å®šä¹‰è‹¥å¹²ä¸ª initContainer ï¼Œè¿™äº›å®¹å™¨ä¼šæ¯” `spec.containers` ä¸­çš„å®¹å™¨å…ˆè¿è¡Œï¼Œå¹¶ä¸”æ˜¯é¡ºåºè¿è¡Œã€‚ä¸‹é¢æ˜¯é€šè¿‡å®‰è£… bitnami çš„ Kafka Helm Chart å¾—åˆ°çš„ä¸€ä¸ª Kafka Broker Pod ï¼ˆæœ‰æ‰€ç®€åŒ–ï¼‰:\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: kafka-0\n  namespace: kafka\nspec:\n  containers:\n  - name: kafka\n    image: docker.io/bitnami/kafka:3.1.0-debian-10-r52\n    command:\n    - /scripts/setup.sh\n    volumeMounts:\n    - name: scripts\n      mountPath: /scripts/setup.sh\n      subPath: setup.sh\n    - name: shared\n      mountPath: /shared\n  initContainers:\n  - name: auto-discovery\n    image: docker.io/bitnami/kubectl:1.23.5-debian-10-r1\n    command:\n    - /scripts/auto-discovery.sh\n    volumeMounts:\n    - name: shared\n      mountPath: /shared\n    - name: scripts\n      mountPath: /scripts/auto-discovery.sh\n      subPath: auto-discovery.sh\n  volumes:\n  - name: scripts\n    configMap:\n      defaultMode: 493\n      name: kafka-scripts\n  - name: shared\n    emptyDir: {}\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ `kafka` pod å¯åŠ¨å‰ä¼šå…ˆå¯åŠ¨ä¸€ä¸ªåä¸º `auto-discovery` çš„ initContainer ï¼Œè´Ÿè´£è·å¾—é›†ç¾¤ä¿¡æ¯ç­‰å‡†å¤‡å·¥ä½œã€‚å‡†å¤‡å·¥ä½œå®Œæˆåï¼Œä¼šå°†ä¿¡æ¯å†™å…¥ `/shared` ç›®å½•ä¸‹ï¼Œç„¶åå†å¯åŠ¨ `kafka` å®¹å™¨ Mount åŒä¸€ç›®å½•ï¼Œå°±å¯ä»¥è·å–å‡†å¤‡å¥½çš„ä¿¡æ¯ã€‚\n\n**è¿™æ ·è¿è¡Œå®¹å™¨è¿›è¡Œ Pod åˆå§‹åŒ–å°±å« initContainer æ¨¡å¼** ã€‚æ¯ä¸ª initContainer ä¼šè¿è¡Œåˆ°æˆåŠŸé€€å‡ºä¸ºæ­¢ï¼Œå¦‚æœæœ‰ä¸€ä¸ª initContainer å¯åŠ¨å¤±è´¥ï¼Œåˆ™æ•´ä¸ª Pod å¯åŠ¨å¤±è´¥ï¼Œè§¦å‘ K8s çš„ Pod é‡å¯ç­–ç•¥ã€‚\n\n\n# éƒ¨ç½²æ›´å¤š Pod\n\n### Replica Set\n\nå¯æ˜¯ä¸Šé¢è¯´äº†è¿™ä¹ˆå¤šï¼Œè¿˜åªæ˜¯å•ä¸ª Pod çš„éƒ¨ç½²ï¼Œä½†æˆ‘ä»¬å¸Œæœ›èƒ½åšå¤šå‰¯æœ¬éƒ¨ç½²ã€‚\n\nå…¶å®ï¼Œåªè¦æŠŠ Pod çš„ manifest æ”¹ä¸€ä¸‹ `metadata.name` å†éƒ¨ç½²ä¸€æ¬¡ï¼Œå°±èƒ½å¾—åˆ°ä¸€æ¨¡ä¸€æ ·çš„ä¸¤ä¸ª Pod ï¼Œå°±æ˜¯ä¸€ä¸ªç®€å•çš„å¤šå‰¯æœ¬éƒ¨ç½²äº†ã€‚ï¼ˆå¿…é¡»æ”¹ `metadata.name` ï¼Œä¸ç„¶ K8s ä¼šä»¥ä¸ºä½ æ˜¯æƒ³ä¿®æ”¹åŒä¸€ä¸ª Pod ï¼‰\n\nå¯æ˜¯è¿™æ ·åšä¼šæœ‰å¾ˆå¤šé—®é¢˜ï¼š\n\n- è¦å¤åˆ¶ä¸€ä¸‹è¿˜è¦æ”¹åå­—å¤šéº»çƒ¦å•Šï¼Œæˆ‘æƒ³ç”¨åŒä¸€ä»½æ¨¡æ¿ï¼Œåªå®šä¹‰ä¸€ä¸‹å‰¯æœ¬æ•°å°±èƒ½å¾—åˆ°å¯¹åº”æ•°é‡çš„ Pod ã€‚\n- ç¼©å®¹æ‰©å®¹è¿˜è¦å¯¹ç€ Pod æ“ä½œå¾ˆå±é™©ï¼Œæˆ‘æƒ³ç›´æ¥ä¿®æ”¹å‰¯æœ¬æ•°å°±èƒ½ç¼©å®¹æ‰©å®¹ã€‚\n- å¦‚æœå…¶ä¸­ä¸€äº› Pod æŒ‚æ‰äº†ä¸èƒ½é‡å¯ï¼Œç°åœ¨æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼šåšã€‚æˆ‘å¸Œæœ›èƒ½è‡ªåŠ¨å»ºä¸€äº›æ–°çš„ Pod é¡¶ä¸Šï¼Œæ¥ä¿è¯å‰¯æœ¬æ•°ä¸å˜ã€‚\n\nä¸ºäº†å®ç°è¿™äº›éœ€æ±‚ï¼Œå°±å‡ºç°äº† Replica Set è¿™ç§èµ„æºã€‚ä¸‹é¢æ˜¯å®é™…åº”ç”¨ä¸­ä¸€ä¸ª Replica Set çš„ä¾‹å­ï¼š\n\n```yaml\napiVersion: apps/v1\nkind: ReplicaSet\nmetadata:\n  labels:\n    app: gateway\n  name: gateway-9dc546658\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: gateway\n  template:\n    metadata:\n      labels:\n        app: gateway\n      name: gateway\n    spec:\n      containers:\n        name: gateway\n        image: xxxxxxxx.amazonaws.com/gateway:xxxxxxx\n        ports:\n        - containerPort: 50051\n          protocol: TCP\n        readinessProbe:\n          initialDelaySeconds: 5\n          tcpSocket:\n            port: 50051\n        startupProbe:\n          failureThreshold: 60\n          tcpSocket:\n            port: 50051\n      affinity:\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: gateway\n              topologyKey: topology.kubernetes.io/zone\n            weight: 80\n```\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ `spec.template` ä¸­å°±æ˜¯æˆ‘ä»¬è¦çš„ Pod çš„æ¨¡æ¿ï¼Œåœ¨ metadata é‡Œå¸¦ä¸Šäº† `app:gateway` æ ‡ç­¾ã€‚è€Œåœ¨ `spec.replicas` ä¸­å®šä¹‰äº†æˆ‘ä»¬éœ€è¦çš„ Pod æ•°é‡ï¼Œ `spec.selector` ä¸­æè¿°äº†æˆ‘ä»¬è¦å¯¹å¸¦ `app:gateway` æ ‡ç­¾çš„ Pod è¿›è¡Œæ§åˆ¶ã€‚æŠŠè¿™ä»½ manifest éƒ¨ç½²åï¼Œæˆ‘ä»¬å°±ä¼šå¾—åˆ°é™¤åå­—ä»¥å¤–å‡ ä¹ä¸€æ‘¸ä¸€æ ·çš„ä¸¤ä¸ª Pod ï¼š\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  generateName: gateway-9dc546658-\n  labels:\n    app: gateway\n    pod-template-hash: 9dc546658\n  name: gateway-9dc546658-6c9qs\n  ownerReferences:\n  - apiVersion: apps/v1\n    blockOwnerDeletion: true\n    controller: true\n    kind: ReplicaSet\n    name: gateway-9dc546658\n    uid: 6633f89c-377c-4c90-bd08-3be5bc7b21bd\n  resourceVersion: \"49793842\"\n  uid: f927db88-a39a-4623-852d-4f150a6d853b\nspec:\n  containers:\n    name: gateway\n    image: xxxxxxxx.amazonaws.com/gateway:xxxxxxx\n    ports:\n    # åç»­çœç•¥\n\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  annotations:\n    kubernetes.io/psp: eks.privileged\n  creationTimestamp: \"2022-08-09T08:51:25Z\"\n  generateName: gateway-9dc546658-\n  labels:\n    app: gateway\n    pod-template-hash: 9dc546658\n  name: gateway-9dc546658-8trcs\n  ownerReferences:\n  - apiVersion: apps/v1\n    blockOwnerDeletion: true\n    controller: true\n    kind: ReplicaSet\n    name: gateway-9dc546658\n    uid: 6633f89c-377c-4c90-bd08-3be5bc7b21bd\n  resourceVersion: \"49793745\"\n  uid: 0918e3ed-2965-4237-8828-421a7831c9ed\nspec:\n  containers:\n    image: xxxxxxxx.amazonaws.com/gateway:xxxxxxx\n    name: gateway\n    ports:\n    # åç»­çœç•¥\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œåˆ›å»ºå‡ºæ¥çš„ Pod è‡ªåŠ¨ç”Ÿæˆäº†ä¸¤ä¸ªåç¼€ï¼ˆ `6c9qs` ä¸ `8trcs` ï¼‰ï¼Œå¸¦ä¸Šäº† Replica Set çš„ä¿¡æ¯ï¼ˆåœ¨ `metadata.ownerReferences` ï¼‰ï¼Œå…¶ä»–éƒ¨åˆ†åŸºæœ¬ä¸€æ¨¡ä¸€æ ·ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ª Pod æŒ‚æ‰äº†ï¼Œ K8s ä¼šå¸®æˆ‘ä»¬ä»æ¨¡æ¿ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ª Pod ã€‚è€Œä¸”ç”±äºæˆ‘ä»¬åœ¨ Pod æ¨¡æ¿å®šä¹‰äº† affinity ï¼Œ K8s è¿˜ä¼šæŒ‰ç…§æˆ‘ä»¬çš„è¦æ±‚è‡ªåŠ¨ç­›é€‰åˆé€‚çš„èŠ‚ç‚¹ã€‚ä¾‹å¦‚åœ¨ä¸Šé¢ Replica Set çš„ä¾‹å­ä¸­ï¼Œåˆ›å»ºå‡ºæ¥çš„ Pod å°±ä¼šå°½é‡éƒ¨ç½²åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚\n\n\u003e **K8s ä¸­å¯¹ Pod çš„ç”Ÿå­˜çŠ¶æ€æ£€æŸ¥æœºåˆ¶**\n\u003e \n\u003e é™¤äº†çº¿ç¨‹ç›´æ¥é”™è¯¯é€€å‡ºä»¥å¤–ï¼Œè¿˜æœ‰å‡ºç°æ­»é”ç­‰ç­‰å„ç§å¯èƒ½æ€§ä½¿å¾—å®¹å™¨ä¸­çš„åº”ç”¨ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚è¿™äº›æƒ…å†µä¸‹è™½ç„¶æ˜¯ä¸å¥åº·çŠ¶æ€ï¼Œä½†å®¹å™¨å´ä¸ä¸€å®šä¼šæŒ‚æ‰ã€‚å› æ­¤ K8s æä¾›äº†ä¸€äº›æ¢é’ˆæ£€æŸ¥çš„æœºåˆ¶æ¥åˆ¤æ–­ Pod æ˜¯å¦å¥åº·ã€‚\n\u003e K8s ä¸»è¦æä¾›äº†ä¸‰ç§æ¢é’ˆï¼š\n\u003e 1. **å­˜æ´»æ¢é’ˆï¼ˆ liveness probe ï¼‰** : Pod è¿è¡Œæ—¶ K8s ä¼šå¾ªç¯æ‰§è¡Œ liveness probe æ£€æŸ¥å®¹å™¨æ˜¯å¦å¥åº·ã€‚å¦‚æœæ£€æŸ¥å¤±è´¥ï¼Œ K8s ä¼šè®¤ä¸ºè¿™ä¸ªå®¹å™¨ä¸å¥åº·ï¼Œå°±ä¼šå°è¯•é‡å¯å®¹å™¨ã€‚\n\u003e 2. **å°±ç»ªæ¢é’ˆï¼ˆ readiness probe ï¼‰** : ç¨‹åºå¯èƒ½ä¼šæœ‰ä¸€æ®µæ—¶é—´ä¸èƒ½æä¾›æœåŠ¡ï¼ˆæ¯”å¦‚æ­£åœ¨åŠ è½½æ•°æ®ç­‰ï¼‰ã€‚è¿™æ—¶å¯èƒ½æ—¢ä¸æƒ³æ€æ­»åº”ç”¨ï¼Œä¹Ÿä¸æƒ³ç»™å®ƒå‘é€è¯·æ±‚ï¼Œè¿™æ—¶å°±éœ€è¦ readiness probe ã€‚å¦‚æœ readiness probe æ£€æŸ¥å¤±è´¥ï¼Œ K8s å°±ä¼šå°†è¿™ä¸ª Pod ä» Service ä¸Šæ‘˜ä¸‹æ¥ï¼Œç›´åˆ° readiness probe æˆåŠŸé‡æ–°åŠ å…¥ Service ã€‚\n\u003e 3. **å¯åŠ¨æ¢é’ˆï¼ˆ startup probe ï¼‰** : æœ‰äº›ç¨‹åºä¼šæœ‰éå¸¸é•¿çš„å¯åŠ¨æ—¶é—´ï¼Œä¼šæœ‰è¾ƒé•¿æ—¶é—´ä¸èƒ½æä¾›æœåŠ¡ã€‚è¿™æ—¶å¦‚æœ liveness probe å¤±è´¥äº†å¯¼è‡´é‡å¯æ¯«æ— å¿…è¦ï¼Œæ­¤æ—¶å°±éœ€è¦ startup probe ã€‚ startup probe åªä¼šåœ¨å®¹å™¨å¯åŠ¨æ—¶æ£€æŸ¥ç›´åˆ°ç¬¬ä¸€æ¬¡æˆåŠŸã€‚ç›´åˆ° startup probe æˆåŠŸä¸ºæ­¢ï¼Œ liveness probe ä¸ readiness probe éƒ½ä¸ä¼šå¼€å§‹æ‰§è¡Œæ£€æŸ¥ã€‚\n\u003e \n\u003e è€Œæ£€æµ‹æ–¹å¼ä¸»è¦æœ‰ï¼š\n\u003e 1. httpGet: å¯¹æŒ‡å®šçš„ç«¯å£è·¯å¾„æ‰§è¡Œ HTTP GET è¯·æ±‚ï¼Œå¦‚æœè¿”å› 2xx æˆ– 3xx å°±æ˜¯æˆåŠŸã€‚\n\u003e 2. tcpSocket: å°è¯•ä¸å®¹å™¨çš„ç«¯å£å»ºç«‹è¿æ¥ï¼Œå¦‚æœä¸èƒ½æˆåŠŸå»ºç«‹è¿æ¥å°±æ˜¯å¤±è´¥ã€‚\n\u003e 3. exec: åœ¨å®¹å™¨å†…æ‰§è¡Œä¸€æ®µå‘½ä»¤ï¼Œå¦‚æœé€€å‡ºæ—¶çŠ¶æ€ç ä¸ä¸º 0 å°±æ˜¯å¤±è´¥ã€‚\n\u003e 4. grpc (New!): K8s 1.24 æ–°å‡ºçš„æ£€æŸ¥æ–¹å¼ï¼Œç›´æ¥ç”¨ [GRPC Health Checking Protocol](https://github.com/grpc/grpc/blob/master/doc/health-checking.md) å¯¹ GRPC Server è¿›è¡Œæ£€æŸ¥ã€‚\n\næ­¤å¤–ï¼Œ Replica Set è¿˜æä¾›äº†ç®€æ˜“çš„ç¼©å®¹æ‰©å®¹åŠŸèƒ½ã€‚ kubectl ä¸­æä¾›äº† scale å‘½ä»¤ï¼š\n\n```bash\nkubectl scale replicaset gateway --replicas=10\n```\n\næ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œå°±å¯ä»¥å°†åä¸º gateway çš„ Replica Set å¯¹åº”çš„å‰¯æœ¬æ•°æ‰©å®¹åˆ° 10 ä»½ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹ Replica Set çš„ `spec.replicas` å­—æ®µæ¥å®ç°ç¼©å®¹æ‰©å®¹ã€‚\n\nç„¶è€Œï¼Œ Replica Set çš„åŠŸèƒ½è¿˜æ˜¯æœ‰é™çš„ã€‚å®é™…ä¸Šï¼Œ Replica Set åªå…³å¿ƒè·Ÿå®ƒçš„ selector åŒ¹é…çš„ Pod çš„æ•°é‡ã€‚è€Œè‡³äºåŒ¹é…çš„ Pod æ˜¯å¦çœŸçš„æ˜¯è·Ÿ template å­—æ®µä¸­æè¿°çš„ä¸€æ ·ï¼Œ Replica Set å°±ä¸å…³å¿ƒäº†ã€‚å› æ­¤å¦‚æœå•ç”¨ Replica Set ï¼Œæ›´æ–° Pod å°±ä¼šå˜å¾—ç©¶æéº»çƒ¦ã€‚\n\n### Deployment\n\nä¸ºäº†è§£å†³ Pod çš„æ›´æ–°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ Deployment è¿™ç§èµ„æºã€‚å®é™…ä¸Šï¼Œ Replica Set çš„ä¸»è¦ç”¨é€”æ˜¯æä¾›ç»™ Deployment ä½œä¸ºæ§åˆ¶ Pod æ•°é‡ï¼Œä»¥åŠåˆ›å»ºã€åˆ é™¤ Pod çš„ä¸€ç§æœºåˆ¶ã€‚æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥ä½¿ç”¨ Replica Set ã€‚\n\nä¸‹é¢æ˜¯å®é™…åº”ç”¨ä¸­ä¸€ä¸ª Deployment çš„ä¾‹å­ï¼š\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: gateway\n  name: gateway\nspec:\n  replicas: 2\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      app: gateway\n  template:\n    metadata:\n      labels:\n        app: gateway\n      name: gateway\n    spec:\n      containers:\n        name: gateway\n        image: xxxxxxxx.amazonaws.com/gateway:xxxxxxx\n        ports:\n        # ä¸‹ç•¥\n```\n\nå¯ä»¥çœ‹åˆ° Deployment çš„ manifest è·Ÿ Replica Set å¾ˆåƒã€‚ä½†å®é™…ä¸Šï¼Œ Deployment ä¸ä¼šç›´æ¥åˆ›å»º Pod ï¼Œè€Œæ˜¯åˆ›å»ºå‡ºä¸€ä¸ª Replica Set ï¼Œå†ç”± Replica Set æ¥åˆ›å»º Pod ï¼š\n\n\n```mermaid\nflowchart TB\n\nDeployment1[Deployment]\nReplicaSet11[Replica Set]\nPod11[Pod1]\nPod12[Pod2]\nDeployment1 --\u003e ReplicaSet11\nReplicaSet11 --\u003e Pod11\nReplicaSet11 --\u003e Pod12\n```\n\næ¯”å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåä¸º gateway çš„ Deployment åˆ›å»ºåï¼Œå°±ä¼šæœ‰å¦‚ä¸‹ ReplicaSet å’Œ Pod ï¼š\n\n```sh\n# Replica Set:\n$ kubectl get rc -l app=gateway\nNAME                 DESIRED   CURRENT   READY   AGE\ngateway-9dc546658    2         2         2       5d3h\n\n# Pod:\n$ kubectl get po -l app=gateway\nNAME                      READY   STATUS    RESTARTS   AGE\ngateway-9dc546658-6c9qs   1/1     Running   0          5d3h\ngateway-9dc546658-8trcs   1/1     Running   0          5d3h\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œgateway Deployment åˆ›å»ºäº†ä¸€ä¸ª Replica Set ï¼Œç„¶åéšæœºç»™äº†å®ƒä¸€ä¸ª `9dc546658` åç¼€ã€‚ç„¶å gateway-9dc546658 è¿™ä¸ª Replica Set åˆæ ¹æ® template ä¸­åˆ›å»ºäº†ä¸¤ä¸ª Pod ï¼Œå†åœ¨è‡ªå·±åå­—çš„åŸºç¡€ä¸ŠåŠ ä¸Šä¸¤ä¸ªåç¼€ `6c9qs` ä¸ `8trcs` ã€‚\n\næ¥ä¸‹æ¥å°±æ˜¯ Deployment çš„é‡ç‚¹äº†ï¼š Replica Set åªä¼šæ ¹æ® template åˆ›å»ºå‡º Pod ï¼Œè€Œä¸ç®¡åŒ¹é…çš„ Pod åˆ°åº•æ˜¯ä¸æ˜¯è·Ÿ template ä¸­æè¿°çš„ä¸€æ ·ã€‚è€Œ **Deployment åˆ™ä¼šä¸“é—¨å…³æ³¨ template çš„å†…å®¹å˜æ›´ã€‚**\n\nå‡å¦‚æˆ‘ä»¬ç°åœ¨æ›´æ–°äº† Deployment çš„ template ä¸­çš„å†…å®¹æäº¤ç»™ K8s ï¼Œ Deployment å°±ä¼šæ„ŸçŸ¥åˆ° template è¢«ä¿®æ”¹äº†ï¼Œ Pod éœ€è¦æ›´æ–°ã€‚\næ„ŸçŸ¥åˆ°æ›´æ–°ä¹‹åï¼Œ Deployment å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Replica Set ã€‚ç„¶åé€æ¸å°†æ—§çš„ Replica Set ç¼©å®¹åˆ° 0 ï¼Œå¹¶åŒæ—¶å°†æ–°çš„ Replica Set æ‰©å®¹åˆ°ç›®æ ‡å€¼ã€‚æœ€åï¼Œæ‰€æœ‰æ—§ç‰ˆæœ¬çš„ Pod å°†ä¼šè¢«æ›´æ–°æˆæ–°ç‰ˆæœ¬çš„ Pod ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\n```mermaid\nflowchart TB\n\nsubgraph A\ndirection TB\nDeployment1[Deployment]\nReplicaSet11[Replica Set]\nReplicaSet12[New Replica Set]\nPod11[Pod1]\nPod12[Pod2]\nDeployment1 --\u003e ReplicaSet11\nDeployment1 --\u003e ReplicaSet12\nReplicaSet11 --\u003e Pod11\nReplicaSet11 --\u003e Pod12\nend\n\nsubgraph B\ndirection TB\nDeployment2[Deployment]\nReplicaSet21[Replica Set]\nReplicaSet22[New Replica Set]\nPod21[New Pod1]\nPod22[Pod2]\nDeployment2 --\u003e ReplicaSet21\nDeployment2 --\u003e ReplicaSet22\nReplicaSet21 --\u003e Pod22\nReplicaSet22 --\u003e Pod21\nend\n\nsubgraph C\ndirection TB\nDeployment3[Deployment]\nReplicaSet31[Replica Set]\nReplicaSet32[New Replica Set]\nPod31[New Pod1]\nPod32[New Pod2]\nDeployment3 --\u003e ReplicaSet31\nDeployment3 --\u003e ReplicaSet32\nReplicaSet32 --\u003e Pod31\nReplicaSet32 --\u003e Pod32\nend\n\nA --\u003e B --\u003e C\n```\n\næ•´ä¸ªè¿‡ç¨‹å®Œæˆåï¼Œ Deployment è¿˜ä¸ä¼šå°†æ—§çš„ Replica Set åˆ é™¤æ‰ã€‚æˆ‘ä»¬æ³¨æ„åˆ° Deployment çš„å£°æ˜ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªå­—æ®µï¼š `revisionHistoryLimit: 10` ï¼Œè¡¨ç¤º Deployment ä¼šä¿ç•™å†å²ä¸­ æœ€è¿‘çš„ 10 ä¸ª Replica Set ï¼Œè¿™æ ·åœ¨å¿…è¦çš„æ—¶å€™å¯ä»¥ç«‹åˆ»å°† Deployment å›æ»šåˆ°ä¸Šä¸ªç‰ˆæœ¬ã€‚è€Œè¶…å‡º 10 ä¸ªçš„ Replica Set æ‰ä¼šè¢«ä» K8s ä¸­åˆ é™¤ã€‚\n\n```sh\n# å®é™…ä¸­è¢« scale åˆ° 0 ä½†è¿˜æ²¡è¢«åˆ é™¤çš„ Replica Set\n$ kubectl get rs -l app=gateway\nNAME                 DESIRED   CURRENT   READY   AGE\ngateway-5c4cdf957d   0         0         0       5d4h\ngateway-5c56f6d487   0         0         0       17d\ngateway-65857cfc78   0         0         0       10d\ngateway-6bddbdd85f   0         0         0       16d\ngateway-6cc9bb5b4c   0         0         0       13d\ngateway-6f4664bc65   0         0         0       17d\ngateway-7bd667cb79   0         0         0       9d\ngateway-7d658d57f5   0         0         0       13d\ngateway-84df97d4c8   0         0         0       6d4h\ngateway-9998f4689    0         0         0       13d\ngateway-9dc546658    2         2         2       5d4h\n```\n\n### Stateful Set\n\nDeployment ä¸­é»˜è®¤äº†æˆ‘ä»¬ä¸å…³å¿ƒè‡ªå·±è®¿é—®çš„æ˜¯å“ªä¸ª Pod ï¼Œå› ä¸ºå„ä¸ª Pod çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œè®¿é—®å“ªä¸ªæ²¡æœ‰å·®åˆ«ã€‚\n\nå®é™…ä¸Šè¿™ä¹Ÿç¬¦åˆå¤§å¤šæ•°æƒ…å†µï¼šè¯•æƒ³ä¸€ä¸ª HTTP Server ï¼Œå¦‚æœå…¶æ‰€æœ‰æ•°æ®éƒ½å­˜æ”¾åˆ°åŒä¸€ä¸ªçš„æ•°æ®åº“ä¸­ï¼Œé‚£è¿™ä¸ª HTTP Server ä¸ç®¡éƒ¨ç½²åœ¨å“ªå°ä¸»æœºã€ä¸ç®¡æœ‰å¤šå°‘ä¸ªå®ä¾‹ã€ä¸ç®¡ä½ è®¿é—®çš„æ˜¯å“ªä¸ªå®ä¾‹ï¼Œéƒ½å¯Ÿè§‰ä¸å‡ºæœ‰ä»€ä¹ˆå·®åˆ«ã€‚è€Œæœ‰äº†è¿™ç§é»˜è®¤ï¼Œæˆ‘ä»¬å°±èƒ½æ›´æ”¾å¿ƒåœ°å¯¹ Pod è¿›è¡Œè´Ÿè½½å‡è¡¡ã€ç¼©æ‰©å®¹ç­‰æ“ä½œã€‚\n\nä½†å®é™…ä¸Šæˆ‘ä»¬æ€»ä¼šé‡åˆ°éœ€è¦ä¿å­˜è‡ªå·±çŠ¶æ€çš„ Pod ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ K8s é‡Œéƒ¨ç½²ä¸€ä¸ª Kafka é›†ç¾¤ï¼Œæ¯ä¸ª Kafka broker éƒ½éœ€è¦ä¿å­˜è‡ªå·±çš„åˆ†åŒºæ•°æ®ï¼Œè€Œä¸”è¿˜è¦å¾€ Zookeeper é‡Œå†™å…¥è‡ªå·±çš„åå­—æ¥å®ç°é€‰ä¸¾ç­‰åŠŸèƒ½ã€‚å¦‚æœç®€å•åœ°ç”¨ Deployment æ¥éƒ¨ç½²ï¼Œ broker ä¹‹é—´å¯èƒ½å°±ä¼šåˆ†ä¸æ¸…åˆ°åº•å“ªå—æ˜¯è‡ªå·±çš„åˆ†åŒºï¼Œè€Œä¸”ç”± Deployment ç”Ÿæˆå‡ºæ¥çš„ Pod åå­—æ˜¯éšæœºçš„ï¼Œå‡çº§å Pod çš„åå­—ä¼šå˜ï¼Œå¯¼è‡´ Kafka å‡çº§ååå­—ä¸ Zookeeper é‡Œçš„åå­—ä¸ä¸€è‡´ï¼Œè¢«ä»¥ä¸ºæ˜¯ä¸€ä¸ªæ–°çš„ broker ã€‚\n\nStateful Set å°±æ˜¯ä¸ºäº†è§£å†³æœ‰çŠ¶æ€åº”ç”¨çš„éƒ¨ç½²è€Œå‡ºç°çš„ã€‚ä¸‹é¢æ˜¯ ç”¨ bitnami çš„ Kafka Helm Chart éƒ¨ç½²çš„ä¸€ä¸ª Kafka Stateful Set çš„ä¾‹å­ï¼š\n\n```yaml\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  labels:\n    app.kubernetes.io/name: kafka\n  name: kafka\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: kafka\n  serviceName: kafka-headless\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: kafka\n    spec:\n      containers:\n      - name: kafka\n        image: docker.io/bitnami/kafka:3.1.0-debian-10-r52\n        command:\n        - /scripts/setup.sh\n        ports:\n        - containerPort: 9092\n          name: kafka-client\n          protocol: TCP\n        volumeMounts:\n        - mountPath: /bitnami/kafka\n          name: data\n  volumeClaimTemplates:\n  - apiVersion: v1\n    kind: PersistentVolumeClaim\n    metadata:\n      name: data\n    spec:\n      resources:\n        requests:\n          storage: 10Gi\n      storageClassName: gp2\n```\n\nå¯ä»¥çœ‹åˆ°å…¶å® Stateful Set ç±»ä¼¼ Deployment ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ replicas å­—æ®µå®šä¹‰å®ä¾‹æ•°ï¼Œå¦‚æœæ›´æ–° template éƒ¨åˆ†ï¼Œ Stateful Set ä¹Ÿä¼šä»¥ä¸€å®šçš„ç­–ç•¥å¯¹ Pod è¿›è¡Œæ›´æ–°ã€‚\n\nè€Œå…¶åˆ›å»ºå‡ºæ¥çš„ Pod å¦‚ä¸‹æ‰€ç¤ºï¼š\n```sh\n$ kubectl get po -l app.kubernetes.io/name=kafka\nNAME      READY   STATUS    RESTARTS   AGE\nkafka-0   1/1     Running   1          26d\nkafka-1   1/1     Running   3          26d\nkafka-2   1/1     Running   3          26d\n```\n\nä¸ Replica Set åˆ›å»ºå‡ºæ¥çš„ Pod ç›¸æ¯”åå­—ä¸Šä¼šæœ‰å¾ˆå¤§å·®åˆ«ã€‚ Stateful Set åˆ›å»ºå‡ºæ¥çš„ Pod ä¼šå›ºå®šçš„ä»¥ `-0` ã€ `-1` ã€ `-2` ç»“å°¾è€Œä¸æ˜¯éšæœºç”Ÿæˆï¼š\n\n```mermaid\nflowchart TB\nrs[Replica Set A]\nrs --\u003e A-qwert\nrs --\u003e A-asdfg\nrs --\u003e A-zxcvb\n\nss[Stateful Set A]\nss --\u003e A-0\nss --\u003e A-1\nss --\u003e A-2\n```\n\nè¿™æ ·ä¸€æ¥ï¼Œæ›´æ–°æ—¶å°† Pod æ›´æ¢ä¹‹åï¼Œæ–°çš„ Pod ä»èƒ½å¤Ÿè·Ÿæ—§çš„ Pod ä¿æŒç›¸åŒçš„åå­—ã€‚æ­¤å¤–ï¼Œä¸ Deployment ç›¸æ¯”ï¼Œ Stateful Set æ›´æ–°ååŒåçš„ Pod ä»èƒ½ä¿æŒåŸæ¥çš„ IP ï¼Œæ‹¿åˆ°åŒä¸€ä¸ªæŒä¹…åŒ–å·ï¼Œè€Œä¸”ä¸åŒçš„ Pod è¿˜èƒ½é€šè¿‡ç‹¬ç«‹çš„ DNS è®°å½•ç›¸äº’åŒºåˆ†ã€‚è¿™äº›å†…å®¹åé¢è¿˜ä¼šè¯¦ç»†ä»‹ç»ã€‚\n\n\u003e **å® ç‰©ä¸ç‰›ï¼ˆ Cattle vs Pets ï¼‰çš„æ¯”å–»**\n\u003e \n\u003e Deployment æ›´å€¾å‘äºå°† Pod çœ‹ä½œæ˜¯ç‰›ï¼šæˆ‘ä»¬ä¸ä¼šå»å…³å¿ƒæ¯ä¸€ä¸ª Pod ä¸ªä½“ï¼Œå¦‚æœæœ‰ä¸€ä¸ª Pod å‡ºç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠä»–æ€æ‰å¹¶æ›¿æ¢æˆæ–°çš„ Pod å°±å¥½ã€‚\n\u003e \n\u003e ä½† Stateful Set æ›´å€¾å‘äºå°† Pod çœ‹ä½œæ˜¯å® ç‰©ï¼šå¼„æ¥ä¸€ç›´å®Œå…¨ä¸€æ¨¡ä¸€æ ·çš„å® ç‰©å¹¶ä¸æ˜¯å®¹æ˜“çš„äº‹ï¼Œæˆ‘ä»¬å¯¹å¾…è¿™äº›å® ç‰©å¿…é¡»å°å¿ƒç¿¼ç¿¼ã€‚æˆ‘ä»¬è¦ç»™ä»–ä»¬å„è‡ªä¸€ä¸ªä¸“å±çš„åå­—ï¼Œæ›¿æ¢æ‰ä¸€åªå® ç‰©æ—¶ï¼Œå¿…é¡»è¦ä¿è¯å®ƒçš„èŠ±è‰²ã€åå­—ã€è¡Œä¸ºä¸¾æ­¢éƒ½ä¸ä¹‹å‰é‚£åªå® ç‰©ä¸€æ¨¡ä¸€æ ·ã€‚\n\n### Daemon Set\n\nä¸ç®¡æ˜¯ Deployment è¿˜æ˜¯ Stateful Set ï¼Œä¸€èˆ¬éƒ½ä¸ä¼šåœ¨æ„è‡ªå·±çš„ Pod éƒ¨ç½²åˆ°å“ªä¸ªèŠ‚ç‚¹ã€‚è€Œå‡å¦‚ä½ ä¸åœ¨æ„è‡ªå·± Pod çš„æ•°é‡ï¼Œä½†éœ€è¦ä¿è¯æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½è¿è¡Œä¸€ä¸ª Pod æ—¶ï¼Œå°±éœ€è¦ Daemon Set äº†ã€‚\n\néœ€è¦ä¿è¯æ¯ä¸ªèŠ‚ç‚¹ä¸Šæœ‰ä¸”åªæœ‰ä¸€ä¸ª Pod åœ¨è¿è¡Œè¿™ç§æƒ…å†µï¼Œç»å¸¸ä¼šåœ¨åŸºç¡€ç»“æ„ç›¸å…³çš„æ“ä½œä¸­å‡ºç°ã€‚æ¯”å¦‚æˆ‘éœ€è¦åœ¨é›†ç¾¤ä¸­éƒ¨ç½² fluentd é‡‡é›† log ï¼Œä¸€èˆ¬æ¥è¯´éœ€è¦åœ¨ Pod é‡Œç›´æ¥æŒ‚è½½èŠ‚ç‚¹ç£ç›˜ä¸Šçš„æ–‡ä»¶è·¯å¾„ã€‚è¿™ç§æ—¶å€™å¦‚æœæœ‰ä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ²¡æœ‰è¿è¡Œ Pod ï¼Œé‚£ä¸ªèŠ‚ç‚¹çš„ log å°±é‡‡é›†ä¸åˆ°ï¼›å¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œå¤šä¸ª Pod æ¯«æ— æ„ä¹‰ï¼Œè€Œä¸”å¯èƒ½è¿˜ä¼šå¯¼è‡´ log é‡å¤ç­‰å†²çªã€‚\n\nè¿™ç§éœ€æ±‚ä¸‹ç®€å•åœ°ä½¿ç”¨ Replica Set æˆ–æ˜¯ Stateful Set éƒ½æ˜¯ä¸èƒ½è¾¾åˆ°è¦æ±‚çš„ï¼Œè¿™ä¸¤ç§èµ„æºéƒ½åªèƒ½é€šè¿‡äº²å’Œæ€§è¾¾åˆ°â€œå°½é‡ä¸éƒ¨ç½²åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹â€ï¼Œåšä¸åˆ°ç»å¯¹ã€‚è€Œä¸”å½“èŠ‚ç‚¹æ•°æœ‰å˜æ›´æ—¶è¿˜éœ€è¦æ‰‹åŠ¨æ›´æ”¹è®¾ç½®ã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç”¨ fluent-bit helm chart éƒ¨ç½²çš„ fluent-bit Daemon Set çš„ä¾‹å­ï¼š\n\n```yaml\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  labels:\n    app.kubernetes.io/instance: fluent-bit\n    app.kubernetes.io/name: fluent-bit\n  name: fluent-bit\n  namespace: fluent-bit\nspec:\n  selector:\n    matchLabels:\n      app.kubernetes.io/instance: fluent-bit\n      app.kubernetes.io/name: fluent-bit\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/instance: fluent-bit\n        app.kubernetes.io/name: fluent-bit\n    spec:\n      containers:\n      - image: cr.fluentbit.io/fluent/fluent-bit:1.9.5\n        volumeMounts:\n        - name: varlibdockercontainers\n          mountPath: /var/lib/docker/containers\n          readOnly: true\n        - name: etcmachineid\n          mountPath: /etc/machine-id\n          readOnly: true\n      volumes:\n      - name: varlibdockercontainers\n        hostPath:\n          path: /var/lib/docker/containers\n          type: \"\"\n      - name: etcmachineid\n        hostPath:\n          path: /etc/machine-id\n          type: File\n```\n\nSelector ä¹‹ç±»çš„éƒ½æ˜¯ä¸€æ ·çš„äº†ï¼Œè€Œ Daemon Set ä¸èƒ½æŒ‡å®š replicas ã€‚å¦å¤–å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ¯”è¾ƒåˆºæ¿€çš„åœ°æ–¹ï¼š Volume é‡Œä½¿ç”¨äº† `hostPath` è¿™ç§ Volume ï¼Œåœ¨ Pod é‡Œç›´æ¥æŒ‡å®šäº†å®¿ä¸»æœºç£ç›˜ä¸Šçš„è·¯å¾„ã€‚\n\nK8s è®¤ä¸ºç»è¿‡æŠ½è±¡åï¼Œ Pod ä¸åº”è¯¥å»å…³å¿ƒè‡ªå·±åœ¨å“ªå°å®¿ä¸»æœºä¸Šï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸æ¨èåœ¨ Pod é‡Œç›´æ¥è®¿é—®å®¿ä¸»æœºè·¯å¾„çš„ï¼ˆä¸è¿‡ä¹Ÿæ²¡æœ‰å¼ºåˆ¶ç¦æ­¢ï¼‰ã€‚ä¸è¿‡ Daemon Set æ˜¯ä¸ªç‰¹ä¾‹ï¼Œç”±äº Daemon Set ç”Ÿæˆçš„ Pod ä¸èŠ‚ç‚¹å¼ºç›¸å…³ï¼Œ K8s ååˆ†æ¨èåœ¨ä¸”ä»…åœ¨ Daemon Set çš„ Pod ä¸­è®¿é—®å®¿ä¸»æœºè·¯å¾„ã€‚\n\n### Job ä¸ CronJob\n\nReplica Set ï¼Œ Stateful Set ï¼Œ Daemon Set çš„ Pod ä¸­è¿è¡Œçš„ä¸€èˆ¬æ˜¯æŒç»­è¿è¡Œçš„ç¨‹åºï¼Œå› æ­¤è¿™äº› Pod è¿è¡Œç»ˆæ­¢åä¼šæœ‰ç›¸åº”çš„æœºåˆ¶é‡å¯è¿™äº› Pod ã€‚è€Œ Job ä¸ Cron Job è¿™ä¸¤ç§èµ„æºåˆ™ä¸“é—¨è´Ÿè´£è°ƒåº¦ä¸ä¼šæŒç»­è¿è¡Œçš„ç¨‹åºã€‚\n\nä¸‹é¢æ˜¯ ã€ŠKubernetes in Actionã€‹ ä¹¦ä¸­çš„ä¸€ä¸ªä¾‹å­ï¼š\n\n```yaml\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: pi\nspec:\n  completions: 5\n  parallelism: 2\n  template:\n    spec:\n      containers:\n      - name: pi\n        image: perl:5.34.0\n        command: [\"perl\",  \"-Mbignum=bpi\", \"-wle\", \"print bpi(2000)\"]\n      restartPolicy: Never\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ª Job æè¿°äº†ä¸€ä¸ªä¼šè¾“å‡º PI å°æ•°ç‚¹å 2000 ä½çš„ Pod æ¨¡æ¿ã€‚è¿™ä¸ª Job éƒ¨ç½²åï¼Œä¸€å…±ä¼šä»¥è¿™ä¸ªæ¨¡æ¿è·‘å®Œ 5 ä¸ª Pod ï¼Œå…¶ä¸­æœ€å¤šå¹¶è¡Œè·‘ 2 ä¸ªï¼Œå¹¶åœ¨å…¶ä¸­ä¸€ä¸ªæˆåŠŸç»ˆæ­¢åå†è·‘å‰©ä¸‹çš„ Pod ã€‚å¯ä»¥é€šè¿‡è°ƒæ•´ `completions` ä¸ `parallelism` å­—æ®µè°ƒæ•´å¹¶è¡Œä¸ç©¿è¡Œæ•°é‡ã€‚\n\né¡ºå¸¦ä¸€æï¼Œåœ¨ Job å®šä¹‰ä¸­ä¸€èˆ¬ä¸ä¼šå‡ºç° selector ï¼Œä½†å…¶å® Job æœ‰ selector å­—æ®µï¼Œä¸€èˆ¬ä¼šç”± K8s ä¸ºæ¯ä¸ª Job ç”Ÿæˆä¸€ä¸ª uuid ä½œä¸º selector ã€‚\n\nå¦å¤–ï¼Œå¯ä»¥é€šè¿‡éƒ¨ç½² CronJob è¿™ç§èµ„æºæ¥å®šæ—¶æ‰§è¡Œ Job ã€‚ä¸‹é¢æ˜¯ ã€ŠKubernetes in Actionã€‹ ä¹¦ä¸­å…³äº CronJob çš„ä¾‹å­ï¼š\n\n```yaml\napiVersion: batch/v1beta1\nkind: CronJob\nmetadata:\n  name: pi\nspec:\n  schedule: \"0 0 * * *\"\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n          - name: pi\n            image: perl:5.34.0\n            command: [\"perl\",  \"-Mbignum=bpi\", \"-wle\", \"print bpi(2000)\"]\n          restartPolicy: Never\n```\n\nè¿™ä¸ªä¾‹å­ä¸­ï¼Œ CronJob ä¼šåœ¨æ¯å¤©çš„ 0 ç‚¹åˆ›å»ºä¸€ä¸ªåªè¿è¡Œä¸€ä¸ª Pod çš„ Job ã€‚ CronJob ä¸ä¼šç›´æ¥åˆ›å»º Pod ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ª Job ï¼Œå†ç”± Job åˆ›å»º Pod ï¼ˆå°±åƒ Deployment ä¸ Replica Set çš„å…³ç³»ï¼‰ã€‚å¦å¤–ï¼Œ CronJob åˆ›å»ºçš„ Job ä¼šé™åˆ¶ `completions` ä¸ `parallelism` éƒ½åªèƒ½ç­‰äº 1 ã€‚\n\n\u003e å…³äºèµ„æºçš„åç§°ç©ºé—´\n\u003e \n\u003e åœ¨ K8s ä¸­ï¼Œå„èµ„æºéƒ½æ˜¯ä¸èƒ½é‡åçš„ã€‚ä¸èƒ½éƒ¨ç½²ä¸¤ä¸ªéƒ½å« `gateway` çš„ Pod ï¼Œèµ„æºä¹‹é—´æœ‰å¯èƒ½å› ä¸ºåå­—å†²çªè€Œå¯¼è‡´éƒ¨ç½²ä¸æˆåŠŸã€‚ï¼ˆéƒ¨ç½²ä¸€ä¸ªå« `gateway` çš„ Pod å’Œä¸€ä¸ªå« `gateway` çš„ Deployment å€’æ˜¯å¯ä»¥ï¼Œå› ä¸º `gateway` ä¸æ˜¯ä»–ä»¬ä¸¤ä¸ªçš„å…¨åï¼Œä»–ä»¬çš„å…¨ååˆ†åˆ«å« `pod/gateway` åŠ `deployment/gateway` ã€‚ï¼‰\n\u003e å¦å¤–æˆ‘ä»¬å·²ç»çŸ¥é“ Deployment ç­‰èµ„æºä¸€èˆ¬ä¼šé€šè¿‡æ ‡ç­¾ç­‰æ¥ç®¡ç†è‡ªå·±åˆ›å»ºçš„èµ„æºï¼Œé‚£ä¸¤ä»½ä¸ç›¸å…³çš„åº”ç”¨å®Œå…¨æœ‰å¯èƒ½ä¼šæ’æ ‡ç­¾ï¼Œè¿™æ—¶å€™éƒ¨ç½²é€»è¾‘å°±æœ‰å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚\n\u003e \n\u003e K8s ä¸­æä¾›äº†åç§°ç©ºé—´è¿™ç§èµ„æºï¼Œç”¨äºè¿›è¡Œèµ„æºéš”ç¦»ã€‚K8s ä¸­å¤§éƒ¨åˆ†èµ„æºéƒ½ä»å±äºä¸€ä¸ªä¸”ä»…ä»å±äºä¸€ä¸ªåç§°ç©ºé—´ï¼Œ Deployment ç­‰èµ„æºä¸€èˆ¬åªèƒ½æ§åˆ¶åœ¨åŒä¸€åç§°ç©ºé—´ä¸‹çš„èµ„æºï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–åç§°ç©ºé—´ã€‚\n\u003e \n\u003e å¦å¤–ï¼Œä¹Ÿæœ‰ä¸€äº›èµ„æºæ˜¯åç§°ç©ºé—´æ— å…³çš„ï¼Œæ¯”å¦‚èŠ‚ç‚¹ `Node` ã€‚\n\n\n","title":"Kubernetes å…¥é—¨ ï¼ˆ1ï¼‰","abstract":"æˆ‘ä»¬çŸ¥é“ K8s åˆ©ç”¨äº†å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚è€Œè¯´åˆ°å®¹å™¨è™šæ‹ŸåŒ–å°±è¦è¯´ Docker ã€‚å¯æ˜¯ï¼Œå®¹å™¨åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ Docker åˆä¸ºæˆ‘ä»¬åšäº†äº›ä»€ä¹ˆï¼Ÿæˆ‘ä»¬åˆä¸ºä»€ä¹ˆè¦ç”¨ K8s ï¼Ÿ\n\u003e è¦æŠŠä¸€ä¸ªä¸çŸ¥é“æ‰“è¿‡å¤šå°‘ä¸ªå‡çº§è¡¥ä¸ï¼Œä¸çŸ¥é“ç»å†äº†å¤šå°‘ä»»ç®¡ç†å‘˜çš„ç³»ç»Ÿè¿ç§»åˆ°å…¶ä»–æœºå™¨ä¸Šï¼Œæ¯«æ— ç–‘é—®ä¼šæ˜¯ä¸€åœºç¾éš¾ã€‚ â€”â€” Chad Fowler ã€ŠTrash Your Servers and Burn Your Codeã€‹\n\"Write once, run anywhere\" æ˜¯ Java æ›¾ç»çš„å£å·ã€‚ Java ä¼å›¾é€šè¿‡ JVM è™šæ‹Ÿæœºæ¥å®ç°ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºåœ¨å¤šå¹³å°é—´çš„ç§»æ¤æ€§ã€‚ä½†æˆ‘ä»¬ç°åœ¨çŸ¥é“ï¼Œ Java è¯­è¨€å¹¶æ²¡èƒ½å®ç°ä»–çš„ç›®æ ‡ï¼Œä¼šåœ¨æ“ä½œç³»ç»Ÿè°ƒç”¨ã€ç¬¬ä¸‰æ–¹ä¾èµ–ä¸¢å¤±ã€ä¸¤ä¸ªç¨‹åºé—´ä¾èµ–çš„å†²çªç­‰å„æ–¹é¢å‡ºç°é—®é¢˜ã€‚","length":644,"created_at":"2022-08-13T17:45:31.000Z","updated_at":"2022-08-20T14:02:18.000Z","tags":["Kubernetes","DevOps","Docker","Cloud Native"],"license":true,"headingTrees":[{"key":"å®¹å™¨-docker-ä¸-k8s","href":"#å®¹å™¨-docker-ä¸-k8s","heading":1,"title":"å®¹å™¨ï¼Œ Docker ä¸ K8s","children":[{"key":"å…³äºå®¹å™¨è™šæ‹ŸåŒ–","href":"#å…³äºå®¹å™¨è™šæ‹ŸåŒ–","heading":3,"title":"å…³äºå®¹å™¨è™šæ‹ŸåŒ–","children":[],"id":"å…³äºå®¹å™¨è™šæ‹ŸåŒ–"},{"key":"å…³äº-docker","href":"#å…³äº-docker","heading":3,"title":"å…³äº Docker","children":[],"id":"å…³äº-docker"},{"key":"ä¸ºä»€ä¹ˆè¦ç”¨-k8s-","href":"#ä¸ºä»€ä¹ˆè¦ç”¨-k8s-","heading":3,"title":"ä¸ºä»€ä¹ˆè¦ç”¨ K8s ï¼Ÿ","children":[],"id":"ä¸ºä»€ä¹ˆè¦ç”¨-k8s-"},{"key":"k8s-ä¸-docker-çš„å…³ç³»","href":"#k8s-ä¸-docker-çš„å…³ç³»","heading":3,"title":"K8s ä¸ Docker çš„å…³ç³»","children":[],"id":"k8s-ä¸-docker-çš„å…³ç³»"}],"id":"å®¹å™¨-docker-ä¸-k8s"},{"key":"éƒ¨ç½²ä¸€ä¸ª-pod","href":"#éƒ¨ç½²ä¸€ä¸ª-pod","heading":1,"title":"éƒ¨ç½²ä¸€ä¸ª Pod","children":[{"key":"pod-ç¤ºä¾‹","href":"#pod-ç¤ºä¾‹","heading":3,"title":"Pod ç¤ºä¾‹","children":[],"id":"pod-ç¤ºä¾‹"}],"id":"éƒ¨ç½²ä¸€ä¸ª-pod"},{"key":"éƒ¨ç½²æ›´å¤š-pod","href":"#éƒ¨ç½²æ›´å¤š-pod","heading":1,"title":"éƒ¨ç½²æ›´å¤š Pod","children":[{"key":"replica-set","href":"#replica-set","heading":3,"title":"Replica Set","children":[],"id":"replica-set"},{"key":"deployment","href":"#deployment","heading":3,"title":"Deployment","children":[],"id":"deployment"},{"key":"stateful-set","href":"#stateful-set","heading":3,"title":"Stateful Set","children":[],"id":"stateful-set"},{"key":"daemon-set","href":"#daemon-set","heading":3,"title":"Daemon Set","children":[],"id":"daemon-set"},{"key":"job-ä¸-cronjob","href":"#job-ä¸-cronjob","heading":3,"title":"Job ä¸ CronJob","children":[],"id":"job-ä¸-cronjob"}],"id":"éƒ¨ç½²æ›´å¤š-pod"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2022-07-31-why-homogeneous.md","pagePath":"/articles/why-homogeneous","slug":"why-homogeneous"},"meta":{"content":"## é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯çº¿æ€§å˜æ¢ï¼Ÿ\n\nç®€åŒ–äº†ä¸€ä¸‡å€æ¥è¯´ï¼Œçº¿æ€§å˜æ¢ä¸»è¦æ˜¯åœ¨æè¿°ç¬¦åˆè¿™ä¸¤ç§æ€§è´¨çš„å˜æ¢ï¼šä¸€æ˜¯è¦å¯åŠ ï¼ŒäºŒæ˜¯è¦èƒ½æ•°ä¹˜ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºç©ºé—´ä¸­æ‰€æœ‰å‘é‡ $$\\vec{v_1}, \\vec{v_2}$$ ï¼Œä»¥åŠä»»æ„æ•°é‡ $$k_1, k_2$$ ï¼Œå¦‚æœæœ‰ï¼š\n$$\nA(k_1 \\vec{v_1} + k_2 \\vec{v_2}) = k_1 A(\\vec{v_1}) + k_2 A(\\vec{v_2})\n$$\nç¬¦åˆè¿™ç§è§„å¾‹çš„ A å°±å«çº¿æ€§å˜æ¢ã€‚è€Œä¸€æ¬¡çŸ©é˜µä¹˜æ³•æ­£å¥½å¯ä»¥ä»£è¡¨ä¸€æ¬¡çº¿æ€§å˜æ¢ã€‚\n\nä¸ºä»€ä¹ˆå«â€œçº¿æ€§â€å˜æ¢å‘¢ï¼Ÿæ„Ÿæ€§åœ°æ¥è¯´ï¼Œå› ä¸ºå®ƒå¾ˆâ€œçº¿â€ã€‚\n\næˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°ä»ä¸‹é¢è¿™å¼ å›¾çœ‹å‡ºåŸå› ï¼š\n\n![[OnOneLineWillStillOneLine_ManimCE_v0.16.0.post0.gif]]\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨åŒä¸€ç›´çº¿ä¸Šçš„ç‚¹ï¼Œç»è¿‡åŒä¸€çº¿æ€§å˜æ¢åè¿˜åœ¨åŒä¸€ç›´çº¿ä¸Šã€‚æ‰€ä»¥å®ƒå¾ˆâ€œçº¿â€ã€‚\n\nå¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾ä¸€æ‰¾æœ€ç®€å•çš„çº¿æ€§å˜æ¢ï¼š\n\nè€ƒè™‘å‡½æ•°ï¼š\n$$\nf(x) = k_0 x\n$$\næˆ‘ä»¬éƒ½çŸ¥é“è¿™æ˜¯ä¸€æ¡è¿‡åŸç‚¹çš„ç›´çº¿ã€‚\n\nè€Œä»å¦ä¸€æ–¹é¢æƒ³ï¼Œå…¶å®è¿™ä¸ªå‡½æ•°å¯¹äºä»»æ„ä¸€ç»´å‘é‡ï¼ˆå®æ•°ï¼‰ $$x_1, x_2$$ , ä¸ä»»æ„æ•°é‡ï¼ˆå®æ•°ï¼‰ $$k_1, k_2$$ , éƒ½æœ‰ï¼š\n$$\nf(k_1 x_1 + k_2 x_2) = k_1 k_0 x_1 + k_2 k_0 x_2 = k_1 f(x_1) + k_2 f(x_2) \\\\\n$$\n\nå³ï¼Œ xy å¹³é¢ä¸Šè¿‡åŸç‚¹çš„ç›´çº¿ï¼ˆæ­£æ¯”ä¾‹å‡½æ•°ï¼‰æœ¬èº«å°±æ˜¯ä¸€ç§ä» x è½´åˆ° y è½´çš„çº¿æ€§å˜æ¢ã€‚\n\nå…³äºçº¿æ€§å˜æ¢ï¼Œ [3blue1Brown](https://www.3blue1brown.com/topics/linear-algebra) ä¸Šæœ‰æ›´è¯¦ç»†æ›´æ„Ÿæ€§çš„ä»‹ç»ï¼Œå¤§å®¶æ„Ÿå…´è¶£å¯ä»¥å‰å¾€è§‚çœ‹ã€‚\n\n## ä¸ºä»€ä¹ˆæ™®é€šçš„çº¿æ€§å˜æ¢ä¸èƒ½è¡¨ç¤ºç‚¹å¹³ç§»ï¼Ÿ\n\nä»ä¸Šé¢çš„æ„Ÿæ€§ä»‹ç»æ¥çœ‹ï¼Œæˆ‘ä»¬çŸ¥é“çº¿æ€§å˜æ¢çš„æ€§è´¨å°±æ˜¯å¯åŠ å’Œæ•°ä¹˜ï¼Œå†™æˆç­‰å¼å°±æ˜¯ï¼š\n\n$$\nA(k_1 \\vec{v_1} + k_2 \\vec{v_2}) = k_1 A(\\vec{v_1}) + k_2 A(\\vec{v_2})\n$$\n\nè€Œå½“ä¸¤ä¸ªå‘é‡éƒ½ä¸ºé›¶å‘é‡æ—¶ï¼Œç­‰å¼å°±ä¼šç®€åŒ–æˆï¼š\n\n$$\nA(\\vec{0}) = A(\\vec{0}) + A(\\vec{0})\n$$\n\nè§£ä¸€ä¸‹æ–¹ç¨‹ï¼Œå°±å¯ä»¥çŸ¥é“ï¼Œå¯¹ä»»æ„çº¿æ€§å˜æ¢ Aï¼Œéƒ½ä¼šæœ‰ï¼š\n\n$$\nA(\\vec{0}) = 0\n$$\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡æ˜¯å“ªä¸ªçº¿æ€§å˜æ¢ A ï¼ŒåŸç‚¹ç»è¿‡å˜æ¢åéƒ½å¿…é¡»åªèƒ½æ˜¯åœ¨åŸç‚¹ä¸å˜ã€‚å¦‚æœå˜æ¢ååŸç‚¹çš„ä½ç½®å˜äº†ï¼Œé‚£å®ƒå°±ä¸€å®šä¸æ˜¯çº¿æ€§å˜æ¢ã€‚\n\næˆ‘ä»¬ä»ä¸‹å›¾ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå¯¹äºåˆ‡å˜ $$\\begin{pmatrix}1 \u0026 1 \\\\ 0 \u0026 1\\end{pmatrix}$$ ã€ä¼¸ç¼© $$ \\begin{pmatrix}2 \u0026 0 \\\\ 0 \u0026 \\frac{1}{2}\\end{pmatrix} $$ã€æ—‹è½¬ $$ \\begin{pmatrix}\n    \\frac{\\sqrt{3}}{2} \u0026 -\\frac{1}{2} \\\\ \\frac{1}{2} \u0026 \\frac{\\sqrt{3}}{2}\n\\end{pmatrix} $$ è¿™äº›ç»å…¸çš„çº¿æ€§å˜æ¢ï¼Œå˜æ¢ååŸç‚¹éƒ½ä¸ä¼šå˜ã€‚\n\n![[SliceScaleRotateForOrigin_ManimCE_v0.16.0.post0.gif]]\n\nä½†æ˜¯å¹³ç§»è¿™ç§å˜æ¢ä¸ä¸€æ ·ã€‚åŸç‚¹ç»è¿‡å¹³ç§»åï¼Œæ˜¯ä¸€å®šä¸ä¼šè¿˜ç•™åœ¨åŸç‚¹çš„ã€‚å› æ­¤å¹³ç§»ä¸æ˜¯ä¸€ç§çº¿æ€§å˜æ¢ï¼Œè‡ªç„¶ä¹Ÿä¸èƒ½ç”¨çŸ©é˜µæ¥è¡¨ç¤ºã€‚\n\n## ä¸ºä»€ä¹ˆåŸºäºé½æ¬¡åæ ‡ä¸‹çš„çº¿æ€§å˜æ¢å°±å¯ä»¥è¡¨ç¤ºå¹³ç§»ï¼Ÿ\n\næˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹é½æ¬¡åæ ‡åšäº†äº›ä»€ä¹ˆã€‚\n\nåœ¨ä¸Šé¢ä¼ ç»Ÿçš„çº¿æ€§å˜æ¢ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šè€ƒè™‘å‘é‡ä¸ç‚¹çš„åŒºåˆ«ã€‚ä¸€ä¸ªäºŒç»´åæ ‡ $$(x, y)$$ æ—¢èƒ½ä»£è¡¨é‚£ä¸ªåæ ‡ä¸Šçš„ç‚¹ï¼Œä¹Ÿèƒ½ä»£è¡¨ä»åŸç‚¹åˆ° $$(x, y)$$ çš„å‘é‡ã€‚è¿™æ—¶ï¼Œç‚¹ä¸å‘é‡æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚\n\nä½†å¦‚æœè¦è€ƒè™‘å¹³ç§»ï¼Œç‚¹ä¸å‘é‡å°±ä¸èƒ½å†ä¸€ä¸€å¯¹åº”äº†ï¼Œå› ä¸ºå¯¹å‘é‡å¹³ç§»æ²¡æœ‰æ„ä¹‰ï¼ˆä¸è€ƒè™‘ç‰©ç†ä¸­åŠ›çŸ©çš„åœºæ™¯ï¼‰ã€‚\næ‰€ä»¥åœ¨é½æ¬¡åæ ‡ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åŒºåˆ†è¿™ä¸ªåæ ‡ä»£è¡¨çš„æ˜¯ç‚¹è¿˜æ˜¯å‘é‡ã€‚\n\nä»¥äºŒç»´ç©ºé—´ä¸ºä¾‹ï¼Œé½æ¬¡åæ ‡å°±æ˜¯åœ¨äºŒç»´ç©ºé—´ä¸ŠåŠ äº†ç¬¬ä¸‰ä¸ªç»´åº¦ w è½´ï¼ŒäºŒç»´ç©ºé—´é‡Œçš„ç‚¹åœ¨ w è½´ä¸Šçš„å€¼ä¸º 1 ï¼Œè€ŒäºŒç»´å‘é‡åœ¨ w è½´ä¸Šçš„å€¼å¯¹åº”ä¸º 0 ï¼š\n\n$$\n\\begin{align}\n    P \u0026= \\begin{pmatrix}x \u0026 y \u0026 1\\end{pmatrix} \\\\\n    \\vec{v} \u0026= \\begin{pmatrix}v_x \u0026 v_y \u0026 0\\end{pmatrix}\n\\end{align}\n$$\n\nä»å­—é¢ä¸Šçœ‹å¯èƒ½è¿˜æ˜¯ä¸å¤ªæ˜æ˜¾ï¼Œè®©æˆ‘ä»¬è¯•ç€æŠŠäºŒç»´ç©ºé—´é½æ¬¡åæ ‡å¼ºè¡Œè½¬åŒ–ä¸ºä¸‰ç»´ç©ºé—´åæ ‡çœ‹çœ‹ï¼š\n\n![[HomogeneousTransform_ManimCE_v0.16.0.post0.gif]]\n\næˆ‘ä»¬å‘ç°ï¼ŒåŸæ¥äºŒç»´ç©ºé—´ä¸­çš„ç‚¹ï¼Œè¢«æŠ•å°„åˆ°ä¸‰ç»´ç©ºé—´ä¸­ w = 1 çš„å¹³é¢ä¸Šäº†ï¼\n\nè¿™æ ·ä¸€æ¥ï¼ŒäºŒç»´ç©ºé—´é½æ¬¡åæ ‡ä¸‹çš„å¹³ç§»çŸ©é˜µä¹Ÿå¾ˆå¥½ç†è§£äº†ï¼š\n\n$$\nå°†å¹³é¢æ²¿å‘é‡ (x, y) å¹³ç§»ï¼š\n\\begin{pmatrix}\n    1 \u0026 0 \u0026 x \\\\\n    0 \u0026 1 \u0026 y \\\\\n    0 \u0026 0 \u0026 1\n\\end{pmatrix}\n$$\n\nè¿™ä¸å°±æ˜¯ä¸‰ç»´ç©ºé—´ä¸­åœ¨ w è½´ä¸Šåšåˆ‡å˜æ—¶çš„å˜æ¢çŸ©é˜µå˜›ï¼\n\næˆ‘ä»¬å¯ä»¥é‡ç‚¹å…³æ³¨ä¸€ä¸‹ $$\\begin{pmatrix}0\\\\0\\\\1\\end{pmatrix}$$ è¿™ä¸ªå‘é‡ã€‚\nä»é½æ¬¡åæ ‡çš„å®šä¹‰æ¥çœ‹ï¼Œè¿™ä¸ªå‘é‡å¯¹åº”ç€äºŒç»´ç©ºé—´ä¸­çš„åŸç‚¹ $$P_{Origin} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$$ ã€‚è€Œç”±çŸ©é˜µä¹˜æ³•è®¡ç®—å¯çŸ¥ï¼Œç»è¿‡ $$ A = \\begin{pmatrix} 1 \u0026 0 \u0026 x \\\\ 0 \u0026 1 \u0026 y \\\\ 0 \u0026 0 \u0026 1 \\end{pmatrix} $$ å¯¹åº”çš„çº¿æ€§å˜æ¢åï¼Œ $$ \\begin{pmatrix}0\\\\0\\\\1\\end{pmatrix} $$ è¿™ä¸ªå‘é‡ä¼šè¢«æ˜ å°„åˆ° $$ \\begin{pmatrix}x\\\\y\\\\1\\end{pmatrix} $$ ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒäºŒç»´ç©ºé—´åŸç‚¹ $$ P_{Origin} = \\begin{pmatrix}0\\\\0\\end{pmatrix}$$ ç»è¿‡å˜æ¢åä¼šå˜ä¸º $$ P_{Origin}' = A(P_{Origin}) = \\begin{pmatrix}x\\\\y\\end{pmatrix}$$ ã€‚\n\nè€Œå¯¹äºäºŒç»´ç©ºé—´ä¸­çš„å‘é‡ $$\\vec{v}=\\begin{pmatrix}v_x\\\\v_y\\end{pmatrix}$$ ï¼Œå…¶é½æ¬¡åæ ‡ä¸‹ w è½´æ–¹å‘åˆ†é‡ä¸º 0 ï¼Œå› æ­¤ w è½´æ–¹å‘ä¸Šçš„åˆ‡å˜å¹¶ä¸ä¼šå½±å“äºŒç»´ç©ºé—´ä¸­çš„å‘é‡ã€‚å³ $$ \\vec{v'} = A(\\vec{v}) = \\vec{v} $$ ã€‚\n\nè€Œå¯¹äºåŸæ¥äºŒç»´ç©ºé—´ä¸­çš„å…¶ä»–ç‚¹çš„åæ ‡ï¼š\n$$\nP = \\begin{pmatrix}x_0\\\\y_0\\end{pmatrix}\n$$ \nå…¶å®å¯ä»¥ç†è§£ä¸ºåŸç‚¹åæ ‡å†åŠ ä¸Šä¸€ä¸ªåç§»å‘é‡ï¼š\n$$\nP = \\begin{pmatrix}0\\\\0\\end{pmatrix} + \\begin{pmatrix}x_0\\\\y_0\\end{pmatrix} = P_{Origin} + \\vec{v}_{x,y}\n$$\n\nè€Œåœ¨é½æ¬¡åæ ‡ä¸‹ï¼Œç‚¹åæ ‡ = åŸç‚¹åæ ‡ + åç§»å‘é‡ è¿™ä¸€ç­‰å¼ä»ç„¶æˆç«‹ï¼š\n$$\nP =  \\begin{pmatrix}x_0\\\\y_0\\\\1\\end{pmatrix} = \\begin{pmatrix}0\\\\0\\\\1\\end{pmatrix} + \\begin{pmatrix}x_0\\\\y_0\\\\0\\end{pmatrix} = P_{Origin} + \\vec{v}_{x,y}\n$$\n\nè€Œç”±äºåˆ‡å˜æ˜¯çº¿æ€§å˜æ¢ï¼Œå› æ­¤æœ‰ï¼š\n\n$$\n\\begin{align}\nP' \u0026= A(P) \\\\\n\u0026= A(P_{Origin} + \\vec{v}_{x,y}) \\\\\n\u0026= A(P_{Origin}) + A(\\vec{v}_{x,y}) \\\\\n\u0026= P_{Origin}' + \\vec{v}_{x,y} \\\\\n\\end{align}\n$$\n\nå› ä¸ºåˆ‡å˜å‰ååç§»å‘é‡æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤äºŒç»´ç©ºé—´ä¸Šçš„ç‚¹ç»å˜æ¢åç›¸å¯¹äºåŸç‚¹çš„æ–¹å‘ã€è·ç¦»éƒ½æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚ç”±æ­¤ä¹Ÿå¯å¾—å‡ºï¼ŒåŸå…ˆç”±äºŒç»´ç©ºé—´ä¸­çš„ç‚¹ç»„æˆçš„å›¾æ¡ˆï¼Œç»é½æ¬¡åæ ‡ä¸‹ w è½´çš„åˆ‡å˜åï¼Œå…¶å¤§å°ã€å½¢çŠ¶ã€æ–¹å‘éƒ½ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚\n\n![[SliceOnHomogeneousWithGraph_ManimCE_v0.16.0.post0.gif]]\n\nè€Œè¿™ç§å¤§å°ã€å½¢çŠ¶ã€æ–¹å‘éƒ½ä¸å˜åŒ–ï¼Œåªæœ‰æ•´ä½“ä½ç½®å‘ç”Ÿäº†å˜åŒ–çš„å˜æ¢ï¼Œæ­£æ˜¯æˆ‘ä»¬ä¸€èˆ¬æ‰€è¯´çš„â€œå¹³ç§»â€ã€‚å› æ­¤åœ¨é½æ¬¡åæ ‡ä¸‹ï¼Œæˆ‘ä»¬èƒ½é€šè¿‡çº¿æ€§å˜æ¢ï¼ˆaka çŸ©é˜µä¹˜æ³•ï¼‰è¡¨ç¤ºå¹³ç§»ã€‚\n\n\u003e å…¶å® $$\\begin{pmatrix}1 \u0026 0 \u0026 x \\\\0 \u0026 1 \u0026 y \\\\0 \u0026 0 \u0026 1\\end{pmatrix}$$ å¯¹åº”åˆ‡å˜ä½œç”¨åå„ç‚¹åæ ‡å¦‚ä½•å˜åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œ 3Blue1Brown çš„[è¿™ä¸ªè§†é¢‘](https://www.3blue1brown.com/lessons/matrix-multiplication) æœ‰æ›´ç›´è§‚æ˜äº†çš„è§£é‡Šï¼Œå¤§å®¶å¯ä»¥å‚è€ƒã€‚\n\n## æ€»ç»“ä¸€ä¸‹\n\nQ: ä¸ºä»€ä¹ˆæ™®é€šçš„çŸ©é˜µä¹˜æ³•ä¸èƒ½è¡¨ç¤ºå¹³ç§»ï¼Ÿ\nA: å› ä¸ºçŸ©é˜µä¹˜æ³•åªèƒ½è¡¨ç¤ºçº¿æ€§å˜æ¢ã€‚å¹³ç§»ä¸æ˜¯çº¿æ€§å˜æ¢ã€‚\n\nQ: ä¸ºä»€ä¹ˆåœ¨é½æ¬¡åæ ‡ä¸‹çš„çŸ©é˜µä¹˜æ³•åˆèƒ½è¡¨ç¤ºå¹³ç§»ï¼Ÿ\nA: å› ä¸ºé½æ¬¡åæ ‡å¢åŠ äº†ä¸€ä¸ªç»´åº¦ã€‚å¹³ç§»å˜æ¢çŸ©é˜µå…¶å®æ˜¯åœ¨æ–°å¢çš„è¿™ä¸ªç»´åº¦ä¸Šåšåˆ‡å˜ï¼ˆä¸€ç§çº¿æ€§å˜æ¢ï¼‰ã€‚åˆ‡å˜åçš„ç»“æœæ­£å¥½å°±æ˜¯åŸåæ ‡ä¸­çš„å¹³ç§»å˜æ¢ã€‚\n\n\n","title":"ä¸ºä»€ä¹ˆä½¿ç”¨åœ¨é½æ¬¡åæ ‡ä¸‹çŸ©é˜µä¹˜æ³•èƒ½è¡¨ç¤ºç‚¹å¹³ç§»ï¼Ÿ","abstract":"ç®€åŒ–äº†ä¸€ä¸‡å€æ¥è¯´ï¼Œçº¿æ€§å˜æ¢ä¸»è¦æ˜¯åœ¨æè¿°ç¬¦åˆè¿™ä¸¤ç§æ€§è´¨çš„å˜æ¢ï¼šä¸€æ˜¯è¦å¯åŠ ï¼ŒäºŒæ˜¯è¦èƒ½æ•°ä¹˜ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºç©ºé—´ä¸­æ‰€æœ‰å‘é‡ $$\\vec{v_1}, \\vec{v_2}$$ ï¼Œä»¥åŠä»»æ„æ•°é‡ $$k_1, k_2$$ ï¼Œå¦‚æœæœ‰ï¼š\n$$","length":149,"created_at":"2022-07-31T15:35:17.000Z","updated_at":"2022-08-05T17:45:09.000Z","tags":[],"license":true,"headingTrees":[{"key":"created_at-2022-07-31-153517updated_at-2022-08-06-0145090800title-ä¸ºä»€ä¹ˆä½¿ç”¨åœ¨é½æ¬¡åæ ‡ä¸‹çŸ©é˜µä¹˜æ³•èƒ½è¡¨ç¤ºç‚¹å¹³ç§»license-truedate-2022-07-31-153517tags","href":"#created_at-2022-07-31-153517updated_at-2022-08-06-0145090800title-ä¸ºä»€ä¹ˆä½¿ç”¨åœ¨é½æ¬¡åæ ‡ä¸‹çŸ©é˜µä¹˜æ³•èƒ½è¡¨ç¤ºç‚¹å¹³ç§»license-truedate-2022-07-31-153517tags","heading":2,"title":"created_at: 2022-07-31 15:35:17\nupdated_at: 2022-08-06 01:45:09+08:00\ntitle: ä¸ºä»€ä¹ˆä½¿ç”¨åœ¨é½æ¬¡åæ ‡ä¸‹çŸ©é˜µä¹˜æ³•èƒ½è¡¨ç¤ºç‚¹å¹³ç§»ï¼Ÿ\nlicense: true\ndate: 2022-07-31 15:35:17\ntags:","children":[],"id":"created_at-2022-07-31-153517updated_at-2022-08-06-0145090800title-ä¸ºä»€ä¹ˆä½¿ç”¨åœ¨é½æ¬¡åæ ‡ä¸‹çŸ©é˜µä¹˜æ³•èƒ½è¡¨ç¤ºç‚¹å¹³ç§»license-truedate-2022-07-31-153517tags"},{"key":"é¦–å…ˆä»€ä¹ˆæ˜¯çº¿æ€§å˜æ¢","href":"#é¦–å…ˆä»€ä¹ˆæ˜¯çº¿æ€§å˜æ¢","heading":2,"title":"é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯çº¿æ€§å˜æ¢ï¼Ÿ","children":[],"id":"é¦–å…ˆä»€ä¹ˆæ˜¯çº¿æ€§å˜æ¢"},{"key":"ä¸ºä»€ä¹ˆæ™®é€šçš„çº¿æ€§å˜æ¢ä¸èƒ½è¡¨ç¤ºç‚¹å¹³ç§»","href":"#ä¸ºä»€ä¹ˆæ™®é€šçš„çº¿æ€§å˜æ¢ä¸èƒ½è¡¨ç¤ºç‚¹å¹³ç§»","heading":2,"title":"ä¸ºä»€ä¹ˆæ™®é€šçš„çº¿æ€§å˜æ¢ä¸èƒ½è¡¨ç¤ºç‚¹å¹³ç§»ï¼Ÿ","children":[],"id":"ä¸ºä»€ä¹ˆæ™®é€šçš„çº¿æ€§å˜æ¢ä¸èƒ½è¡¨ç¤ºç‚¹å¹³ç§»"},{"key":"ä¸ºä»€ä¹ˆåŸºäºé½æ¬¡åæ ‡ä¸‹çš„çº¿æ€§å˜æ¢å°±å¯ä»¥è¡¨ç¤ºå¹³ç§»","href":"#ä¸ºä»€ä¹ˆåŸºäºé½æ¬¡åæ ‡ä¸‹çš„çº¿æ€§å˜æ¢å°±å¯ä»¥è¡¨ç¤ºå¹³ç§»","heading":2,"title":"ä¸ºä»€ä¹ˆåŸºäºé½æ¬¡åæ ‡ä¸‹çš„çº¿æ€§å˜æ¢å°±å¯ä»¥è¡¨ç¤ºå¹³ç§»ï¼Ÿ","children":[],"id":"ä¸ºä»€ä¹ˆåŸºäºé½æ¬¡åæ ‡ä¸‹çš„çº¿æ€§å˜æ¢å°±å¯ä»¥è¡¨ç¤ºå¹³ç§»"},{"key":"æ€»ç»“ä¸€ä¸‹","href":"#æ€»ç»“ä¸€ä¸‹","heading":2,"title":"æ€»ç»“ä¸€ä¸‹","children":[],"id":"æ€»ç»“ä¸€ä¸‹"}],"wikiRefAliases":[],"richRefAliases":["OnOneLineWillStillOneLine_ManimCE_v0.16.0.post0.gif","SliceScaleRotateForOrigin_ManimCE_v0.16.0.post0.gif","HomogeneousTransform_ManimCE_v0.16.0.post0.gif","SliceOnHomogeneousWithGraph_ManimCE_v0.16.0.post0.gif"]}},{"pathMapping":{"filePath":"public/content/articles/2022-07-19-graph-for-economics-2.md","pagePath":"/articles/graph-for-economics-2","slug":"graph-for-economics-2"},"meta":{"content":"\n\u003e 1. è¿™ç¯‡æ–‡ç« å‚è€ƒäº†æ›¼æ˜†çš„ã€Šç»æµå­¦åŸç†ã€‹ä¸åŒ—äº¬å¤§å­¦ç‹è¾‰è€å¸ˆçš„ã€Šå¾®è§‚ç»æµå­¦ã€‹è¯¾ç¨‹ï¼Œå†…å®¹ä¸Šä¼šæœ‰éƒ¨åˆ†ç›¸ä¼¼ã€‚\n\u003e 2. è¿™ç¯‡æ–‡ç« ä¸­çš„å›¾ä½¿ç”¨ 3Blue1Brown çš„åŠ¨ç”»ç”Ÿæˆå·¥å…· manim çš„ Community Edition åˆ¶ä½œï¼Œæºä»£ç ä¹‹åä¼šä¸Šä¼ åˆ° GitHub ã€‚\n\nä¸Šä¸€ç¯‡è®²ä¾›ç»™ï¼Œè¿™ä¸€ç¯‡è®²éœ€æ±‚ã€‚\nå…¶å®ä¾›ç»™ä¸éœ€æ±‚æœ‰å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ï¼Œæœ‰æ—¶åªéœ€è¦å¥—ä¸€ä¸‹ä¸Šä¸€ç¯‡ä¸­ç»™å‡ºçš„æ¨¡å‹å°±èƒ½æ±‚è§£ã€‚å› æ­¤å„ä½å¦‚æœè¿˜æ²¡æœ‰çœ‹è¿‡ä¸Šä¸€ç¯‡ï¼Œå¯ä»¥å…ˆçœ‹å®Œå†å›æ¥çœ‹è¿™ä¸€ç¯‡å†…å®¹ä¹Ÿä¸è¿Ÿã€‚\n\nè®²éœ€æ±‚æ›²çº¿çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå…ˆå‡è®¾æ¶ˆè´¹è€…æ˜¯ä¸€ä¸ªç†æ€§äººï¼Œåšå†³ç­–æ—¶ä¼šå°†æˆæœ¬ä¸æ”¶ç›Šä½œæ¯”è¾ƒã€‚æ¯”å¦‚åœ¨ä¹°å†°é…’è¿™ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬å°±ä¼šæ¯”è¾ƒå†°é…’çš„ä»·æ ¼ä¸æˆ‘ä»¬å–å†°é…’çˆ½åˆ°çš„æ»¡è¶³æ„Ÿï¼ˆæ„æ„¿æ”¯ä»˜ä»·æ ¼ï¼‰ï¼Œå¦‚æœå†°é…’ä»·æ ¼ä½äºæ„æ„¿æ”¯ä»˜ä»·æ ¼æˆ‘ä»¬å°±ä¼šå»ä¹°è¿™ç“¶å†°é…’ã€‚\n\nè€Œå‡å¦‚æˆ‘ä»¬æ˜¯è‘¡è„åº„å›­ä¸»ï¼Œæˆ‘ä»¬å½“ç„¶ä¹Ÿä¼šå»æ¯”è¾ƒå„ç§æ”¶ç›Šä¸æˆæœ¬ï¼Œæ¥å†³å®šæ˜¯å¦åˆ¶ä½œå†°é…’æ‹¿å‡ºå»å–ã€‚\n\nå½“æˆ‘ä»¬é€‰æ‹©åˆ¶ä½œå†°é…’æ‹¿å‡ºå»å–ï¼Œé‚£æ”¶ç›Šè‡ªç„¶å°±æ˜¯å–å†°é…’æ‰€èƒ½æ‹¿åˆ°çš„é’±ï¼Œä¹Ÿå°±æ˜¯å†°é…’çš„ä»·æ ¼ã€‚\n\nä½†é€‰æ‹©åˆ¶ä½œå†°é…’æ‹¿å‡ºå»å–çš„æˆæœ¬å‘¢ï¼Ÿ\n\n# æœºä¼šæˆæœ¬\n\næœ‰ä¸€èˆ¬ä¼šè®¡å¸¸è¯†çš„äººå¯èƒ½ä¼šå¾ˆå¿«ç­”å‡ºï¼šæˆæœ¬ä¸å°±æ˜¯ä¹°ç§å­ã€ç§è‘¡è„ã€é…¿é…’ç­‰è¿‡ç¨‹ä¸­èŠ±æ‰çš„é’±å˜›ï¼\n\nä½†å®é™…ä¸Šé—®é¢˜æ²¡æœ‰è¿™ä¹ˆç®€å•ã€‚å› ä¸ºæˆ‘ä»¬çš„å†³ç­–æ˜¯â€œåˆ¶ä½œå†°é…’æ‹¿å‡ºå»å–â€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»è®¡ç®—åšå‡ºå†³ç­–å’Œä¸åšå‡ºå†³ç­–ä¸¤ç§æƒ…å†µä¹‹é—´çš„å·®åˆ«ã€‚\nå¦‚æœå†³å®šä¸åˆ¶ä½œå†°é…’æ‹¿å‡ºå»å–ï¼Œé‚£æˆ‘ä»¬å¯ä»¥çœä¸‹ä¸€å¤§ç¬”æ—¶é—´ä¸èµ„é‡‘ã€‚æˆ‘ä»¬å¯ä»¥æ‹¿ç€è¿™äº›æ—¶é—´ä¸èµ„é‡‘å»åšå…¶ä»–äº‹æƒ…ï¼Œæ¯”å¦‚å¯ä»¥å»ç§è¥¿ç“œå–ï¼Œå¯ä»¥å»æŠ•èµ„ï¼Œç”šè‡³å¯ä»¥å»æ‰“å·¥å½“ç å†œã€‚è¿™äº›æ´»åŠ¨éƒ½å¯ä»¥è·å¾—æ”¶ç›Šã€‚\nè€Œå¦‚æœå†³å®šå»åˆ¶ä½œå†°é…’æ‹¿å‡ºå»å–ï¼Œå°±ä»£è¡¨ä½ ä¸ºäº†è·å¾—å–å†°é…’çš„æ”¶ç›Šï¼Œè¦é€‰æ‹©æ”¾å¼ƒä¸Šé¢è¿™äº›æ´»åŠ¨ä¸­è·å¾—çš„æ”¶ç›Šã€‚â€œæ”¾å¼ƒè·å¾—è¿™äº›æ”¶ç›Šçš„æœºä¼šâ€ä¹Ÿæ˜¯ä½ å–å†°é…’çš„æˆæœ¬ã€‚\n\nä¸ºäº†ä¸å¸¸è¯†ä¸­æ‰€è¯´çš„æˆæœ¬åšåŒºåˆ«ï¼Œæˆ‘ä»¬æŠŠè¿™ç§ç®—ä¸Šæ”¾å¼ƒæ”¶ç›Šæœºä¼šçš„æˆæœ¬ç§°ä¸º**æœºä¼šæˆæœ¬**ã€‚ç»æµå­¦ä¸­å¸¸è¯´çš„æˆæœ¬çš„ä¹Ÿæ˜¯æœºä¼šæˆæœ¬ã€‚\n\n\u003e **æœºä¼šæˆæœ¬**ï¼ˆ Opportunity cost ï¼‰ï¼šæ˜¯æŒ‡ä¸ºäº†å¾—åˆ°æŸç§ä¸œè¥¿æ‰€å¿…é¡»æ”¾å¼ƒçš„ä¸œè¥¿ã€‚ _ æ›¼æ˜†ã€Šç»æµå­¦åŸç†ï¼šå¾®è§‚ç»æµå­¦åˆ†å†Œã€‹ï¼šPage 52\n\n## ç”Ÿäº§è€…çš„ç†æ€§äººå†³ç­–æ¨¡å‹\n\nè¿˜è®°å¾—ç†æ€§äººå†³ç­–çš„æ¨¡å‹å—ï¼Ÿä¸è®°å¾—çš„è¯å¯ä»¥å…ˆçœ‹çœ‹ä¸Šä¸€ç¯‡ã€‚\nå¼•å…¥äº†æœºä¼šæˆæœ¬è¿™ä¸€æ¦‚å¿µï¼Œæˆ‘ä»¬å¥—æ¨¡å‹çš„ä¸‰ä¸ªè¦ç´ å°±éƒ½å‡†å¤‡å¥½äº†ï¼š\n- åšå†³ç­– = ç”Ÿäº§å†°é…’æ‹¿å‡ºå»å–\n- æ”¶ç›Š = å†°é…’ä»·æ ¼ï¼ˆå–å†°é…’æ‹¿åˆ°çš„é’±ï¼‰\n- æˆæœ¬ = æœºä¼šæˆæœ¬\n\né‚£ä¹ˆæˆ‘ä»¬å°±æœ‰ï¼š\n- if å†°é…’ä»·æ ¼ \u003e æœºä¼šæˆæœ¬ : ç”Ÿäº§å†°é…’æ‹¿å‡ºå»å–\n- if å†°é…’ä»·æ ¼ \u003c æœºä¼šæˆæœ¬ : ä¸ç”Ÿäº§å†°é…’\n\n[ [å›¾ç‰‡ï¼šæœºä¼šæˆæœ¬æŸ±ï¼Œä»·æ ¼çº¿ï¼Œçº¿é«˜äºæŸ±åšå†³ç­–ï¼Œçº¿ä½äºæŸ±ä¸åšå†³ç­–]]\n\nå‡è®¾æˆ‘ä»¬æ˜¯è‘¡è„åº„å›­ä¸»ï¼Œè€Œä¸”å·²ç»èƒ½é¢„çŸ¥å†°é…’å¸‚åœºä»·ç¨³å®šåœ¨æ¯ç“¶ 50 å…ƒã€‚å¦‚æœæˆ‘ä»¬è’åºŸæ‰åº„å›­æ‹¿é’±å»æŠ•èµ„ï¼Œå°±ç®—å‡å»æ‰æŠ•èµ„é£é™©ï¼Œèµšçš„é’±éƒ½æ¯”å–å†°é…’èµšçš„é’±å¤šå¾—å¤šï¼Œé‚£æˆ‘ä»¬å°±ä¼šæ¯«ä¸çŠ¹è±«åœ°è’åºŸæ‰åº„å›­é€‰æ‹©èººç€èµšé’±ã€‚è¿™ç§å…¶å®å°±æ˜¯æœºä¼šæˆæœ¬é«˜äºäº¤æ˜“æ”¶ç›Šçš„æƒ…å†µã€‚\n\n## ç”Ÿäº§è€…å‰©ä½™\n\nå¦‚æœæ”¶ç›Šé«˜äºæœºä¼šæˆæœ¬ï¼Œé‚£æˆ‘ä»¬å°±ä¼šæ¯«ä¸çŠ¹è±«åœ°é€‰æ‹©ç”Ÿäº§å†°é…’æ‹¿å‡ºå»å–ã€‚ä¸ºå•¥ï¼Ÿå› ä¸ºèƒ½èµšé’±å‘€ï¼èµšé’±å˜›ï¼Œä¸å¯’æºã€‚\n\nâ€œèµšé’±â€ï¼Œå¯èƒ½å°±æ˜¯ç”Ÿäº§è€…å‰©ä½™æœ€è´´åˆ‡åœ°è§£é‡Šäº†ã€‚å› ä¸ºå–å†°é…’è·å¾—çš„æ”¶ç›Šï¼ˆå†°é…’ä»·æ ¼ï¼‰ï¼Œæ¯”åˆ¶ä½œå†°é…’çš„æˆæœ¬ï¼ˆåˆ¶ä½œå†°é…’æ‰€æ”¾å¼ƒçš„å…¶ä»–æ”¶ç›ŠåŠ ä¸Šåˆ¶ä½œå†°é…’è€—è´¹çš„é‡‘é’±ï¼Œä¹Ÿå°±æ˜¯æœºä¼šæˆæœ¬ï¼‰æ›´å¤šï¼Œæˆ‘ä»¬ç§°åœ¨å–å‡ºå†°é…’çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬è·å¾—äº†ç”Ÿäº§è€…å‰©ä½™ã€‚\n\n\u003e **ç”Ÿäº§è€…å‰©ä½™**ï¼ˆ producer surplus ï¼‰ï¼šå–è€…å‡ºå”®ä¸€ç§å•†å“å¾—åˆ°çš„é‡å‡å»å…¶ç”Ÿäº§æˆæœ¬ã€‚Page 140\n\nä¸æ¶ˆè´¹è€…å‰©ä½™ç±»ä¼¼ï¼Œç”Ÿäº§è€…å‰©ä½™è®¡ç®—ä¸Šè¡¨ç¤ºä¸ºï¼š\n$$\nç”Ÿäº§è€…å‰©ä½™ = å–å‡ºå•†å“å¾—åˆ°çš„é‡ - å–å‡ºå•†å“æ‰€æ”¯ä»˜çš„é‡‘é’±\n$$\nè¡¨ç¤ºä¸ºå›¾çš„è¯å°±æ˜¯å•†å“ä»·æ ¼ä¸æˆæœ¬ä¹‹é—´çš„éƒ¨åˆ†ï¼š\n[ [å›¾ç‰‡ï¼šç”Ÿäº§è€…å‰©ä½™æŸ±ï¼Œä»·æ ¼çº¿ï¼Œçº¿ä¸æŸ±ä¹‹é—´çš„éƒ¨åˆ†]]\n\n## ä¾›ç»™æ›²çº¿\n\nä¸ä¸Šä¸€ç¯‡é‡Œæ¶ˆè´¹è€…æƒ…å†µç±»ä¼¼ï¼Œå¸‚åœºä¸­çš„ç”Ÿäº§è€…ä¹Ÿä¸ä¼šåªæœ‰æˆ‘ä»¬ä¸€ä¸ªã€‚æˆ‘ä»¬æŠŠå¸‚åœºä¸­ï¼ˆå¯èƒ½ï¼‰å–å†°é…’çš„äººå…¨éƒ¨æŠ“è¿‡æ¥å®¡é—®ä¸€éï¼Œç»Ÿè®¡ä¸€ä¸‹ä»–ä»¬å–å†°é…’çš„æœºä¼šæˆæœ¬ï¼Œä»ä½åˆ°é«˜æ’ä¸ªåºåå°±å¾—åˆ°ä¸‹é¢çš„å›¾ï¼š\n\n[ [å›¾ï¼šæœºä¼šæˆæœ¬æŸ±çŠ¶å›¾ï¼Œä»ä½åˆ°é«˜è¿æˆæ›²çº¿ï¼Œå†°é…’ä»·æ ¼æ¨ªçº¿ï¼Œçº¿é«˜äºæŸ±åšå†³ç­–ï¼Œçº¿ä½äºæŸ±ä¸åšå†³ç­–]]\n\nä¸ä¸Šä¸€ç¯‡éœ€æ±‚æ›²çº¿è¿‡ç¨‹ç±»ä¼¼ï¼ŒæŠŠå„äººæœºä¼šæˆæœ¬è¿æˆæ›²çº¿ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†å†°é…’å¸‚åœºä¸­çš„ä¾›ç»™æ›²çº¿ã€‚\n\nä¾›ç»™æ›²çº¿ä¸å†°é…’ä»·æ ¼äº¤ç‚¹çš„å·¦è¾¹ï¼Œç”±äºè¿™äº›ç”Ÿäº§è€…æœºä¼šæˆæœ¬å°äºå•†å“ä»·æ ¼ï¼Œèƒ½è·å¾—ç”Ÿäº§è€…å‰©ä½™ï¼Œä»–ä»¬å°±ä¼šé€‰æ‹©åˆ¶ä½œå¹¶å–å‡ºå†°é…’ï¼ˆè¿›å…¥å¸‚åœºï¼‰ã€‚å‡è®¾ä»–ä»¬å…¨éƒ¨éƒ½èƒ½å–å‡ºå†°é…’ï¼Œé‚£ä»–ä»¬å–å‡ºå†°é…’çš„é‡å°±æ˜¯å¹¶å°±çš„äº¤æ˜“é‡ï¼Œä»–ä»¬çš„ç”Ÿäº§è€…å‰©ä½™æ€»å’Œï¼Œä¹Ÿå°±æ˜¯éœ€æ±‚æ›²çº¿ä»¥ä¸Šä»·æ ¼çº¿ä»¥ä¸‹çš„éƒ¨åˆ†ï¼Œå°±æ˜¯å†°é…’å¸‚åœºä¸­æ€»çš„ç”Ÿäº§è€…å‰©ä½™ã€‚\n\n[ [å›¾ï¼šéœ€æ±‚æ›²çº¿ä¸ä»·æ ¼çš„äº¤ç‚¹ï¼Œçºµåæ ‡æ¨ªåæ ‡è§£é‡Šï¼Œä»·æ ¼å˜åŠ¨åï¼Œçºµåæ ‡ä¸æ¨ªåæ ‡å˜åŒ–è§£é‡Šï¼Œäº¤ç‚¹è¿ç»­å˜ä¸ºæ›²çº¿]]\n\nä¸ä¸Šä¸€ç¯‡åŒç†ï¼Œç”±äºæœºä¼šæˆæœ¬æ¯”è¾ƒé«˜ï¼Œå¤„äºä¾›ç»™æ›²çº¿ä¸ä»·æ ¼çº¿äº¤ç‚¹å³æ–¹çš„é‚£äº›äººä¸ä¼šé€‰æ‹©åˆ¶ä½œå†°é…’ï¼Œå› æ­¤ä»–ä»¬å¹¶ä¸ä¼šåœ¨å†°é…’å¸‚åœºè·å¾—æˆ–å¤±å»ç”Ÿäº§è€…å‰©ä½™ã€‚\n\n# å‡è¡¡\n\nä¸Šé¢åˆ†æä¾›ç»™æ›²çº¿ï¼ŒåŒ…æ‹¬ä¸Šä¸€ç¯‡ä¸­åˆ†æéœ€æ±‚æ›²çº¿æ—¶ï¼Œæˆ‘ä»¬éƒ½æ˜¯å…ˆå‡è®¾å…ˆæœ‰ä¸€ä¸ªä»·æ ¼ï¼Œç„¶åå†åˆ†æå¦‚æœä»·æ ¼é«˜äº†ä¼šæ€ä¹ˆæ ·ï¼Œå¦‚æœä»·æ ¼ä½äº†ä¼šæ€ä¹ˆæ ·ã€‚\n\nå¯æ˜¯è¿™ä¸ªä»·æ ¼æ˜¯è°æ¥å®šçš„ï¼Ÿ\n\n## å®Œå…¨ç«äº‰å¸‚åœº\n\nä¸ºäº†åˆ†æè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥é™¤ç†æ€§äººå‡è®¾å¤–ç¬¬äºŒä¸ªå‡è®¾ï¼šå®Œå…¨ç«äº‰å¸‚åœºå‡è®¾ï¼š\n\næˆ‘ä»¬å‡è®¾å¸‚åœºæ˜¯å®Œå…¨ç«äº‰çš„ï¼Œè¿™æ ·çš„å¸‚åœºå¿…é¡»å…·æœ‰ä¸‰ä¸ªç‰¹å¾ï¼š\n1. æ¶ˆè´¹è€…èƒ½è‡ªç”±é€‰æ‹©è´­ä¹°ä»»ä¸€ç”Ÿäº§è€…çš„å•†å“\n2. å¸‚åœºä¸­çš„å•†å“éƒ½æ˜¯å®Œå…¨ç›¸åŒçš„\n3. ä¹°å–åŒæ–¹éƒ½äººæ•°ä¼—å¤š\n\nåœ¨è¿™ç§å‡è®¾ä¸‹ï¼Œå¸‚åœºä¸­æ‰€æœ‰å•†å“ä»·æ ¼éƒ½ç›¸ç­‰ï¼Œä¸”æ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ¶ˆè´¹è€…æˆ–ç”Ÿäº§è€…èƒ½å¤Ÿå½±å“å¸‚åœºä»·æ ¼ã€‚å› ä¸ºå¦‚æœæœ‰ä¸€ä¸ªç”Ÿäº§è€…çš„å•†å“ä»·æ ¼é«˜äºå¸‚åœºä»·ï¼Œæ¶ˆè´¹è€…ä»¬å°±ä¼šåˆ°åˆ«çš„åœ°æ–¹è´­ä¹°ï¼›è€Œç”±äºä»–ä»¬éƒ½æ˜¯ç†æ€§äººï¼Œæ²¡æœ‰ç”Ÿäº§è€…ä¼šæ‰“ç®—ä»¥ä½äºå¸‚åœºä»·çš„ä»·æ ¼å‡ºå”®å•†å“ã€‚æ¶ˆè´¹è€…è§’åº¦ä¹ŸåŒç†ï¼šæ²¡æœ‰ç†ç”±ç”¨é«˜ä»·ä¹°å•†å“ï¼Œè€Œä½ä»·å°†ä¹°ä¸åˆ°å•†å“ã€‚\n\nè¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠéœ€æ±‚æ›²çº¿ä¸ä¾›ç»™æ›²çº¿æ”¾åœ¨ä¸€èµ·åˆ†æï¼Œç”±äºå®Œå…¨ç«äº‰å¸‚åœºä¸­ï¼š\n$$\nä»»æ„æ¶ˆè´¹è€…è´­ä¹°å•†å“çš„ä»·æ ¼ = ä»»æ„ç”Ÿäº§è€…å‡ºå”®å•†å“çš„ä»·æ ¼\n$$\nå› æ­¤å¸‚åœºä¸­å•†å“ä»·æ ¼æ˜¯å›ºå®šå€¼ï¼Œæ˜¯æ°´å¹³äºä¾›ç»™é‡/éœ€æ±‚é‡çš„æ¨ªçº¿ã€‚\n[ [å›¾ï¼šéœ€æ±‚æ›²çº¿ä¸ä¾›ç»™æ›²çº¿ï¼Œä»·æ ¼æ¨ªçº¿åªæœ‰ä¸€æ¡ï¼Œé«˜äºäº¤ç‚¹æ—¶ä¸ä½äºäº¤ç‚¹æ—¶]]\n\nå¦å¤–ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¾›ç»™æ›²çº¿ä¸éœ€æ±‚æ›²çº¿ä¹‹é—´æœ‰ä¸€ä¸ªäº¤ç‚¹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦é’ˆå¯¹è¿™ä¸ªäº¤ç‚¹ï¼Œè§£å†³å®Œå…¨ç«äº‰å¸‚åœºä¸­ä»·æ ¼ç”±è°æ¥å®šçš„é—®é¢˜ã€‚\n\n## å¸‚åœºè¶‹å‘äºå‡è¡¡\n\né¦–å…ˆæˆ‘ä»¬è€ƒè™‘å¦‚æœä»·æ ¼é«˜äºäº¤ç‚¹æ—¶çš„æƒ…å†µã€‚\n\nå‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œåªæœ‰ä»·æ ¼çº¿ä¸éœ€æ±‚æ›²çº¿äº¤ç‚¹å·¦è¾¹çš„æ¶ˆè´¹è€…ä¼šè´­ä¹°å•†å“ï¼Œè€Œåªæœ‰ä»·æ ¼çº¿ä¸ä¾›ç»™æ›²çº¿äº¤ç‚¹å·¦è¾¹çš„ç”Ÿäº§è€…ä¼šç”Ÿäº§å¹¶å‡ºå”®å•†å“ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°çŸ¥é“ï¼Œè¿™æ—¶å•†å“ä¾›ç»™é‡æ¯”éœ€æ±‚é‡è¦å¤šã€‚é‚£å¤šå‡ºæ¥çš„é‚£ä¸€éƒ¨åˆ†å•†å“ä¸€å®šä¼šå–ä¸å‡ºå»ã€‚\n\nå–ä¸å‡ºå»å’‹åŠå‘€ï¼Ÿé‚£å°±åªèƒ½é™ä»·ã€‚\nä¹‹å‰æˆ‘ä»¬è¯´å®Œå…¨ç«äº‰å¸‚åœºä¸­ç”Ÿäº§è€…æ²¡æœ‰ä½ä»·å‡ºå”®å•†å“çš„ç†ç”±ï¼Œé‚£æ˜¯å»ºç«‹åœ¨å•†å“éƒ½èƒ½å–å‡ºå»å‰æä¸‹çš„ã€‚å•†å“éƒ½èƒ½å–å‡ºå»æ—¶æ²¡æœ‰é“ç†è‡ªæŸåˆ©ç›Šï¼Œä½†ç°åœ¨å•†å“å–ä¸å‡ºå»å°±åªèƒ½é™ä»·å¸å¼•å®¢æµäº†ã€‚ï¼ˆå…¶å®æå‡å•†å“è´¨é‡ä¹Ÿå¢åŠ å”®å‡ºé‡æ˜¯ä¸€ç§å¥½æ–¹æ³•ï¼Œä½†æˆ‘ä»¬è¿™é‡Œå‡è®¾äº†æ˜¯å®Œå…¨ç«äº‰å¸‚åœºï¼Œæ‰€æœ‰å•†å“éƒ½å®Œå…¨ç›¸åŒï¼‰\n\næ¶ˆè´¹è€…ä»¬ä¹Ÿéƒ½æ˜¯ç†æ€§äººï¼Œæ—¢ç„¶å•†å“å®Œå…¨ç›¸åŒï¼Œè‡ªç„¶å°±ä¼šé€‰æ‹©è´­ä¹°æ›´ä½ä»·çš„å•†å“ã€‚åŸæœ¬è¿˜å‡‘åˆç€èƒ½å–å‡ºå»çš„é‚£éƒ¨åˆ†å•†å“åè€Œå› ä¸ºæœªé™ä»·å˜å¾—å–ä¸å‡ºå»äº†ï¼Œè‡ªç„¶ä»–ä»¬ä¹Ÿä¼šé€‰æ‹©é™ä»·ï¼Œæœ€ç»ˆå¸‚åœºä¸­å•†å“çš„ä»·æ ¼æ•´ä½“é™ä½ã€‚\n\nå¸‚åœºä»·é™ä½ï¼Œä½¿å¾—ä¸€éƒ¨åˆ†ç”Ÿäº§è€…çš„æœºä¼šæˆæœ¬é«˜è¿‡äº†æ”¶ç›Šï¼Œè¿™ä¸€éƒ¨åˆ†ç”Ÿäº§è€…å°±ä¼šé€‰æ‹©ç¦»å¼€ï¼Œä½¿å¾—ä¾›ç»™é‡ä¸‹é™ã€‚å¦ä¸€æ–¹é¢ï¼Œé™ä»·ä½¿å¾—ä»·æ ¼ä½è¿‡äº†ä¸€éƒ¨åˆ†æ½œåœ¨æ¶ˆè´¹è€…çš„æ„æ„¿æ”¯ä»˜ä»·æ ¼ï¼Œè¿™ä¸€éƒ¨åˆ†äººå°±ä¼šé€‰æ‹©è´­ä¹°å•†å“ï¼Œä½¿å¾—éœ€æ±‚é‡ä¸Šå‡ã€‚\n\n[ [å›¾ï¼šå‡è¡¡P81(Eng P77)ï¼Œä»·æ ¼é«˜äºå‡è¡¡çš„æƒ…å†µ]]\n\nè€Œå¦ä¸€ç§æƒ…å†µï¼Œä¹Ÿç›¸ç±»ä¼¼ã€‚å¦‚æœä»·æ ¼ä½äºäº¤ç‚¹ï¼Œå¸‚åœºä¸­å•†å“çš„éœ€æ±‚é‡å°±ä¼šå¤§äºä¾›ç»™é‡ã€‚è¿™æ—¶å¿…ç„¶ä¼šæœ‰ä¸€éƒ¨åˆ†äººæƒ³ä¹°ä½†æ˜¯ä¹°ä¸åˆ°å•†å“ï¼Œä»–ä»¬å°±ä¼šé€æ¸é€‰æ‹©ç”¨æ›´é«˜çš„ä»·æ ¼æ¥è´­ä¹°ï¼Œæœ€ç»ˆæ‹‰é«˜æ•´ä¸ªå¸‚åœºä¸­çš„å•†å“ä»·æ ¼ã€‚å¸‚åœºä»·å‡é«˜ï¼Œä½¿å¾—ä¾›ç»™é‡ä¸Šå‡ï¼Œéœ€æ±‚é‡ä¸‹é™ã€‚\n\n[ [å›¾ï¼šä»·æ ¼ä½äºå‡è¡¡çš„æƒ…å†µ]]\n\nä»·æ ¼é«˜äºäº¤ç‚¹æ—¶ä¼šè¶‹äºé™ä»·ï¼Œè€Œä»·æ ¼ä½äºäº¤ç‚¹æ—¶ä¼šè¶‹äºæ¶¨ä»·ã€‚åœ¨å……åˆ†é€‰æ‹©çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆå¸‚åœºä»·ä¼šç­‰äºäº¤ç‚¹å¤„å•†å“ä»·æ ¼ã€‚è¿™æ—¶å¸‚åœºè¾¾åˆ°å‡è¡¡ï¼Œç”Ÿäº§è€…ç”Ÿäº§å‡ºçš„æ‰€æœ‰å•†å“éƒ½èƒ½å–å‡ºï¼Œæ‰€æœ‰æ¶ˆè´¹è€…éƒ½èƒ½è´­ä¹°åˆ°ä»–ä»¬æ‰€éœ€çš„å•†å“ã€‚\n\n## å¸‚åœºæ•ˆç‡ä¸ç¦åˆ©\n\nä¹‹å‰æˆ‘ä»¬æè¿‡æ¶ˆè´¹è€…å‰©ä½™ä¸ç”Ÿäº§è€…å‰©ä½™çš„æ¦‚å¿µã€‚\n\næ¶ˆè´¹è€…å‰©ä½™ = æ„æ„¿æ”¯ä»˜ä»·æ ¼ - å•†å“ä»·æ ¼ï¼Œå¦‚æœä¸€ä¸ªæ¶ˆè´¹è€…åœ¨ä¸€åœºäº¤æ˜“ä¸­æ¶ˆè´¹è€…å‰©ä½™è¶Šå¤§ï¼Œä»–å°±æ„Ÿè§‰è¶Šèµšï¼Œä»–å°±å¯¹è¿™åœºäº¤æ˜“è¶Šæ»¡æ„ã€‚å¯¹äºå¸‚åœºä¸­æ‰€æœ‰æ¶ˆè´¹è€…éƒ½æ˜¯å¦‚æ­¤ï¼Œå› æ­¤å¸‚åœºä¸­æ‰€æœ‰çš„æ¶ˆè´¹è€…å‰©ä½™ï¼Œä¹Ÿå°±æ˜¯éœ€æ±‚æ›²çº¿ä»¥ä¸‹ä»·æ ¼çº¿ä»¥ä¸Šçš„é¢ç§¯ï¼Œä»£è¡¨äº†å¸‚åœºä¸­æ‰€æœ‰æ¶ˆè´¹è€…å¯¹å¸‚åœºäº¤æ˜“çš„æ»¡æ„åº¦ã€‚\n\nåŒæ ·çš„ï¼Œç”Ÿäº§è€…å‰©ä½™ = å•†å“ä»·æ ¼ - æœºä¼šæˆæœ¬ã€‚å¸‚åœºä¸­æ‰€æœ‰çš„ç”Ÿäº§è€…å‰©ä½™ï¼Œå°±æ˜¯ä»·æ ¼æ›²çº¿ä»¥ä¸‹ä¾›ç»™æ›²çº¿ä»¥ä¸Šçš„éƒ¨åˆ†ï¼Œä»£è¡¨äº†å¸‚åœºä¸­æ‰€æœ‰ç”Ÿäº§è€…å¯¹å¸‚åœºäº¤æ˜“çš„æ»¡æ„åº¦ã€‚\n\nå› æ­¤ï¼Œå¸‚åœºä¸­æ€»çš„ç”Ÿäº§è€…å‰©ä½™åŠ ä¸Šæ€»çš„æ¶ˆè´¹è€…å‰©ä½™ï¼Œä»£è¡¨äº†å¸‚åœºä¸­æ‰€æœ‰äººå¯¹å¸‚åœºäº¤æ˜“çš„æ»¡æ„åº¦ã€‚æˆ‘ä»¬ç§°è¿™å°±æ˜¯å¸‚åœºä¸­çš„æ€»å‰©ä½™ã€‚\n\nåœ¨å¸‚åœºå‡è¡¡æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“åœ°å°±èƒ½çŸ¥é“æ€»å‰©ä½™æ˜¯å¤šå°‘ã€‚ç”±äºå¸‚åœºå‡è¡¡æ—¶å¸‚åœºä¸­æ‰€æœ‰çš„ç”Ÿäº§è€…ä¸æ‰€æœ‰çš„æ¶ˆè´¹è€…éƒ½èƒ½è¾¾æˆäº¤æ˜“ï¼Œè€Œäº¤æ˜“ä»·æ ¼å°±æ˜¯å‡è¡¡ä»·æ ¼ã€‚å› æ­¤æˆ‘ä»¬å¾ˆå®¹æ˜“åœ°å°±èƒ½åœ¨å›¾ä¸­æ‰¾åˆ°ä»£è¡¨ç”Ÿäº§è€…å‰©ä½™ã€æ¶ˆè´¹è€…å‰©ä½™ä¸æ€»å‰©ä½™çš„é¢ç§¯ã€‚\n\n[ [å›¾]]\n\nè€Œå¦‚æœå¸‚åœºæ²¡æœ‰è¾¾åˆ°å‡è¡¡ï¼Œä¼šå‡ºç°æœ‰çš„æ¶ˆè´¹è€…æ²¡èƒ½ä¹°åˆ°å•†å“ã€æˆ–æ˜¯ç”Ÿäº§è€…çš„å•†å“æ²¡èƒ½å–å‡ºå»çš„æƒ…å†µã€‚è¿™äº›æ—¶å€™ï¼Œæ²¡èƒ½ä¹°åˆ°å•†å“çš„æ¶ˆè´¹è€…ä¸æ²¡èƒ½å–å‡ºå•†å“çš„ç”Ÿäº§è€…è‡ªç„¶ä¸ä¼šå¯¹äº¤æ˜“æ»¡æ„ï¼ˆå› ä¸ºæ²¡èƒ½è¾¾æˆäº¤æ˜“ï¼‰ï¼Œè‡ªç„¶ä¹Ÿä¸è®¡ç®—å‰©ä½™ã€‚è€Œå¸‚åœºä¸­å•†å“çš„äº¤æ˜“é‡å–å†³äºéœ€æ±‚é‡ä¸ä¾›ç»™é‡ä¸­æ›´å°çš„ä¸€æ–¹ã€‚æ— è®ºå¦‚ä½•ï¼Œæ€»å‰©ä½™æ€»ä¼šå°äºå‡è¡¡æ—¶çš„æ€»å‰©ä½™ã€‚\n\n[ [å›¾]]\n\nç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œåªæœ‰å½“å¸‚åœºè¾¾åˆ°å‡è¡¡çš„æ—¶å€™ï¼ŒåŠ å…¥å¸‚åœºçš„æ‰€æœ‰äººå¯¹å¸‚åœºäº¤æ˜“çš„æ»¡æ„åº¦æœ€å¤§ã€‚è€Œå¸‚åœºå‡è¡¡æ˜¯å®Œå…¨ç«äº‰çš„è‡ªç”±å¸‚åœºä¸­ä¼šè‡ªå‘è¾¾åˆ°çš„çŠ¶æ€ã€‚\n\nå› æ­¤ï¼Œä»ç»æµå­¦çš„è§‚ç‚¹æ¥çœ‹ï¼Œåœ¨æ‰€æœ‰äººéƒ½æ˜¯ç†æ€§äººã€å¸‚åœºæ˜¯å®Œå…¨ç«äº‰å¸‚åœºçš„å‡è®¾ä¸‹ï¼Œä¸éœ€è¦ä»»ä½•å¤–åŠ çš„åˆ¶åº¦æˆ–æ”¿ç­–ï¼Œå¸‚åœºå°±ä¼šè‡ªå‘åœ°è¾¾åˆ°äººä»¬æ»¡æ„åº¦æœ€é«˜çš„çŠ¶æ€ã€‚ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œäºšå½“Â·æ–¯å¯†æ‰ä¼šè¯´å¸‚åœºæ˜¯ä¸€ä¸ªçœ‹ä¸è§çš„æ‰‹ã€‚\n\n# æ€»ç»“ä¸€ä¸‹\n\n\n\n\n\n\n\nneeded:\n- [ ] svg character\n- [ ] bar graph\n- [ ] function graph\n- [ ] manim command for output path and input path https://docs.manim.community/en/stable/tutorials/configuration.html\n- [ ] want mp4 as picture\n- [ ] interactive manim https://github.com/3b1b/3Blue1Brown.com/tree/main/public/content/lessons/2021/newtons-fractal\n\n\n# ç¨æ”¶ï¼Œæ±¡æŸ“æƒä¸å¤–éƒ¨æ€§ï¼Œå›½é™…è´¸æ˜“\n\nâ€»\n# æ¯”è¾ƒä¼˜åŠ¿\n# å¼¹æ€§ä¸å‡è¡¡ç§»åŠ¨ï¼Œæ”¶ç›Šåˆ†æ \n# ç”Ÿäº§æˆæœ¬ï¼Œå„æ–­ï¼Œå¯¡å¤´\n# ç”Ÿäº§è¦ç´ å¸‚åœº\n\nå®è§‚ï¼š\né‡ç‚¹ï¼š\n1. ä¸‰ä¸ªæŒ‡æ ‡ï¼šGDPï¼Œä»·æ ¼æ°´å¹³ï¼Œå°±ä¸š =ã€‹ ä¿ƒä½¿æ”¿åºœè°ƒèŠ‚ç»æµ\n2. ä¸¤ç§æ”¿ç­–ï¼š\n    1. è´§å¸æ”¿ç­– =ã€‹ åä¹‰åˆ©ç‡ï¼Œé‡åŒ–å®½æ¾ï¼Œå‰ç»æŒ‡å¼•ï¼Œæ±‡ç‡å†³å®šåˆ¶åº¦ç­‰\n    2. è´¢æ”¿æ”¿ç­– =ã€‹ åŠ æ¯ã€é‡‡è´­\n3. ä¸¤ç§æ”¿ç­–å¯¹ç»æµå½±å“ï¼ˆæ€»ä¾›ç»™æ€»éœ€æ±‚æ¨¡å‹ï¼‰ï¼Œä»¥åŠå›½é™…ç»æµä¸è´¸æ˜“å½±å“\n\n# ä¸‰ä¸ªæŒ‡æ ‡ä¸ä¸¤ç§æ”¿ç­–\n## ä¸‰ä¸ªæŒ‡æ ‡\n## ç»æµå¢é•¿çš„åŸå›  â€”â€” å…¨è¦ç´ ç”Ÿäº§ç‡\n\n## ç»æµæ³¢åŠ¨\n## å‡¯æ©æ–¯ä¸»ä¹‰ â€”â€” ä¿ƒè¿›æ”¿åºœè°ƒèŠ‚ç»æµ\n## è°ƒèŠ‚ç»æµä¸¤ç§æ”¿ç­–\n# è´¢æ”¿æ”¿ç­–\n# è´§å¸æ”¿ç­–\n\n## ä¸¤ç§æ”¿ç­–å¯¹ç»æµå½±å“ â€”â€” æ€»ä¾›ç»™æ€»éœ€æ±‚æ¨¡å‹\n## å›½é™…ç»æµ\n\n","title":"å›¾è§£ç»æµå­¦åŸç†(2)","abstract":"\u003e 1. è¿™ç¯‡æ–‡ç« å‚è€ƒäº†æ›¼æ˜†çš„ã€Šç»æµå­¦åŸç†ã€‹ä¸åŒ—äº¬å¤§å­¦ç‹è¾‰è€å¸ˆçš„ã€Šå¾®è§‚ç»æµå­¦ã€‹è¯¾ç¨‹ï¼Œå†…å®¹ä¸Šä¼šæœ‰éƒ¨åˆ†ç›¸ä¼¼ã€‚\n\u003e 2. è¿™ç¯‡æ–‡ç« ä¸­çš„å›¾ä½¿ç”¨ 3Blue1Brown çš„åŠ¨ç”»ç”Ÿæˆå·¥å…· manim çš„ Community Edition åˆ¶ä½œï¼Œæºä»£ç ä¹‹åä¼šä¸Šä¼ åˆ° GitHub ã€‚\nä¸Šä¸€ç¯‡è®²ä¾›ç»™ï¼Œè¿™ä¸€ç¯‡è®²éœ€æ±‚ã€‚","length":188,"created_at":"2022-07-19T23:12:48.000Z","updated_at":"2022-08-13T09:53:03.000Z","tags":[],"license":true,"headingTrees":[{"key":"created_at-2022-07-19-231248updated_at-2022-08-13-1753030800title-å›¾è§£ç»æµå­¦åŸç†2license-truedate-2022-07-19-231248tags","href":"#created_at-2022-07-19-231248updated_at-2022-08-13-1753030800title-å›¾è§£ç»æµå­¦åŸç†2license-truedate-2022-07-19-231248tags","heading":2,"title":"created_at: 2022-07-19 23:12:48\nupdated_at: 2022-08-13 17:53:03+08:00\ntitle: å›¾è§£ç»æµå­¦åŸç†(2)\nlicense: true\ndate: 2022-07-19 23:12:48\ntags:","children":[],"id":"created_at-2022-07-19-231248updated_at-2022-08-13-1753030800title-å›¾è§£ç»æµå­¦åŸç†2license-truedate-2022-07-19-231248tags"},{"key":"æœºä¼šæˆæœ¬","href":"#æœºä¼šæˆæœ¬","heading":1,"title":"æœºä¼šæˆæœ¬","children":[{"key":"ç”Ÿäº§è€…çš„ç†æ€§äººå†³ç­–æ¨¡å‹","href":"#ç”Ÿäº§è€…çš„ç†æ€§äººå†³ç­–æ¨¡å‹","heading":2,"title":"ç”Ÿäº§è€…çš„ç†æ€§äººå†³ç­–æ¨¡å‹","children":[],"id":"ç”Ÿäº§è€…çš„ç†æ€§äººå†³ç­–æ¨¡å‹"},{"key":"ç”Ÿäº§è€…å‰©ä½™","href":"#ç”Ÿäº§è€…å‰©ä½™","heading":2,"title":"ç”Ÿäº§è€…å‰©ä½™","children":[],"id":"ç”Ÿäº§è€…å‰©ä½™"},{"key":"ä¾›ç»™æ›²çº¿","href":"#ä¾›ç»™æ›²çº¿","heading":2,"title":"ä¾›ç»™æ›²çº¿","children":[],"id":"ä¾›ç»™æ›²çº¿"}],"id":"æœºä¼šæˆæœ¬"},{"key":"å‡è¡¡","href":"#å‡è¡¡","heading":1,"title":"å‡è¡¡","children":[{"key":"å®Œå…¨ç«äº‰å¸‚åœº","href":"#å®Œå…¨ç«äº‰å¸‚åœº","heading":2,"title":"å®Œå…¨ç«äº‰å¸‚åœº","children":[],"id":"å®Œå…¨ç«äº‰å¸‚åœº"},{"key":"å¸‚åœºè¶‹å‘äºå‡è¡¡","href":"#å¸‚åœºè¶‹å‘äºå‡è¡¡","heading":2,"title":"å¸‚åœºè¶‹å‘äºå‡è¡¡","children":[],"id":"å¸‚åœºè¶‹å‘äºå‡è¡¡"},{"key":"å¸‚åœºæ•ˆç‡ä¸ç¦åˆ©","href":"#å¸‚åœºæ•ˆç‡ä¸ç¦åˆ©","heading":2,"title":"å¸‚åœºæ•ˆç‡ä¸ç¦åˆ©","children":[],"id":"å¸‚åœºæ•ˆç‡ä¸ç¦åˆ©"}],"id":"å‡è¡¡"},{"key":"æ€»ç»“ä¸€ä¸‹","href":"#æ€»ç»“ä¸€ä¸‹","heading":1,"title":"æ€»ç»“ä¸€ä¸‹","children":[],"id":"æ€»ç»“ä¸€ä¸‹"},{"key":"ç¨æ”¶æ±¡æŸ“æƒä¸å¤–éƒ¨æ€§å›½é™…è´¸æ˜“","href":"#ç¨æ”¶æ±¡æŸ“æƒä¸å¤–éƒ¨æ€§å›½é™…è´¸æ˜“","heading":1,"title":"ç¨æ”¶ï¼Œæ±¡æŸ“æƒä¸å¤–éƒ¨æ€§ï¼Œå›½é™…è´¸æ˜“","children":[],"id":"ç¨æ”¶æ±¡æŸ“æƒä¸å¤–éƒ¨æ€§å›½é™…è´¸æ˜“"},{"key":"æ¯”è¾ƒä¼˜åŠ¿","href":"#æ¯”è¾ƒä¼˜åŠ¿","heading":1,"title":"æ¯”è¾ƒä¼˜åŠ¿","children":[],"id":"æ¯”è¾ƒä¼˜åŠ¿"},{"key":"å¼¹æ€§ä¸å‡è¡¡ç§»åŠ¨æ”¶ç›Šåˆ†æ","href":"#å¼¹æ€§ä¸å‡è¡¡ç§»åŠ¨æ”¶ç›Šåˆ†æ","heading":1,"title":"å¼¹æ€§ä¸å‡è¡¡ç§»åŠ¨ï¼Œæ”¶ç›Šåˆ†æ","children":[],"id":"å¼¹æ€§ä¸å‡è¡¡ç§»åŠ¨æ”¶ç›Šåˆ†æ"},{"key":"ç”Ÿäº§æˆæœ¬å„æ–­å¯¡å¤´","href":"#ç”Ÿäº§æˆæœ¬å„æ–­å¯¡å¤´","heading":1,"title":"ç”Ÿäº§æˆæœ¬ï¼Œå„æ–­ï¼Œå¯¡å¤´","children":[],"id":"ç”Ÿäº§æˆæœ¬å„æ–­å¯¡å¤´"},{"key":"ç”Ÿäº§è¦ç´ å¸‚åœº","href":"#ç”Ÿäº§è¦ç´ å¸‚åœº","heading":1,"title":"ç”Ÿäº§è¦ç´ å¸‚åœº","children":[],"id":"ç”Ÿäº§è¦ç´ å¸‚åœº"},{"key":"ä¸‰ä¸ªæŒ‡æ ‡ä¸ä¸¤ç§æ”¿ç­–","href":"#ä¸‰ä¸ªæŒ‡æ ‡ä¸ä¸¤ç§æ”¿ç­–","heading":1,"title":"ä¸‰ä¸ªæŒ‡æ ‡ä¸ä¸¤ç§æ”¿ç­–","children":[{"key":"ä¸‰ä¸ªæŒ‡æ ‡","href":"#ä¸‰ä¸ªæŒ‡æ ‡","heading":2,"title":"ä¸‰ä¸ªæŒ‡æ ‡","children":[],"id":"ä¸‰ä¸ªæŒ‡æ ‡"},{"key":"ç»æµå¢é•¿çš„åŸå› --å…¨è¦ç´ ç”Ÿäº§ç‡","href":"#ç»æµå¢é•¿çš„åŸå› --å…¨è¦ç´ ç”Ÿäº§ç‡","heading":2,"title":"ç»æµå¢é•¿çš„åŸå›  â€”â€” å…¨è¦ç´ ç”Ÿäº§ç‡","children":[],"id":"ç»æµå¢é•¿çš„åŸå› --å…¨è¦ç´ ç”Ÿäº§ç‡"},{"key":"ç»æµæ³¢åŠ¨","href":"#ç»æµæ³¢åŠ¨","heading":2,"title":"ç»æµæ³¢åŠ¨","children":[],"id":"ç»æµæ³¢åŠ¨"},{"key":"å‡¯æ©æ–¯ä¸»ä¹‰--ä¿ƒè¿›æ”¿åºœè°ƒèŠ‚ç»æµ","href":"#å‡¯æ©æ–¯ä¸»ä¹‰--ä¿ƒè¿›æ”¿åºœè°ƒèŠ‚ç»æµ","heading":2,"title":"å‡¯æ©æ–¯ä¸»ä¹‰ â€”â€” ä¿ƒè¿›æ”¿åºœè°ƒèŠ‚ç»æµ","children":[],"id":"å‡¯æ©æ–¯ä¸»ä¹‰--ä¿ƒè¿›æ”¿åºœè°ƒèŠ‚ç»æµ"},{"key":"è°ƒèŠ‚ç»æµä¸¤ç§æ”¿ç­–","href":"#è°ƒèŠ‚ç»æµä¸¤ç§æ”¿ç­–","heading":2,"title":"è°ƒèŠ‚ç»æµä¸¤ç§æ”¿ç­–","children":[],"id":"è°ƒèŠ‚ç»æµä¸¤ç§æ”¿ç­–"}],"id":"ä¸‰ä¸ªæŒ‡æ ‡ä¸ä¸¤ç§æ”¿ç­–"},{"key":"è´¢æ”¿æ”¿ç­–","href":"#è´¢æ”¿æ”¿ç­–","heading":1,"title":"è´¢æ”¿æ”¿ç­–","children":[],"id":"è´¢æ”¿æ”¿ç­–"},{"key":"è´§å¸æ”¿ç­–","href":"#è´§å¸æ”¿ç­–","heading":1,"title":"è´§å¸æ”¿ç­–","children":[{"key":"ä¸¤ç§æ”¿ç­–å¯¹ç»æµå½±å“--æ€»ä¾›ç»™æ€»éœ€æ±‚æ¨¡å‹","href":"#ä¸¤ç§æ”¿ç­–å¯¹ç»æµå½±å“--æ€»ä¾›ç»™æ€»éœ€æ±‚æ¨¡å‹","heading":2,"title":"ä¸¤ç§æ”¿ç­–å¯¹ç»æµå½±å“ â€”â€” æ€»ä¾›ç»™æ€»éœ€æ±‚æ¨¡å‹","children":[],"id":"ä¸¤ç§æ”¿ç­–å¯¹ç»æµå½±å“--æ€»ä¾›ç»™æ€»éœ€æ±‚æ¨¡å‹"},{"key":"å›½é™…ç»æµ","href":"#å›½é™…ç»æµ","heading":2,"title":"å›½é™…ç»æµ","children":[],"id":"å›½é™…ç»æµ"}],"id":"è´§å¸æ”¿ç­–"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2022-06-28-graph-for-economics-1.md","pagePath":"/articles/graph-for-economics-1","slug":"graph-for-economics-1"},"meta":{"content":"\n\u003e 1. è¿™ç¯‡æ–‡ç« å‚è€ƒäº†æ›¼æ˜†çš„ã€Šç»æµå­¦åŸç†ã€‹ä¸åŒ—äº¬å¤§å­¦ç‹è¾‰è€å¸ˆçš„ã€Šå¾®è§‚ç»æµå­¦ã€‹è¯¾ç¨‹ï¼Œå†…å®¹ä¸Šä¼šæœ‰éƒ¨åˆ†ç›¸ä¼¼ã€‚\n\u003e 2. è¿™ç¯‡æ–‡ç« ä¸­çš„å›¾ä½¿ç”¨ 3Blue1Brown çš„åŠ¨ç”»ç”Ÿæˆå·¥å…· manim çš„ Community Edition åˆ¶ä½œï¼Œæºä»£ç ä¹‹åä¼šä¸Šä¼ åˆ° GitHub ã€‚\n\næˆ‘ä»¬å…ˆä¸è®²è¯¾ï¼Œå…ˆæ¥å¸¦ä¸ªè´§ã€‚\n\nå¾·å›½å’ŒåŠ æ‹¿å¤§æœ‰ä¸€ç§ç‰¹åˆ«çš„è‘¡è„é…’ï¼Œå«å†°é…’ã€‚è¿™ç§è‘¡è„é…’åˆ¶ä½œå·¥è‰ºæ¯”è¾ƒç‰¹æ®Šï¼Œå¿…é¡»è¦åœ¨ä¸¥å†¬è‘¡è„è¢«éœœå†»åœ¨è—¤æ›¼ä¸Šæ—¶é‡‡æ‘˜ä¸‹æ¥ï¼Œå†ç»è¿‡å‘é…µã€å‹æ¦¨é…¿é€ è€Œæˆã€‚\nåœ¨å†°é…’å‹æ¦¨è¿‡ç¨‹ä¸­ï¼Œå¤§é‡çš„å†°è¢«å»é™¤ï¼Œä½¿å¾—è‘¡è„çš„æˆåˆ†å¾—åˆ°æµ“ç¼©ï¼Œå› æ­¤å†°é…’å£æ„Ÿåç”œã€‚ä½†åŠ å·¥è¿‡ç¨‹å¯¹æ¸©åº¦è¦æ±‚ååˆ†è‹›åˆ»ï¼Œæ¸©åº¦è¿‡é«˜ã€è¿‡ä½ã€å˜åŒ–å¤ªè¿‡å‰§çƒˆç­‰éƒ½ä¼šå¯¹å£æ„Ÿäº§ç”Ÿå½±å“ã€‚ç”±äºå†°é…’å·¥è‰ºç‰¹åˆ«ï¼Œä¸»è¦åªæœ‰å¾·å›½ã€åŠ æ‹¿å¤§ç­‰å°‘æ•°åœ°åŒºç”Ÿäº§ã€‚\n\nå¥½äº†ï¼Œç°åœ¨æ¥è€ƒè™‘ä¸€ä¸ªæ¶ˆè´¹åœºæ™¯ï¼š\nå‡å¦‚ä½ åˆ°åŠ æ‹¿å¤§å»æ—…æ¸¸ï¼Œå›å›½æ—¶åœ¨æœºåœºçœ‹åˆ°æœ‰ç¤¼å“åº—åœ¨å–å†°é…’ï¼Œè€ƒè™‘ä¹°ä¸€ç“¶å†°é…’å›å›½åè‡ªå·±æ¶ˆè´¹é¥®ç”¨ã€‚è¿™ç“¶å†°é…’å®¹é‡å¤§æ¦‚ä¸º 400ml ï¼Œå¹¶ä¸”è¿™ç“¶å†°é…’åªæ˜¯ä¸€ä¸ªæ™®é€šç‰Œå­ï¼Œä¸æ˜¯å¥¢ä¾ˆå“æˆ–é«˜æ¡£å“ç‰Œã€‚\nåœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œè¯·å¤§å®¶è€ƒè™‘ä¸¤ä¸ªé—®é¢˜ï¼š\n1. å‡è®¾å•†åº—ä¸­è¿™ç“¶å†°é…’æ ‡ä»·æ¢ç®—ä¸ºäººæ°‘å¸æ˜¯ ï¿¥100 ï¼Œä½ æ˜¯å¦æ„¿æ„ä»¥è¿™ä¸ªä»·æ ¼è´­ä¹°ä¸€ç“¶å†°é…’ï¼Ÿ\n2. å‡è®¾ä½ è¿˜ä¸çŸ¥é“è¿™ç“¶å†°é…’çš„ä»·æ ¼ï¼Œä½ ä¼šé€‰æ‹©è´­ä¹°çš„æœ€é«˜ä»·æ ¼æ˜¯ä¸€ç“¶å†°é…’å¤šå°‘å…ƒï¼Ÿ\n\nåœ¨é—®é¢˜ 2 ä¸­ï¼Œä½ æ„¿æ„æ”¯ä»˜çš„æœ€é«˜ä»·æ ¼å°±æ˜¯ä½ çš„å¿ƒç†ä»·ä½ï¼Œå¦‚æœå•†åº—ä»·æ ¼é«˜äºå¿ƒç†ä»·ä½ï¼Œä½ å°±ä¸ä¼šè´­ä¹°è¿™ä»¶å•†å“ã€‚è€Œå¦‚æœä»·æ ¼ä½äºå¿ƒç†ä»·ä½ï¼Œä½ å°±ä¼šè´­ä¹°è¿™ä»¶å•†å“ã€‚\n\n# æ„æ„¿æ”¯ä»˜\n\nä¸Šé¢åœºæ™¯ä¸­æ‰€è¯´çš„å¿ƒç†ä»·ä½ï¼Œåœ¨ç»æµå­¦ä¸­åˆå«**æ„æ„¿æ”¯ä»˜**ã€‚\n\n\u003e **æ„æ„¿æ”¯ä»˜**ï¼ˆ willingness to pay ï¼‰ï¼šæ˜¯æ¶ˆè´¹è€…æ„¿æ„ä¸ºè·å¾—æŸç§ç‰©å“æ‰€æ”¯ä»˜çš„æœ€é«˜ä»£ä»·ã€‚ â€”â€” æ›¼æ˜†ã€Šç»æµå­¦åŸç†ï¼šå¾®è§‚ç»æµå­¦åˆ†å†Œã€‹: Page 134\n\nå¦‚æœè¿™ç“¶å†°é…’å®šä»·æ˜¯ 100 å…ƒï¼Œä½ ä¼šè§‰å¾—å¤ªè´µäº†ä¸ä¹°ï¼Œå°±è¯´æ˜ä½ çš„æ„æ„¿æ”¯ä»˜ä»·æ ¼ä½äº 100 å…ƒã€‚\nç„¶åæˆ‘ä»¬å†å‡è®¾è¿™ç“¶å†°é…’ 50 å…ƒï¼Œä½ è§‰å¾—å¾ˆå¥½å¾ˆä¾¿å®œï¼Œé€‰æ‹©ä¹°äº†ï¼Œå°±è¯´æ˜ä½ çš„æ„æ„¿æ”¯ä»˜ä»·æ ¼åœ¨ 100 å…ƒåˆ° 50 å…ƒä¹‹é—´ã€‚\nå†æŠŠèŒƒå›´æ”¶çª„ä¸€ç‚¹ï¼Œ 80 å…ƒé€‰æ‹©ä¸ä¹°ï¼Œ 60 å…ƒé€‰æ‹©ä¹°ã€‚èŒƒå›´é€æ¸æ”¶æ•›ï¼Œä¹°ä¸ä¸ä¹°ä¹‹é—´çš„æ„å‘ä¼šå˜å¾—è¶Šæ¥è¶Šæ¨¡ç³Šã€‚æˆ‘ä»¬å‡è®¾æœ€ç»ˆæ”¶æ•›åˆ° 70 å…ƒï¼Œä½ å˜å¾—éå¸¸çŠ¹è±«ï¼Œæ„Ÿè§‰ä¹°ä¸ä¸ä¹°æ²¡æœ‰å·®åˆ«ï¼Œé‚£ 70 å…ƒå°±æ˜¯ä½ çš„æ„æ„¿æ”¯ä»˜ä»·æ ¼ã€‚\n\n[ [å›¾ç‰‡ï¼šæ„æ„¿æ”¯ä»˜ä»·æ ¼é€¼è¿‘ã€‚ä»·æ ¼100æ—¶ï¼Œä¸ä¹°ï¼Œä»·æ ¼50æ—¶ï¼Œä¹°ï¼Œ80ï¼Œ60ï¼Œæœ€å70æ—¶ä¼šçŠ¹è±«]]\n\n## æ„æ„¿æ”¯ä»˜ä»·æ ¼çš„ç»æµå­¦è§£é‡Š\n\nç»æµå­¦ä¸Šæœ‰ç†æ€§äººè¿™ä¸€æ¦‚å¿µï¼Œå®é™…ä¸Šæ˜¯åœ¨å‡è®¾ä½ åœ¨å†³å®šæ˜¯å¦åšå†³ç­–æ—¶ï¼Œä¼šå°†æˆæœ¬ä¸æ”¶ç›Šåšæ¯”è¾ƒï¼š\n- if æ”¶ç›Š \u003e æˆæœ¬ : åšå‡ºå†³ç­–\n- if æ”¶ç›Š \u003c æˆæœ¬ : ä¸åšå‡ºå†³ç­–\n\nåœ¨è´­ä¹°å†°é…’çš„åœºæ™¯ä¸­ï¼Œåšå†³ç­–å°±æ˜¯æŒ‡â€œä¹°å†°é…’â€è¿™ä¸ªè¡Œä¸ºã€‚è€Œæˆæœ¬å°±æ˜¯å†°é…’çš„ä»·æ ¼ï¼Œæ”¶ç›Šå°±æ˜¯ä½ å–ä¸‹å†°é…’æ„Ÿè§‰â€œçˆ½åˆ°â€ã€‚\nè€Œæˆ‘ä»¬ä¸æ˜¯æœºå™¨äººï¼Œæˆ‘ä»¬â€œçˆ½åˆ°â€çš„æ„Ÿè§‰æ˜¯å¾ˆéš¾ä¸ä»·æ ¼è¿™ç§æ•°å­—ç›¸æ¯”è¾ƒçš„ã€‚å› æ­¤æˆ‘ä»¬è¦æ‰¾ä¸€ä¸ªåŠæ³•æŠŠæˆ‘ä»¬çš„çˆ½åˆ°é‡åŒ–ä¸ºä»·æ ¼ã€‚\nè€Œæ„æ„¿æ”¯ä»˜ä»·æ ¼å°±æ˜¯è¿™ä¸ªåŠæ³•ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¹°ä¸ä¸ä¹°çš„ä»·æ ¼èŒƒå›´ä¸æ–­é€¼è¿‘ï¼Œæœ€ç»ˆåˆ° 70 å…ƒæ—¶ä½ è§‰å¾—ä¹°è¿˜æ˜¯ä¸ä¹°éƒ½æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ å–å†°é…’çˆ½åˆ°ï¼Œå°±ç›¸å½“äºå¾—åˆ°äº† 70 å…ƒã€‚\n\n\u003e **æ„æ„¿æ”¯ä»˜ä»·æ ¼**ï¼šå•†å“æ¶ˆè´¹è¡Œä¸ºç»™æ¶ˆè´¹è€…å¸¦æ¥çš„æ•ˆç”¨çš„è´§å¸åº¦é‡ã€‚\n\n\næœ‰äº†æ„æ„¿æ”¯ä»˜ä»·æ ¼ï¼Œä¹°å†°é…’è¿™ä»¶äº‹å°±å¾ˆå®¹æ˜“æ¨¡å‹åŒ–äº†ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥å¥—å›ç†æ€§äººå†³ç­–çš„æ¨¡å‹ï¼š\n- åšå†³ç­– = ä¹°å†°é…’\n- æ”¶ç›Š = æ„æ„¿æ”¯ä»˜ä»·æ ¼\n- æˆæœ¬ = å†°é…’ä»·æ ¼\n\nåˆ™æœ‰ï¼š\n- if æ„æ„¿æ”¯ä»˜ä»·æ ¼ \u003e å†°é…’ä»·æ ¼ : ä¹°å†°é…’\n- if æ„æ„¿æ”¯ä»˜ä»·æ ¼ \u003c å†°é…’ä»·æ ¼ : ä¸ä¹°å†°é…’\n\n[ [å›¾ç‰‡ï¼šæ„æ„¿æ”¯ä»˜ä»·æ ¼=æ”¶ç›ŠæŸ±=70å…ƒï¼Œä»·æ ¼=æˆæœ¬=çº¿ï¼Œçº¿é«˜äºæŸ±=ä¸å†³ç­–ï¼Œçº¿ä½äºæŸ±=å†³ç­–]]\n\nåœ¨ä¹°å†°é…’è¿™ä¸€å†³ç­–ä¸­ï¼Œä½ çš„æ”¶ç›Šå°±æ˜¯ 70 å…ƒï¼ˆå–å†°é…’çˆ½åˆ°ï¼‰ã€‚è¦ä½ èŠ± 100 å…ƒï¼ˆå†°é…’ä»·æ ¼ï¼‰æ¥æ¢ 70 å…ƒï¼Œä½ è‚¯å®šæ˜¯ä¸å¹²çš„ã€‚è€Œè¦ä½ èŠ± 50 å…ƒæ¥æ¢ 70 å…ƒï¼Œä½ å°±ä¼šçˆ½å¿«ç­”åº”äº†ã€‚\n\n## æ¶ˆè´¹è€…å‰©ä½™\n\nåœ¨ä¸Šé¢æ¨¡å‹ä¸­ï¼Œå¦‚æœä½ çš„æ„æ„¿æ”¯ä»˜ä»·æ ¼æ˜¯ 70 å…ƒï¼Œè€Œå†°é…’åªå– 50 å…ƒï¼Œä½ å°±ä¸€å®šä¼šä¹°ä¹°ä¹°ï¼Œå› ä¸ºåªè¦èŠ± 50 å…ƒå°±èƒ½ä¹°åˆ° 70 å…ƒçš„â€œçˆ½åˆ°â€å‘€ï¼ä¹°åˆ°å°±æ˜¯èµšåˆ°ã€‚\n\n70 å…ƒçš„â€œçˆ½åˆ°â€åªè¦èŠ± 50 å…ƒå°±èƒ½ä¹°åˆ°ï¼Œè¿™ä¸­é—´å°±å·®äº† 20 å…ƒå‘¢ï¼Œä½ å°±ä¼šè§‰å¾—ä¹°å†°é…’çš„è¿™ç¬”é’±èŠ±å¾—çœŸå€¼ï¼Œèµšåˆ° 20 å…ƒã€‚ç»æµå­¦ä¸Šå°±ç§°è¿™æ˜¯å¾—åˆ°äº† 20 å…ƒçš„æ¶ˆè´¹è€…å‰©ä½™ã€‚\n\n\u003e **æ¶ˆè´¹è€…å‰©ä½™**ï¼ˆ consumer surplus ï¼‰ï¼šä¹°è€…åŸæ„ä¸ºä¸€ç§ç‰©å“æ”¯ä»˜çš„é‡å‡å»å…¶ä¸ºæ­¤å®é™…æ”¯ä»˜çš„é‡ã€‚ â€”â€” æ›¼æ˜†ã€Šç»æµå­¦åŸç†ï¼šå¾®è§‚ç»æµå­¦åˆ†å†Œã€‹: Page 135\n\nè®¡ç®—ä¸Šï¼š\n$$\næ¶ˆè´¹è€…å‰©ä½™ = æ„æ„¿æ”¯ä»˜ä»·æ ¼ - å•†å“ä»·æ ¼ \n$$\nè€Œå®é™…ä¸Šï¼Œæ¶ˆè´¹è€…å‰©ä½™æ˜¯ä½ ä¹°å•†å“æ—¶èµšåˆ°çš„æ„Ÿè§‰ï¼Œæ˜¯è¿™ç§æ„Ÿè§‰çš„é‡åŒ–ã€‚\nä½ æ„Ÿè§‰ä¹°è¿™ç“¶å†°é…’èµšé£äº†ï¼Œé‡åŒ–åè¡¨ç°ä¸ºè¿™æ¬¡äº¤æ˜“ä½ è·å¾—çš„æ¶ˆè´¹è€…å‰©ä½™å¤šï¼›ä½ æ„Ÿè§‰è¿™æ¬¡äº¤æ˜“ä¸€èˆ¬èˆ¬ï¼Œæœ‰ç‚¹å°è´µï¼ˆä½†è¿˜æ˜¯æ„¿æ„ä¹°ï¼‰ï¼Œé‡åŒ–åå°±æ˜¯è¿™æ¬¡äº¤æ˜“ä½ è·å¾—çš„æ¶ˆè´¹è€…å‰©ä½™å°‘ã€‚ä½ è·å¾—å¤šå°‘æ¶ˆè´¹è€…å‰©ä½™ï¼Œå°±ä»£è¡¨ä½ åœ¨è¿™åœºäº¤æ˜“ä¸­èµšåˆ°äº†å¤šå°‘ï¼ˆæ„Ÿè§‰ä¸Šï¼‰ã€‚\n\nç°åœ¨è€ƒè™‘å¦ä¸€ç§æƒ…å†µï¼šä½ çš„æ„æ„¿æ”¯ä»˜ä»·æ ¼ä¸º 70 å…ƒï¼Œè€Œå†°é…’ä»·æ ¼ä¸º 100 å…ƒæ—¶ã€‚ä½ æ²¡æœ‰é€‰æ‹©äº¤æ˜“ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µï¼Œä½ æ²¡æœ‰è·å¾—æ¶ˆè´¹è€…å‰©ä½™ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰å¤±å»æ¶ˆè´¹è€…å‰©ä½™ã€‚\nä»å¦ä¸€ä¸ªè§’åº¦æ¥è¯´ï¼Œä½ è§‰å¾—äº¤æ˜“æˆç«‹åä½ ä¼šå¾—åˆ°è´Ÿçš„æ¶ˆè´¹è€…å‰©ä½™ï¼Œå› æ­¤æœºåˆ¶çš„ä½ å†³å®šä¸äº¤æ˜“ï¼Œé˜²æ­¢äº†è¿™æ¬¡æŸå¤±ã€‚\n\nè¯åˆè¯´å›æ¥ï¼Œå®é™…æƒ…å†µä¸­äººçš„å†³ç­–æ˜¯ä¸å¯èƒ½è¿™ä¹ˆç†æ€§åœ°å»æ¯”è¾ƒæˆæœ¬ä¸æ”¶ç›Šï¼Œç”šè‡³æœ‰å¯èƒ½æ ¹æœ¬å¾—ä¸å‡ºä¸€ä¸ªæ„æ„¿æ”¯ä»˜ä»·æ ¼ã€‚å› æ­¤ä¸Šè¿°è®¨è®ºéƒ½æ˜¯å»ºç«‹åœ¨å‡è®¾ä¸Šçš„â€”â€”å‡è®¾ç†æ€§äººæ¨¡å‹æˆç«‹ã€‚\nåœ¨å®é™…æƒ…å†µä¸­ï¼Œè¿™ä¸€å‡è®¾å¯èƒ½æ ¹æœ¬ä¸æˆç«‹ï¼Œå› æ­¤è¿™äº›è®¨è®ºåœ¨ç°å®ä¸­å¯èƒ½æ ¹æœ¬ä¸é€‚ç”¨ã€‚å¯è¿™åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå°±ç®—ç›¸å¯¹è®ºæ˜¯æ­£ç¡®çš„ï¼Œç‰›é¡¿å®šç†ä»ç„¶æœ‰ä»–ä»·å€¼ä¸æ˜¯å—ï¼Ÿ\n\n# éœ€æ±‚æ›²çº¿\n\nå¥½äº†ï¼Œä¸Šé¢è¯´äº†ä¸€å¤§å †ï¼Œå…¶å®éƒ½æ˜¯å•ä¸ªæ¶ˆè´¹è€…ï¼ˆä½ ï¼‰è¿›è¡Œæ¶ˆè´¹çš„æƒ…å†µã€‚å¯å®é™…ä¸Šï¼Œè¿™å†°é…’æ€»ä¸å¯èƒ½åªæœ‰ä¸€ä¸ªäººä¹°å‘€ï¼\n\nè€Œå®é™…ä¸Šï¼Œæ¯ä¸ªäººå¯¹å†°é…’çš„çˆ±å¥½ã€å£æ„Ÿè¦æ±‚ã€å¥¢ä¾ˆå“éœ€æ±‚ç­‰éƒ½æ˜¯ä¸åŒçš„ã€‚è¿™å°±å¯¼è‡´äº†æ¯ä¸ªäººå¯¹å†°é…’è¿™ä¸€å•†å“çš„æ„æ„¿æ”¯ä»˜ä»·æ ¼å¯èƒ½éƒ½ä¸ä¸€æ ·ï¼\n\n## æ„æ„¿æ”¯ä»˜ä»·æ ¼ç»Ÿè®¡\n\næˆ‘ä»¬å‡è®¾ï¼Œä»Šå¤©å…¶å®æœ‰åŒ…æ‹¬ä½ åœ¨å†…çš„ 100 ä¸ªå®¢äººéƒ½æ¥è¿‡è¿™å®¶å†°é…’åº—ã€‚æˆ‘æŠŠè¿™ 100 ä¸ªå®¢äººå…¨éƒ¨é€®ä½ï¼ŒæŒ‰é¡ºåºæ¯ä¸ªäººéƒ½å®¡é—®äº†ä¸€éæ„æ„¿æ”¯ä»˜ä»·æ ¼ã€‚äºæ˜¯å¾—åˆ°äº†è¿™æ ·ä¸€å¹…æ„æ„¿æ”¯ä»˜ä»·æ ¼ç»Ÿè®¡çš„å›¾ï¼š\n\n[ [å›¾ï¼šæ„æ„¿æ”¯ä»˜ä»·æ ¼æŸ±çŠ¶å›¾ï¼Œä¹±åºï¼Œæ¨ªåæ ‡æ˜¯åˆ°åº—æ—¶é—´ï¼Œçºµåæ ‡ä»·æ ¼ï¼Œæ¨ªçº¿ä¸ºå†°é…’ä»·æ ¼ï¼Œä¸Šä¸‹æµ®åŠ¨ï¼Œæ„æ„¿æ”¯ä»˜ä»·æ ¼è¶…è¿‡å†°é…’ä»·æ ¼å°±ä¼šè´­ä¹°]]\n\nå¦‚æœå†°é…’ä»·æ ¼ä¸º 80 å…ƒï¼Œé‚£æ‰€æœ‰æ„æ„¿æ”¯ä»˜ä»·æ ¼è¶…è¿‡ 80 å…ƒçš„å®¢äººéƒ½ä¼šé€‰æ‹©ä¹°å†°é…’ï¼Œè€Œæ„æ„¿æ”¯ä»˜ä»·æ ¼ä½äº 80 å…ƒçš„äººéƒ½ä¸ä¼šé€‰æ‹©ä¹°ã€‚è€Œå¦‚æœå†°é…’ä»·æ ¼ä¸º 60 å…ƒï¼Œé‚£æ„æ„¿æ”¯ä»˜ä»·æ ¼è¶…è¿‡ 60 å…ƒçš„é‚£éƒ¨åˆ†å®¢äººä¹Ÿä¼šå¼€å§‹é€‰æ‹©ä¹°ã€‚å†°é…’ä»·æ ¼è¶Šä½ï¼Œé€‰æ‹©ä¹°å†°é…’çš„å®¢äººå°±è¶Šå¤šã€‚\n\nå¯æ˜¯è¿™å›¾æœ‰ç‚¹ä¹±ï¼š\n1. çœ‹ä¸å‡ºå®¢äººæ„æ„¿æ”¯ä»˜ä»·æ ¼çš„åˆ†å¸ƒ\n2. å¦‚æœæœ‰ 200 ä¸ªå®¢äººåˆ°åº—ï¼Œå¯¹åº”ä»·æ ¼çš„å†°é…’åˆä¼šæœ‰å¤šå°‘äººä¹°ï¼Ÿ\n\n## éœ€æ±‚æ›²çº¿\n\nä¸ºäº†å¤„ç†ä¸Šé¢æå‡ºçš„ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘æŠŠå®¢äººæŒ‰ç…§æ„æ„¿æ”¯ä»˜ä»·æ ¼ä»é«˜åˆ°ä½æ¥äº†ä¸ªå¿«é€Ÿæ’åºï¼Œç„¶åæŠŠæŸ±çŠ¶å›¾è¿æˆäº†ä¸€æ¡æ›²çº¿ï¼š\n\n[ [å›¾ï¼šå¿«é€Ÿæ’åºï¼Œæ„æ„¿æ”¯ä»˜ä»·æ ¼ä»é«˜åˆ°ä½ï¼Œç„¶åè¿æˆæ›²çº¿ï¼Œæœ€åè¿˜æ˜¯æœ‰å†°é…’ä»·æ ¼æ¨ªçº¿]]\n\næˆ‘ä»¬èƒ½çœ‹åˆ°ï¼Œä»£è¡¨å†°é…’ä»·æ ¼ï¼ˆå¸‚åœºä»·æ ¼ï¼‰çš„æ¨ªçº¿ä¸æ›²çº¿å½¢æˆäº†ä¸€ä¸ªäº¤ç‚¹ã€‚äº¤ç‚¹å·¦è¾¹çš„å®¢äººéƒ½ä¼šé€‰æ‹©ä¹°å†°é…’ï¼Œè€Œå³è¾¹çš„äººéƒ½ä¼šé€‰æ‹©ä¸ä¹°ã€‚\nå†°é…’ä»·æ ¼ä¸‹é™ï¼Œäº¤ç‚¹å³ç§»ï¼Œé€‰æ‹©è´­ä¹°å†°é…’çš„å®¢äººå°±ä¼šå˜å¤šï¼›å†°é…’ä»·æ ¼ä¸Šå‡ï¼Œäº¤ç‚¹å·¦ç§»ï¼Œè´­ä¹°çš„äººå°±ä¼šå˜å°‘ã€‚å› æ­¤äº¤ç‚¹çš„æ¨ªåæ ‡å°±æ˜¯è´­ä¹°å†°é…’çš„äººæ•°ï¼Œä¹Ÿå°±æ˜¯å†°é…’äº¤æ˜“é‡ã€‚\n\nå‡è®¾æ¯ä¸ªå®¢äººåªä¼šä¹°ä¸€ç“¶å†°é…’ï¼Œé‚£ä¹ˆäº¤ç‚¹çš„æ¨ªåæ ‡åŒæ—¶ä¹Ÿå°±æ˜¯å†°é…’çš„éœ€æ±‚é‡ï¼ˆå®é™…ä¸Šæœ‰å®¢äººä¸æ­¢ä¹°ä¸€ç“¶å†°é…’ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å½“æ˜¯æ¥äº†ä¸¤ä¸ªå®¢äººï¼‰ã€‚è€Œäº¤ç‚¹çš„çºµåæ ‡å½“ç„¶å°±æ˜¯å†°é…’çš„ä»·æ ¼ã€‚\nå†°é…’ä»·æ ¼å˜åŒ–ï¼Œäº¤ç‚¹ä½ç½®ä¹Ÿä¼šå˜åŒ–ï¼Œå¯¹åº”éœ€æ±‚é‡ä¹Ÿè·Ÿéšå‘ç”Ÿå˜åŒ–ã€‚è¿™æ¡æ›²çº¿æç»˜çš„å°±æ˜¯å†°é…’éœ€æ±‚é‡éšå†°é…’ä»·æ ¼å˜åŒ–çš„å…³ç³»ã€‚\n\n[ [å›¾ï¼šéœ€æ±‚æ›²çº¿ä¸ä»·æ ¼çš„äº¤ç‚¹ï¼Œçºµåæ ‡æ¨ªåæ ‡è§£é‡Šï¼Œä»·æ ¼å˜åŠ¨åï¼Œçºµåæ ‡ä¸æ¨ªåæ ‡å˜åŒ–è§£é‡Šï¼Œäº¤ç‚¹è¿ç»­å˜ä¸ºæ›²çº¿]]\n\næˆ‘ä»¬ç§°è¿™æ¡æ›²çº¿ä¸ºå†°é…’çš„éœ€æ±‚æ›²çº¿ã€‚\n\n\u003e **éœ€æ±‚æ›²çº¿**ï¼ˆ Demand Curve ï¼‰ï¼šè¡¨ç¤ºä¸€ç§ç‰©å“ä»·æ ¼ä¸éœ€æ±‚é‡ä¹‹é—´å…³ç³»çš„å›¾å½¢ â€”â€” æ›¼æ˜†ã€Šç»æµå­¦åŸç†ï¼šå¾®è§‚ç»æµå­¦åˆ†å†Œã€‹: Page 68\n\nåƒè¿™æ ·ç”¨éœ€æ±‚æ›²çº¿è¡¨ç¤ºä»·æ ¼ä¸éœ€æ±‚é‡çš„å…³ç³»ï¼Œå¯ä»¥è§£å†³ä¸Šé¢çš„ä¸¤ä¸ªé—®é¢˜ï¼š\n1. å®¢äººæ„æ„¿æ”¯ä»˜ä»·æ ¼çš„åˆ†å¸ƒå°±æ˜¯éœ€æ±‚æ›²çº¿çš„å½¢çŠ¶ï¼ˆè™½ç„¶æˆ‘ä»¬ä¸ºäº†ç®€åŒ–åªç”»ç›´çº¿ï¼Œä½†å…¶å®æ›²çº¿å½¢çŠ¶ä¹Ÿæ˜¯å¯ä»¥ä¸Šå‡¸ä¸‹å‡¹ï¼Œç”šè‡³æ˜¯Så½¢çš„ï¼‰\n2. å¦‚æœå®¢äººæ•°é‡ç¿»å€ï¼Œæˆ‘ä»¬ä¸€èˆ¬è®¤ä¸ºæ–°æ¥çš„ 100 äººæ„æ„¿æ”¯ä»˜ä»·æ ¼åˆ†å¸ƒè·ŸåŸå…ˆ 100 äººçš„åˆ†å¸ƒå‡ ä¹ç›¸åŒï¼Œå› æ­¤éœ€æ±‚æ›²çº¿å½¢çŠ¶ä¸å˜ï¼Œæ¨ªåæ ‡è½´ç¼©çŸ­ä¸€åŠï¼ˆæˆ–è€…è¯´å›¾å½¢æ¨ªå‘æ‹‰ä¼¸ä¸€å€ï¼‰å°±æ˜¯æˆ‘ä»¬è¦çš„ç»“æœäº†ã€‚\n\nå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ•°å­¦ä¸­æˆ‘ä»¬å¸¸æŠŠæ¨ªåæ ‡å½“ä½œè‡ªå˜é‡ï¼Œè€Œçºµåæ ‡è¡¨ç¤ºå› å˜é‡ã€‚ä½†éœ€æ±‚æ›²çº¿ä¸­æ­£ç›¸åï¼Œçºµåæ ‡çš„ä»·æ ¼æ˜¯è‡ªå˜é‡ï¼Œéœ€æ±‚é‡æ‰æ˜¯å› å˜é‡ã€‚\næˆ‘è®°å¾—é«˜ä¸­è€å¸ˆä¸€èˆ¬éƒ½ä¼šè¯´è¿™æ˜¯å› ä¸ºç»æµå­¦å®¶ä¸æ‡‚æ•°å­¦ï¼Œç„¶åè‰è‰å¸¦è¿‡ã€‚ä½†å®é™…ä¸Šï¼Œæ¶ˆè´¹è€…æ„æ„¿æ”¯ä»˜å¤šå°‘é’±å®¹æ˜“ç»Ÿè®¡ï¼Œè€Œä¸åŒä»·æ ¼ä¸‹åˆ°åº•æœ‰å¤šå°‘äººä¼šæƒ³ä¹°éš¾ä»¥ç»Ÿè®¡ã€‚é€šè¿‡ç»Ÿè®¡æ„æ„¿æ”¯ä»˜ä»·æ ¼å¹¶æ’åºç”Ÿæˆéœ€æ±‚æ›²çº¿æ—¶ï¼Œå°†ä»·æ ¼æ”¾åœ¨çºµè½´æ˜¯ä¸€ç§å¾ˆåˆç†çš„é€‰æ‹©ã€‚é©¬æ­‡å°”å½“åˆä¹Ÿæ˜¯åœ¨è¿™ä¸€æ¡†æ¶ä¸‹æ¨å¯¼å‡ºéœ€æ±‚æ›²çº¿çš„ï¼Œæ›¼æ˜†ä¹Ÿåœ¨ä»–çš„[è¿™ç¯‡åšå®¢](http://gregmankiw.blogspot.com/2006/09/who-invented-supply-and-demand.html)ä¸­å¯¹æ­¤æœ‰è¿‡è®¨è®ºã€‚\nï¼ˆå®é™…ä¸Šï¼Œé©¬æ­‡å°”æ˜¯ä»æ•ˆç”¨ç†è®ºæ¨å¯¼å‡ºéœ€æ±‚æ›²çº¿çš„ï¼Œä¸æˆ‘ä»¬ä¸Šé¢æ¨å¯¼çš„è¿‡ç¨‹ä¸ä¸€æ ·ï¼Œä½†æ€»çš„æ¥è¯´è¿˜æ˜¯åœ¨åŒä¸€æ¡†æ¶ä¸‹ã€‚è¯´é©¬æ­‡å°”ä¸æ‡‚æ•°å­¦ï¼Œå°±åƒæ˜¯åœ¨è¯´è–›å®šè°”ä¸æ‡‚æ•°å­¦â€”â€”æ€ä¹ˆå¯èƒ½å˜›ã€‚ï¼‰\n\n\n\n## å¸‚åœºä¸Šæ‰€æœ‰çš„æ¶ˆè´¹è€…å‰©ä½™\n\nåº—é‡Œæ¥äº†è¿™ä¹ˆå¤šäººï¼Œæ¯ä¸ªäººæ„æ„¿æ”¯ä»˜ä»·æ ¼éƒ½ä¸ä¸€æ ·ï¼Œé‚£æ¯ä¸ªäººä¹°åˆ°åŒæ ·ä»·æ ¼çš„å†°é…’ï¼Œæ„Ÿè§‰èµšåˆ°çš„ç¨‹åº¦è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ã€‚\n\n[ [å›¾ï¼šæŸ±çŠ¶å›¾ï¼Œå±•ç¤ºä¸ªäººçš„æ¶ˆè´¹è€…å‰©ä½™ï¼Œç„¶ååˆ°çº¿å›¾ï¼Œå±•ç¤ºé¢ç§¯ï¼Œå³å¸‚åœºä¸­çš„æ¶ˆè´¹è€…å‰©ä½™]]\n\nå¯¹äºå•ä¸ªäººæ¥è¯´ï¼Œä»–çš„æ¶ˆè´¹è€…å‰©ä½™å°±æ˜¯æ„æ„¿æ”¯ä»˜ä»·æ ¼å‡å»å•†å“ä»·æ ¼ï¼Œä¹Ÿå°±æ˜¯æŸ±å­åœ¨ä»·æ ¼çº¿ä»¥ä¸Šæ ‡æ©™è‰²çš„éƒ¨åˆ†ã€‚\n\nå¯ç°åœ¨åˆ°åº—é‡Œçš„ä¸æ­¢ä¸€ä¸ªäººå•Šï¼Œæˆ‘è¦ç®—æ‰€æœ‰æ¶ˆè´¹è€…ä¸€å…±æ„Ÿè§‰èµšåˆ°äº†å¤šå°‘ã€‚é‚£æˆ‘å°±è¦æŠŠæ‰€æœ‰æ©™è‰²éƒ¨åˆ†åŠ èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯åšäº†ä¸€ä¸ªç§¯åˆ†ï¼Œç§¯åˆ†çš„ç»“æœå°±æ˜¯åˆ°åº—é‡Œæ‰€æœ‰äººé€šè¿‡ä¹°å†°é…’è¿™ä»¶äº‹ä¸€å…±èƒ½èµšå¤šå°‘äº†ã€‚å¤§å®¶åˆ«çœ‹åˆ°ç§¯åˆ†å°±æ€•ï¼Œå…¶å®æ„æ€å°±æ˜¯æ±‚éœ€æ±‚æ›²çº¿ä»¥ä¸‹ï¼Œä»·æ ¼çº¿ä»¥ä¸Šè¿™ä¸€ä¸‰è§’å½¢çš„é¢ç§¯ã€‚\nï¼ˆæ¯ä¸ªäººä¹°å†°é…’ä»·æ ¼è‚¯å®šæ˜¯å›ºå®šçš„ã€‚æ€»ä¸èƒ½å¯¹ä¸åŒçš„äººä»¥ä¸åŒçš„ä»·æ ¼å‡ºå”®å§ï¼‰\n\nå€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨ä»·æ ¼çº¿ä¸éœ€æ±‚æ›²çº¿äº¤ç‚¹å³è¾¹çš„è¿™äº›äººï¼Œæ˜¯ä¸ç®—æ¶ˆè´¹è€…å‰©ä½™çš„ï¼Œä¹Ÿä¸ä¼šä½¿æ€»çš„æ¶ˆè´¹è€…å‰©ä½™å‡å°‘ã€‚å› ä¸ºä»–ä»¬å«Œå†°é…’å¤ªè´µï¼ˆé«˜äºæ„æ„¿æ”¯ä»˜ä»·æ ¼ï¼‰ï¼Œæ ¹æœ¬å°±æ²¡æœ‰ä¹°å†°é…’ï¼ˆè¾¾æˆäº¤æ˜“ï¼‰ã€‚\n\n\n# æ€»ç»“ä¸€ä¸‹\n\n","title":"å›¾è§£ç»æµå­¦åŸç†(1)","abstract":"\u003e 1. è¿™ç¯‡æ–‡ç« å‚è€ƒäº†æ›¼æ˜†çš„ã€Šç»æµå­¦åŸç†ã€‹ä¸åŒ—äº¬å¤§å­¦ç‹è¾‰è€å¸ˆçš„ã€Šå¾®è§‚ç»æµå­¦ã€‹è¯¾ç¨‹ï¼Œå†…å®¹ä¸Šä¼šæœ‰éƒ¨åˆ†ç›¸ä¼¼ã€‚\n\u003e 2. è¿™ç¯‡æ–‡ç« ä¸­çš„å›¾ä½¿ç”¨ 3Blue1Brown çš„åŠ¨ç”»ç”Ÿæˆå·¥å…· manim çš„ Community Edition åˆ¶ä½œï¼Œæºä»£ç ä¹‹åä¼šä¸Šä¼ åˆ° GitHub ã€‚\næˆ‘ä»¬å…ˆä¸è®²è¯¾ï¼Œå…ˆæ¥å¸¦ä¸ªè´§ã€‚","length":139,"created_at":"2022-06-28T00:59:41.000Z","updated_at":"2022-06-28T14:24:43.000Z","tags":[],"license":true,"headingTrees":[{"key":"created_at-2022-06-28-005941updated_at-2022-06-28-2224430800title-å›¾è§£ç»æµå­¦åŸç†1license-truedate-2022-06-28-005941tags","href":"#created_at-2022-06-28-005941updated_at-2022-06-28-2224430800title-å›¾è§£ç»æµå­¦åŸç†1license-truedate-2022-06-28-005941tags","heading":2,"title":"created_at: 2022-06-28 00:59:41\nupdated_at: 2022-06-28 22:24:43+08:00\ntitle: å›¾è§£ç»æµå­¦åŸç†(1)\nlicense: true\ndate: 2022-06-28 00:59:41\ntags:","children":[],"id":"created_at-2022-06-28-005941updated_at-2022-06-28-2224430800title-å›¾è§£ç»æµå­¦åŸç†1license-truedate-2022-06-28-005941tags"},{"key":"æ„æ„¿æ”¯ä»˜","href":"#æ„æ„¿æ”¯ä»˜","heading":1,"title":"æ„æ„¿æ”¯ä»˜","children":[{"key":"æ„æ„¿æ”¯ä»˜ä»·æ ¼çš„ç»æµå­¦è§£é‡Š","href":"#æ„æ„¿æ”¯ä»˜ä»·æ ¼çš„ç»æµå­¦è§£é‡Š","heading":2,"title":"æ„æ„¿æ”¯ä»˜ä»·æ ¼çš„ç»æµå­¦è§£é‡Š","children":[],"id":"æ„æ„¿æ”¯ä»˜ä»·æ ¼çš„ç»æµå­¦è§£é‡Š"},{"key":"æ¶ˆè´¹è€…å‰©ä½™","href":"#æ¶ˆè´¹è€…å‰©ä½™","heading":2,"title":"æ¶ˆè´¹è€…å‰©ä½™","children":[],"id":"æ¶ˆè´¹è€…å‰©ä½™"}],"id":"æ„æ„¿æ”¯ä»˜"},{"key":"éœ€æ±‚æ›²çº¿","href":"#éœ€æ±‚æ›²çº¿","heading":1,"title":"éœ€æ±‚æ›²çº¿","children":[{"key":"æ„æ„¿æ”¯ä»˜ä»·æ ¼ç»Ÿè®¡","href":"#æ„æ„¿æ”¯ä»˜ä»·æ ¼ç»Ÿè®¡","heading":2,"title":"æ„æ„¿æ”¯ä»˜ä»·æ ¼ç»Ÿè®¡","children":[],"id":"æ„æ„¿æ”¯ä»˜ä»·æ ¼ç»Ÿè®¡"},{"key":"éœ€æ±‚æ›²çº¿-1","href":"#éœ€æ±‚æ›²çº¿-1","heading":2,"title":"éœ€æ±‚æ›²çº¿","children":[],"id":"éœ€æ±‚æ›²çº¿-1"},{"key":"å¸‚åœºä¸Šæ‰€æœ‰çš„æ¶ˆè´¹è€…å‰©ä½™","href":"#å¸‚åœºä¸Šæ‰€æœ‰çš„æ¶ˆè´¹è€…å‰©ä½™","heading":2,"title":"å¸‚åœºä¸Šæ‰€æœ‰çš„æ¶ˆè´¹è€…å‰©ä½™","children":[],"id":"å¸‚åœºä¸Šæ‰€æœ‰çš„æ¶ˆè´¹è€…å‰©ä½™"}],"id":"éœ€æ±‚æ›²çº¿"},{"key":"æ€»ç»“ä¸€ä¸‹","href":"#æ€»ç»“ä¸€ä¸‹","heading":1,"title":"æ€»ç»“ä¸€ä¸‹","children":[],"id":"æ€»ç»“ä¸€ä¸‹"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2022-04-03-use-paste-image-and-vscode-memo.md","pagePath":"/articles/use-paste-image-and-vscode-memo","slug":"use-paste-image-and-vscode-memo"},"meta":{"content":"\næˆ‘å¹³æ—¶ä½¿ç”¨ [vscode-memo](https://github.com/svsool/vscode-memo) æ’ä»¶å†™ç¬”è®°ï¼Œå…¶ä¸­æ’å…¥å›¾ç‰‡ä½¿ç”¨ `![[]]` è¯­æ³•ï¼Œæ˜¾ç¤ºç®€çŸ­ï¼Œä¹Ÿæœ‰è¾ƒå¥½çš„é¢„è§ˆæ”¯æŒï¼Œä½“éªŒæä½³ã€‚å¸Œæœ›è¿™ç§ç‰¹æ€§ä¹Ÿèƒ½åœ¨å†™ hexo åšå®¢çš„æ—¶å€™ä½¿ç”¨ã€‚\n\n# å…³äº vscode-memo\n\nå¯èƒ½æœ‰å¾ˆå¤šäººä¸ç†Ÿæ‚‰ vscode-memo è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘å…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚\n\nvscode-memo å®šä½æ˜¯ä¸€ä¸ª knowledge base ï¼Œå¯¹æ ‡çš„æ˜¯ [Obsidian.md](https://obsidian.md/) ç­‰è½¯ä»¶ã€‚å…¶åŠŸèƒ½åŒ…æ‹¬ä¸”ä¸é™äºï¼š\n\n1. ä½¿ç”¨ç‹¬æœ‰çš„çŸ­é“¾æ¥è¯­æ³• `[[]]` è¿æ¥åˆ°å…¶ä»–æ–‡æ¡£ä¸å›¾ç‰‡ã€‚\n2. ä¿®æ”¹æ–‡ä»¶åæ—¶è‡ªåŠ¨åŒæ­¥æ›´æ–°é“¾æ¥ï¼Œåå‘æŸ¥æ‰¾å½“å‰æ–‡æ¡£è¢«é‚£äº›æ–‡æ¡£é“¾æ¥ã€‚\n3. é¼ æ ‡æ‚¬åœæ—¶èƒ½é¢„è§ˆé“¾æ¥ä¸å›¾ç‰‡ã€‚\n\nåŒæ—¶ï¼Œç”±äº vscode-memo æ˜¯ä¸ª vscode æ’ä»¶ï¼Œå¯ä»¥è·Ÿ vscode çš„å…¶ä»–ä¼—å¤šæ’ä»¶åˆä½œä½¿ç”¨ã€‚æ¯”å¦‚ [vscode-memo å®˜æ–¹æ–‡æ¡£](https://github.com/svsool/vscode-memo/blob/master/help/How%20to/Pasting%20images%20from%20clipboard.md)é‡Œå°±æ¨èå°† vscode-memo ä¸ vscode-past-image æ’ä»¶é…åˆï¼Œç²˜è´´å›¾ç‰‡ã€‚\n\nè¿™ç¯‡æ–‡ç« ä¸»è¦çš„ç›®çš„ï¼Œä¹Ÿæ˜¯åˆ©ç”¨è¿™ä¸¤ä¸ªæ’ä»¶ï¼Œè¾¾åˆ°æŠŠå›¾ç‰‡ç²˜è´´ä¸ºçŸ­é“¾æ¥ï¼Œå¹¶è¢« Hexo æ­£å¸¸æ¸²æŸ“ä¸ºç½‘é¡µã€‚\n\n# Image Paste ä¸ Hexo çš„é…ç½®\n\nè¿™ä¸€æ­¥å…¶å®å¾ˆç®€å•ã€‚\n\nåœ¨ Hexo çš„æ–‡ç« ä¸­ï¼Œä¸€èˆ¬éœ€è¦ä½¿ç”¨ä»æ ¹ç›®å½•èµ·çš„ç›¸å¯¹é“¾æ¥ã€‚å¦‚æœ‰æ–‡ä»¶ç»“æ„ï¼š\n\n```tree\nsource\nâ”œâ”€â”€â”€img\nâ”‚   â””â”€â”€â”€in-post\nâ”‚       â”œâ”€â”€â”€heap-cheat-sheet.jpg\nâ”‚       â””â”€â”€â”€post-js-version.jpg\nâ”œâ”€â”€â”€playground\nâ””â”€â”€â”€_posts\n    â”œâ”€â”€â”€2022-03-26-create-blog-cicd-by-github.md\n    â””â”€â”€â”€2022-04-03-use-paste-image-and-vscode-memo.md\n```\n\nåœ¨ `2022-03-26-create-blog-cicd-by-github.md` ä¸­å¼•ç”¨ `heap-cheat-sheet.jpg` è¿™ä¸ªå›¾ç‰‡ï¼Œå°±éœ€è¦ `![](/img/in-post/heap-cheat-sheet.jpg)` è¿™æ ·çš„é“¾æ¥ã€‚\n\nä½†å¦‚æœåœ¨é…ç½®é‡ŒæŠŠ `post_asset_folder` è®¾ä¸º `true` ï¼Œå°±å¯ä»¥åœ¨ Markdown æ–‡ä»¶çš„åŒçº§ä½ç½®çš„åŒåç›®å½•ä¸­ç›´æ¥æ‰¾åˆ°å›¾ç‰‡ã€‚å¦‚ï¼š\n\n```tree\nsource\nâ”œâ”€â”€â”€img\nâ”œâ”€â”€â”€playground\nâ””â”€â”€â”€_posts\n    â”œâ”€â”€â”€2022-03-26-create-blog-cicd-by-github\n    â”‚    â”œâ”€â”€â”€heap-cheat-sheet.jpg\n    â”‚    â””â”€â”€â”€post-js-version.jpg\n    â”œâ”€â”€â”€2022-03-26-create-blog-cicd-by-github.md\n    â””â”€â”€â”€2022-04-03-use-paste-image-and-vscode-memo.md\n```\n\nç„¶ååœ¨ `2022-03-26-create-blog-cicd-by-github.md` ä¸­å¯ä»¥ç›´æ¥ `![](heap-cheat-sheet.jpg)` å¼•ç”¨å›¾ç‰‡ã€‚ä¸ºäº†å›¾ç‰‡æ–‡ä»¶ç®¡ç†æ–¹ä¾¿ï¼Œæˆ‘ä»¬æ‰“å¼€è¿™ä¸ªé…ç½®é¡¹ã€‚\n\nä¸ºäº†èƒ½è®© Image Paste ç²˜è´´çš„å›¾ç‰‡èƒ½æ”¾åˆ°è¿™ä¸ªåŒåæ–‡ä»¶å¤¹ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ Image Paste é…ç½®ï¼Œåœ¨ VSCode çš„ Workspace Setting ä¸­ï¼Œæ·»åŠ å¦‚ä¸‹è®¾ç½®ï¼š\n\n```json\n{\n    \"pasteImage.path\": \"${currentFileDir}/${currentFileNameWithoutExt}/\"\n}\n```\n\n# Image Paste ç²˜è´´ä¸º vscode-memo çŸ­é“¾æ¥æ ¼å¼\n\nè¿™ä¸€æ­¥ä¹Ÿå¾ˆç®€å•ã€‚ Image Paste å¯ä»¥è®¾å®šç²˜è´´åçš„æ ¼å¼ã€‚æˆ‘ä»¬åœ¨ Workspace Setting ä¸­æ·»åŠ å¦‚ä¸‹è®¾ç½®å³å¯ï¼š\n\n```json\n{\n    \"pasteImage.insertPattern\": \"![[${imageFileName}]]\",\n}\n```\n\nè¿™æ ·æˆ‘ä»¬ç²˜è´´åçš„å›¾ç‰‡å°±èƒ½æœ‰é¢„è§ˆåŠŸèƒ½äº†ã€‚\n\n# è®© Hexo æ­£ç¡®æ¸²æŸ“ vscode-memo çš„çŸ­é“¾æ¥\n\nè¿™ä¸€æ­¥å…¶å®æ˜¯æœ€éš¾çš„ã€‚ Hexo å½“ç„¶ä¸è®¤è¯† vscode-memo çš„çŸ­é“¾æ¥ï¼Œè€Œç»è¿‡è°ƒæŸ¥ï¼Œç°åœ¨è¿˜æ²¡æœ‰ç°æˆçš„æ–¹æ¡ˆè®© Hexo ä¸ vscode-memo é›†æˆã€‚è™½ç„¶æˆ‘ä»¬æå€¡å°½é‡ä¸è¦é‡å¤é€ è½®å­ï¼Œä½†è¿™é‡Œæˆ‘ä»¬ä¹Ÿæ˜¯é™¤äº†é€ è½®å­æ²¡æœ‰å…¶ä»–åŠæ³•äº†ã€‚\n\næˆ‘ä»¬é‡‡ç”¨çš„æ–¹æ¡ˆæ˜¯è®© Hexo åœ¨æ¸²æŸ“ Markdown å‰ï¼Œå…ˆæŠŠ Markdown ä¸­å½¢å¦‚ `![[]]` çš„çŸ­é“¾æ¥ï¼Œæ›¿æ¢ä¸º `![]()` çš„æ­£å¸¸ Markdown å›¾ç‰‡é“¾æ¥ã€‚\n\nå‡è®¾æˆ‘ä»¬é¡¹ç›® `source` æ–‡ä»¶å¤¹å¦‚ä¸‹ï¼š\n\n```tree\nsource\nâ”œâ”€â”€â”€playground\nâ””â”€â”€â”€_posts\n    â”œâ”€â”€â”€2022-03-26-create-blog-cicd-by-github\n    â”‚    â”œâ”€â”€â”€heap-cheat-sheet.jpg\n    â”‚    â””â”€â”€â”€post-js-version.jpg\n    â”œâ”€â”€â”€2022-03-26-create-blog-cicd-by-github.md\n    â””â”€â”€â”€2022-04-03-use-paste-image-and-vscode-memo.md\n```\n\nå¦‚åœ¨æ¸²æŸ“ `2022-03-26-create-blog-cicd-by-github.md` å‰ï¼Œéœ€è¦å°†å…¶ä¸­çš„ `![[heat-cheat-sheet.jpg]]` æ›¿æ¢ä¸º `![](heap-cheat-sheet.jpg)` ã€‚æˆ‘ä»¬çŸ¥é“ Hexo åœ¨ç”Ÿæˆé™æ€æ–‡ä»¶å‰ä¼šå…ˆæŠŠé¡¹ç›®æ ¹ç›®å½•ä¸‹ `scripts` ç›®å½•ä¸‹çš„æ‰€æœ‰è„šæœ¬æ‰§è¡Œä¸€éã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œæ³¨å†Œä¸€ä¸ª filter ï¼Œä¸“é—¨åšè¿™ä¸ªæ›¿æ¢ã€‚ä»£ç å¦‚ä¸‹ï¼š\n\n```js\n'use-strict';\n\nhexo.extend.filter.register('before_post_render', function (data) {\n    const isToHandle = (data) =\u003e {\n        var source = data.source;\n        var ext = source.substring(source.lastIndexOf('.') + 1, source.length).toLowerCase();\n        return ['md'].indexOf(ext) \u003e -1;\n    }\n\n    if (!isToHandle(data)) {\n        return data;\n    }\n\n    const reg = /(\\s+)\\!\\[\\[(.+)\\]\\](\\s+)/g;\n\n    data.content = data.content\n        .replace(reg, function (raw, start, content, end) {\n            var nameAndTitle = content.split('|');\n            if (nameAndTitle.length == 1) {\n                return `${start}![](${content})${end}`;\n            }\n            return `${start}![${nameAndTitle[1]}](${nameAndTitle[0]})${end}`;\n        });\n    return data;\n\n})\n```\n\n# æµ‹è¯•ä¸€ä¸‹\n\næ–‡ç« ä¸­å¦‚ä¸‹å†…å®¹ï¼š\n\n![[è¿™éƒ¨åˆ†å†…å®¹ä¼šè¢«è½¬æ¢ä¸ºå›¾ç‰‡.png]]\n\n\nè€Œä½ çœ‹åˆ°ä¸Šé¢çš„å†…å®¹æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œè¡¨ç¤ºè¿™ä¸ªè½¬æ¢å·²ç»æˆåŠŸäº†ã€‚\n\n# ä¸è¶³ä¹‹å¤„\n\nè¿™ä¸€æ®µä»£ç ä»æœ‰ä»¥ä¸‹å¾…æ”¹è¿›çš„åœ°æ–¹ï¼š\n1. å¦‚æœå›¾ç‰‡çŸ­é“¾æ¥çš„å†…å®¹å†™åœ¨ Code Block é‡Œï¼Œä¹Ÿä¸€æ ·ä¼šè¢«è½¬æ¢ã€‚å®é™…ä¸Šæˆ‘ä»¬ä¸€èˆ¬ä¸å¸Œæœ› Code Block é‡Œçš„å†…å®¹è¢«è½¬æ¢ï¼Œéœ€è¦è¿‡æ»¤ä¸€ä¸‹ã€‚\n2. å½¢å¦‚ `![[æ–‡ä»¶|å›¾ç‰‡æè¿°]]` çš„å†…å®¹ä¼šæ­£å¸¸è½¬æ¢ä¸º `![å›¾ç‰‡æè¿°](æ–‡ä»¶)` ã€‚ç„¶è€Œæˆ‘ç°åœ¨ç”¨çš„è¿™ä¸ªä¸»é¢˜ä¸æ”¯æŒå›¾ç‰‡æè¿°ã€‚ä»¥åå¯èƒ½éœ€è¦æ›´æ¢ä¸»é¢˜ã€‚\n\n# è¡¥å……\n\nå¦‚æœå¸Œæœ›ç½‘ç«™å›¾ç‰‡æ”¾åœ¨ `img` ä¹‹ç±»çš„æ–‡ä»¶å¤¹ä¸‹ç»Ÿä¸€ç®¡ç†ï¼Œä¸æŠŠ `post_asset_folder` è®¾ä¸º `true` ï¼Œä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ä»£ç ï¼Œåœ¨è¿”å› `${content}` å‰æ·»åŠ ç»Ÿä¸€å‰ç¼€ã€‚\n\nè€Œå¦‚æœå¸Œæœ›å›¾ç‰‡æ”¾åœ¨ `img` ä¸‹ï¼Œåˆè¦æŒ‰æ–‡ç« åˆ†æ–‡ä»¶å¤¹ç®¡ç†ï¼Œå¦‚ä¸‹æƒ…å†µï¼š\n\n```tree\nsource\nâ”œâ”€â”€â”€img\nâ”‚   â”œâ”€â”€â”€2022-03-26-create-blog-cicd-by-github\nâ”‚   â”‚    â”œâ”€â”€â”€heap-cheat-sheet.jpg\nâ”‚   â”‚    â””â”€â”€â”€post-js-version.jpg\nâ”‚   â””â”€â”€â”€2022-04-03-use-paste-image-and-vscode-memo\nâ”œâ”€â”€â”€playground\nâ””â”€â”€â”€_posts\n    â”œâ”€â”€â”€2022-03-26-create-blog-cicd-by-github.md\n    â””â”€â”€â”€2022-04-03-use-paste-image-and-vscode-memo.md\n```\n\nå¯ä»¥é€šè¿‡åœ¨ä»£ç ä¸­å¼•ç”¨ `data.source` è§£å†³ã€‚","title":"å®Œå–„ Hexo ç¼–å†™ç¯å¢ƒï¼Œæ”¹å–„æ–‡ç« ä¸­ä½¿ç”¨å›¾ç‰‡çš„ä½“éªŒ","abstract":"æˆ‘å¹³æ—¶ä½¿ç”¨ [vscode-memo](https://github.com/svsool/vscode-memo) æ’ä»¶å†™ç¬”è®°ï¼Œå…¶ä¸­æ’å…¥å›¾ç‰‡ä½¿ç”¨ `![[]]` è¯­æ³•ï¼Œæ˜¾ç¤ºç®€çŸ­ï¼Œä¹Ÿæœ‰è¾ƒå¥½çš„é¢„è§ˆæ”¯æŒï¼Œä½“éªŒæä½³ã€‚å¸Œæœ›è¿™ç§ç‰¹æ€§ä¹Ÿèƒ½åœ¨å†™ hexo åšå®¢çš„æ—¶å€™ä½¿ç”¨ã€‚\nå¯èƒ½æœ‰å¾ˆå¤šäººä¸ç†Ÿæ‚‰ vscode-memo è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘å…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚\nvscode-memo å®šä½æ˜¯ä¸€ä¸ª knowledge base ï¼Œå¯¹æ ‡çš„æ˜¯ [Obsidian.md](https://obsidian.md/) ç­‰è½¯ä»¶ã€‚å…¶åŠŸèƒ½åŒ…æ‹¬ä¸”ä¸é™äºï¼š","length":158,"created_at":"2022-04-03T21:03:03.000Z","updated_at":"2022-04-03T17:47:52.000Z","tags":["Blog","VSCode","Hexo","JavaScript"],"license":false,"headingTrees":[{"key":"å…³äº-vscode-memo","href":"#å…³äº-vscode-memo","heading":1,"title":"å…³äº vscode-memo","children":[],"id":"å…³äº-vscode-memo"},{"key":"image-paste-ä¸-hexo-çš„é…ç½®","href":"#image-paste-ä¸-hexo-çš„é…ç½®","heading":1,"title":"Image Paste ä¸ Hexo çš„é…ç½®","children":[],"id":"image-paste-ä¸-hexo-çš„é…ç½®"},{"key":"image-paste-ç²˜è´´ä¸º-vscode-memo-çŸ­é“¾æ¥æ ¼å¼","href":"#image-paste-ç²˜è´´ä¸º-vscode-memo-çŸ­é“¾æ¥æ ¼å¼","heading":1,"title":"Image Paste ç²˜è´´ä¸º vscode-memo çŸ­é“¾æ¥æ ¼å¼","children":[],"id":"image-paste-ç²˜è´´ä¸º-vscode-memo-çŸ­é“¾æ¥æ ¼å¼"},{"key":"è®©-hexo-æ­£ç¡®æ¸²æŸ“-vscode-memo-çš„çŸ­é“¾æ¥","href":"#è®©-hexo-æ­£ç¡®æ¸²æŸ“-vscode-memo-çš„çŸ­é“¾æ¥","heading":1,"title":"è®© Hexo æ­£ç¡®æ¸²æŸ“ vscode-memo çš„çŸ­é“¾æ¥","children":[],"id":"è®©-hexo-æ­£ç¡®æ¸²æŸ“-vscode-memo-çš„çŸ­é“¾æ¥"},{"key":"æµ‹è¯•ä¸€ä¸‹","href":"#æµ‹è¯•ä¸€ä¸‹","heading":1,"title":"æµ‹è¯•ä¸€ä¸‹","children":[],"id":"æµ‹è¯•ä¸€ä¸‹"},{"key":"ä¸è¶³ä¹‹å¤„","href":"#ä¸è¶³ä¹‹å¤„","heading":1,"title":"ä¸è¶³ä¹‹å¤„","children":[],"id":"ä¸è¶³ä¹‹å¤„"},{"key":"è¡¥å……","href":"#è¡¥å……","heading":1,"title":"è¡¥å……","children":[],"id":"è¡¥å……"}],"wikiRefAliases":[],"richRefAliases":["è¿™éƒ¨åˆ†å†…å®¹ä¼šè¢«è½¬æ¢ä¸ºå›¾ç‰‡.png"]}},{"pathMapping":{"filePath":"public/content/articles/2022-03-26-create-blog-cicd-by-github.md","pagePath":"/articles/create-blog-cicd-by-github","slug":"create-blog-cicd-by-github"},"meta":{"content":"\nGitHub Action è‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒåˆ° GitHub Pages å¤§å®¶éƒ½è§å¾—å¤šäº†ï¼Œç”šè‡³ Hexo å®˜æ–¹è‡ªå·±éƒ½æœ‰ç›¸å…³çš„æ–‡æ¡£ã€‚\nä½†æˆ‘ä»Šå¤©è¦åšçš„ä¸æ˜¯å‘å¸ƒåˆ° GitHub è¿™ä¹ˆç®€å•ï¼Œè€Œæ˜¯è¦åŒæ—¶å‘å¸ƒåˆ° GitHub å’Œè‡ªå·±çš„åŸŸåä¸‹ã€‚\n\n# è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡\n\næˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ª CI/CD è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦åšåˆ°ä»¥ä¸‹ç›®æ ‡ï¼š\n1. å°†æ–‡ç«  push åˆ° GitHub çš„ master branch åï¼Œè‡ªåŠ¨è§¦å‘ã€‚\n2. æˆ‘ä»¬åšå®¢ä½¿ç”¨ Hexo å¼•æ“ï¼Œéœ€è¦å…ˆæ„å»ºé™æ€æ–‡ä»¶ã€‚\n3. éœ€è¦å°†é™æ€æ–‡ä»¶éƒ¨ç½²åˆ° GitHub Page ã€‚\n4. éœ€è¦å°†é™æ€æ–‡ä»¶éƒ¨ç½²åˆ°è‡ªå·±åŸŸåä¸‹ã€‚\n    è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ AWS çš„ S3 æœåŠ¡ä¸ CloudFront æœåŠ¡ç›´æ¥éƒ¨ç½²åˆ° CDN ä¸Šã€‚ CloudFront ç›´æ¥é€šè¿‡ OAI è®¿é—® S3 ï¼Œä¸å…è®¸ç”¨æˆ·ç›´æ¥é€šè¿‡ S3 è®¿é—®ã€‚\n5. åšå®¢åœ¨ GitHub Page ä¸ S3 éœ€è¦å¤„äºä¸åŒçš„è·¯å¾„ä¸‹ã€‚\n    ä¸ºäº†å»¶ç»­ä»¥å¾€çš„æƒ…å†µï¼Œåšå®¢åœ¨ GitHub Page éœ€è¦éƒ¨ç½²åœ¨ `/blog/` ä¸‹ã€‚\n    è€Œåœ¨ AWS ä¸Šæˆ‘åˆ™å¸Œæœ›ç›´æ¥éƒ¨ç½²åœ¨æ ¹ç›®å½•ä¸‹ï¼Œè¿™å°±å¯¼è‡´éœ€è¦ä¸¤ä»½é…ç½®æ–‡ä»¶ã€‚\n    å½“ç„¶å¼„ä¸¤ä»½é…ç½®æ–‡ä»¶æˆ‘æ˜¯ä¸ä¹æ„çš„ï¼Œäºæ˜¯å°±éœ€è¦ä»æ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶...\n\nå…¶ä¸­ï¼Œä¸€äºŒä¸‰ç‚¹éƒ½å¾ˆå¥½è§£å†³ï¼Œè€Œç¬¬å››ç‚¹ä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒéš¾åˆæ¯”è¾ƒå‘çˆ¹çš„åœ°æ–¹ã€‚\n\n# å…ˆåšç®€å•çš„ â€”â€” CI/CD æ„å»ºå¹¶å‘å¸ƒåˆ° GitHub Pages\n\nè¿™ä¸€æ­¥å…¶å®æ²¡ä»€ä¹ˆéš¾çš„ï¼Œ Hexo å®˜ç½‘ä¸Šå°±æœ‰[è¿™ç¯‡æ–‡ç« ](https://hexo.io/docs/github-pages.html)å†™çš„ååˆ†è¯¦ç»†äº†ï¼Œå¯ä»¥ä½œä¸ºå‚è€ƒã€‚\n\n```yaml\nname: Pages\n\non:\n  push:\n    branches:\n      - master  # default branch\n\njobs:\n  pages:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - name: Use Node.js 16.x\n        uses: actions/setup-node@v2\n        with:\n          node-version: '16'\n      - name: Cache NPM dependencies\n        uses: actions/cache@v2\n        with:\n          path: node_modules\n          key: ${{ runner.OS }}-npm-cache\n          restore-keys: |\n            ${{ runner.OS }}-npm-cache\n      - name: Install Dependencies\n        run: npm install\n      - name: Build\n        run: npm run build\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./public\n          publish_branch: gh-pages  # deploying branch\n```\n\nè¿™ä¸ª yaml å°±æ˜¯ GitHub Action çš„ workflow æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ª workflow é‡Œï¼š\n1. å…ˆç”¨ `npm run build` æŠŠé™æ€æ–‡ä»¶ç”Ÿæˆåˆ° `./public` ä¸‹\n2. ç”¨ `peaceiris/actions-gh-pages@v3` è¿™ä¸ª action æŠŠ `./public` çš„æ–‡ä»¶æ”¾åˆ° `gh-pages` åˆ†æ”¯ä¸‹ã€‚\n\næŠŠä¸Šé¢è¿™ä¸ª yaml æ–‡ä»¶å¤åˆ¶åˆ° `.github/workflows/build.yml` ä¸­ï¼Œè¿™æ · master åˆ†æ”¯ä¸Šå‘ç”Ÿä»»ä½•æäº¤éƒ½ä¼šè§¦å‘æ„å»ºæµç¨‹äº†ã€‚æŒ‰ç…§ Hexo å®˜ç½‘ä¸Šçš„æ–‡æ¡£è·‘ä¸€è¾¹å°±èƒ½æˆåŠŸå‘å¸ƒåˆ° GitHub Pages ä¸Šäº†ã€‚\n\nä¸è¿‡æˆ‘éœ€è¦éƒ¨ç½²åˆ° `/blog/` ä¸‹ï¼Œè¿™å« Project Page ï¼Œå› æ­¤æˆ‘èµ°çš„æ˜¯ Hexo æ–‡æ¡£çš„ Project Page è¿™ä¸€å°èŠ‚çš„æµç¨‹ï¼Œéœ€è¦æŠŠ `_config.yml` é‡Œåšå¦‚ä¸‹è®¾ç½®ï¼š\n\n```yaml\nurl: https://ryojerryyu.github.io/blog # è¿™ä¸ªå…¶å®ä¸æ˜¯å¾ˆé‡è¦ï¼Œç°åœ¨ç”¨çš„ä¸»é¢˜æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªå­—æ®µ\nroot: /blog/ # è¿™ä¸ªæ¯”è¾ƒé‡è¦ï¼Œè¿™ä¸ªä¸è®¾å®šå¥½ï¼Œæ•´ä¸ªé¡µé¢çš„è¶…é“¾æ¥éƒ½ä¼šæ­ªæ‰\n```\n\nå½“ç„¶ï¼Œ â€œæ²¡ä»€ä¹ˆéš¾â€ çš„å‰ææ˜¯ä½ é¦–å…ˆè¦å¯¹ Hexo å’Œ GitHub Action æœ‰ä¸€ä¸ªäº†è§£...\n\n# éš¾ä¸€ç‚¹ â€”â€” æ­å»º AWS åŸºç¡€è®¾æ–½\n\næˆ‘ä¸ºä»€ä¹ˆä¸æ­¢ç”¨ GitHub Pages è¿˜è¦é…ä¸€å¥— AWS å‘¢ï¼Ÿå…¶å®ä¸»è¦è¿˜æ˜¯æƒ³ä»¥åå¯èƒ½ä¼šåšä¸€ä¸‹ Backend ï¼Œè€Œä¸”æ”¾ AWS ä¸Šè¿˜èƒ½åˆ©ç”¨ AWS çš„æœåŠ¡åšä¸€ä¸‹æµé‡åˆ†æä¹‹ç±»çš„ã€‚æ²¡è¿™ä¹ˆäº›éœ€æ±‚çš„å°ä¼™ä¼´å¯ä»¥ä¸ç”¨ç»§ç»­çœ‹äº†...\n\næˆ‘ä»¬æ‰“ç®—ä½¿ç”¨ AWS çš„ S3 ä¸ CloudFront æœåŠ¡ï¼Œ CloudFront ç›´æ¥é€šè¿‡ OAI è®¿é—® S3 ã€‚\n\n## S3\n\nS3 æ˜¯ AWS çš„å¯¹è±¡å‚¨å­˜æœåŠ¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯ä»¥å½“ç½‘ç›˜ç”¨ï¼Œå¾€é‡Œé¢æ”¾æ–‡ä»¶ã€‚\nS3 æœ‰é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼ŒæŠŠé™æ€æ–‡ä»¶æ”¾åˆ° S3 é‡Œï¼Œé…ç½®ä¸€ç•ªå°±ç›´æ¥å¯ä»¥é€šè¿‡ HTTP è®¿é—®äº†ï¼Œè¿˜èƒ½ç”¨è‡ªå·±çš„åŸŸåã€‚\nä½†æˆ‘ä»¬ä¸æ‰“ç®—ä½¿ç”¨ S3 çš„é™æ€ç½‘ç«™æ‰˜ç®¡ï¼Œå› ä¸ºæˆ‘æ‰“ç®—ç›´æ¥ä¸Š CDN ï¼Œåˆä¸æƒ³ç”¨æˆ·å¯ä»¥ç›´æ¥é€šè¿‡ S3 æ¥è®¿é—®æˆ‘ä»¬çš„é™æ€æ–‡ä»¶ã€‚\n\n## CloudFront\n\nCloudFront æ˜¯ AWS çš„å†…å®¹åˆ†å‘æœåŠ¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯ CDN ã€‚å…¶å®å®ƒä¸åªæœ‰ CDN çš„åŠŸèƒ½ï¼Œå®ƒè¿˜èƒ½åŠ é€ŸåŠ¨æ€è°ƒç”¨ï¼Œè¿˜èƒ½é€šè¿‡ CloudFront è¿æ¥ Web Socket ... ä¸è¿‡æˆ‘ä»¬è¿™æ¬¡ä¸»è¦æ˜¯ç”¨ CDN åŠŸèƒ½ã€‚\nCloudFront è®¿é—® S3 çš„æ–¹å¼è¿˜æ˜¯æœ‰å¥½å‡ ç§çš„ã€‚ä¸­æ–‡æ•™ç¨‹æœ€å¸¸è§çš„æ˜¯è®©ä½ å…ˆæ‰“å¼€ S3 é™æ€ç½‘ç«™æ‰˜ç®¡ï¼Œç„¶åå°† CloudFront çš„æºè®¾ä¸º S3 çš„åŸŸåã€‚\nè¿™ä¸ªæ–¹æ³•æ˜¯æœ€æ—©æ”¯æŒçš„ï¼Œå› æ­¤æ¨å¹¿çš„ä¹Ÿæ¯”è¾ƒå¼€ã€‚ä½†å…¶å®æˆ‘è§‰å¾—è¿™ä¸ªæ–¹æ³•æœ‰äº›é—®é¢˜ï¼š\n\n1. S3 ä¸åšå¦å¤–é…ç½®çš„è¯æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œæ¯”è¾ƒ low\n2. S3 è‡ªå·±çš„ HTTP Endpoint ä¸èƒ½ä¸Š TLS ï¼Œæ‰€ä»¥ CloudFront åˆ° S3 è¿™ä¸€æ®µæ˜¯è£¸å¥”çš„\n\nå› æ­¤æˆ‘æ‰“ç®—ä½¿ç”¨ AWS æœ€è¿‘æ¨èçš„ OAI æ–¹å¼è®¿é—® S3 ã€‚è¿™ç§æ–¹å¼ä¸èµ° HTTP Endpoint è€Œæ˜¯ S3 è‡ªå·±çš„ S3 Endpoint ï¼Œå¯ä»¥é€šè¿‡ AWS çš„ IAM æœºåˆ¶ç»Ÿä¸€ç®¡ç†ã€‚\nOAI æ˜¯ Origin Access Identity ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç»™ CloudFront ä¸€ä¸ª AWS IAM Policy çš„ Principal èº«ä»½ï¼Œ S3 å¯ä»¥é€šè¿‡å¦‚ä¸‹ Bucket Policy é™åˆ¶å¤–éƒ¨åªèƒ½é€šè¿‡è¿™ä¸ª Principal è®¿é—®ï¼š\n```json\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"AWS\": \"arn:aws:iam::cloudfront:user/\u003cCloudFront Origin Access Identity ID\u003e\"\n            },\n            \"Action\": \"s3:GetObject\",\n            \"Resource\": \"arn:aws:s3:::\u003cbucket name\u003e/*\"\n        }\n    ]\n}\n```\nä¸Šé¢è¿™ä¸€æ®µçœ‹ä¸æ‡‚çš„åŒå­¦ï¼Œå¯ä»¥å»è¡¥ä¹ ä¸€ä¸‹ AWS IAM æƒé™ç®¡ç†æœºåˆ¶ï¼Œå…³é”®å°±æ˜¯ Principal â€”â€” ä¸»ä½“ ã€ Action â€”â€” åŠ¨è¯ ã€ Resource â€”â€” å—ä½“ çš„ä¸€ä¸ªä¸»è°“å®¾æ¨¡å¼ã€‚\n\n## å…¶ä»– AWS æœåŠ¡\n\nå½“ç„¶ï¼Œä»…æœ‰ S3 å’Œ CloudFront æ˜¯ä¸è¶³ä»¥å®ç°å…¨éƒ¨åŠŸèƒ½çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ Route53 æ¥ç®¡ç†è·¯ç”±ï¼Œ ACM æ¥è·å–å…è´¹è¯ä¹¦ã€‚\nä½†è¿™äº›æˆ‘éƒ½ä¸æ‰“ç®—ç»†è®²ï¼Œå› ä¸ºå†…å®¹çœŸçš„å¾ˆå¤š-_-ï¼Œè€Œä¸”å¤§éƒ¨åˆ†éƒ½æ˜¯ AWS çš„ç»†èŠ‚ï¼Œæ¬åˆ°åˆ«çš„äº‘ä¸Šä¸ä¸€å®šé€‚ç”¨...è€Œä¸”æ‰‹åŠ¨æ“ä½œéº»çƒ¦æ­»äº†...\n\n## Pulumi\n\nç»¼ä¸Šå˜›ï¼Œæˆ‘ä»¬éœ€è¦ï¼š\n1. å»ºä¸€ä¸ª Route53 Hosted Zone ï¼ŒæŠŠåŸŸåäº¤ç»™ Route53 ç®¡ç†\n2. ç”¨ ACM ç»™åŸŸåç”³è¯·ä¸€ä¸ª us-east-1 Region çš„å…è´¹è¯ä¹¦ï¼ˆCloudFront çš„è¯ä¹¦å¿…é¡»åœ¨ us-east-1 ï¼‰\n3. å»ºä¸€ä¸ª S3 å‚¨å­˜æ¡¶ï¼ŒæŠŠ Public Access Block é…ç½®ä¸€ä¸‹\n4. å»ºä¸€ä¸ª CloudFront Distribution ï¼Œé€šè¿‡ OAI æ¥è®¿é—® S3 ï¼Œè¿˜è¦æŒ‡å®šä¸€ä¸‹è¯ä¹¦\n5. ç»™ S3 é…ä¸€ä¸ª Bucket Policy ï¼Œå…è®¸ CloudFront è®¿é—®\n6. æŠŠ Route53 é‡Œçš„åŸŸåå¼„ä¸ª DNS è®°å½•æŒ‡å‘ CloudFront\n\næ‰‹åŠ¨æ“ä½œéº»çƒ¦æ­»äº†ï¼Œäºæ˜¯æˆ‘æ‰“ç®—ç”¨ IaC (Infrastructure-as-Code) æ¥è§£å†³ã€‚æˆ‘æŠŠè¿™äº›åŸºç¡€è®¾æ–½å®šä¹‰ç”¨ Pulumi å†™æˆçš„ä»£ç æ”¾åœ¨[è¿™é‡Œ](https://github.com/RyoJerryYu/aws-blog-infra/tree/c97f0fe41b5c0306d5343ddfc22f4a3775d79b88/website)äº†ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼ˆåšäº†æ¨¡å—åŒ–ï¼Œè·Ÿæˆ‘å…¶ä»–åŸºç¡€è®¾æ–½æ”¾ä¸€èµ·äº†ï¼‰ã€‚\n\nå½“ç„¶ï¼Œç”¨ Pulumi æ²¡ä»€ä¹ˆç‰¹åˆ«åŸå› ï¼Œçº¯ç²¹æ˜¯å› ä¸ºæˆ‘æœ€è¿‘åœ¨å†™ Pulumi... ä½ å®Œå…¨å¯ä»¥ç”¨å…¶ä»– IaC å·¥å…·ï¼ˆAnsibleã€Terraformã€CloudFormationï¼‰æ¥åšã€‚è€Œä¸” Pulumi å¤ªæ–°äº†ï¼Œç”¨èµ·æ¥æŒºå¤š Bug çš„...ï¼ˆä¹Ÿè®¸æ˜¯æˆ‘ä¸ä¼šç”¨ï¼‰\n\n## æµ‹è¯•ä¸€ä¸‹\n\nS3 æ¡¶å•¥çš„éƒ½å»ºå¥½ä¹‹åï¼Œæœ¬åœ°æŠŠæ–‡ä»¶ build ä¸€ä¸‹ï¼Œç”¨ `aws s3 cp ./public/ s3://\u003cbucket\u003e/ --recursive` ä¹‹ç±»çš„å‘½ä»¤ä¸Šä¼ åˆ° S3 ï¼Œç»™ CloudFront åˆ›å»ºä¸€ä¸ª Invalidation åˆ·æ–°ä¸€ä¸‹ CloudFront ç¼“å­˜ï¼Œè®¿é—®åŸŸåçœ‹çœ‹ï¼Œæœ‰è¿”å›ä¸ª HTML æˆ‘ä»¬çš„åŸºç¡€è®¾æ–½å°±ç®—æ˜¯è·‘é€šäº†ã€‚æ­¤æ—¶å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼Œéƒ½å±æ­£å¸¸ï¼š\n1. è®¿é—®è¿”å› 307 ï¼š\n    æ˜¯ S3 å‚¨å­˜æ¡¶ Region ä¸åœ¨ us-east-1 å¯¼è‡´çš„ã€‚\n    CloudFront æ˜¯é€šè¿‡ s3 çš„ global endpoint è®¿é—® s3 çš„ï¼Œä½†ä¸åœ¨ us-east-1 çš„ s3 åˆšæ–°å»ºæ—¶è¿˜ä¸èƒ½é€šè¿‡ global endpoint è®¿é—®ã€‚\n    å‚è€ƒ so çš„[è¿™ä¸ªé—®é¢˜](https://stackoverflow.com/questions/38706424/aws-cloudfront-returns-http-307-when-origin-is-s3-bucket)ï¼š\n\n    \u003e All buckets have at least two REST endpoint hostnames. In eu-west-1, they are example-bucket.s3-eu-west-1.amazonaws.com and example-bucket.s3.amazonaws.com. The first one will be immedately valid when the bucket is created. The second one -- sometimes referred to as the \"global endpoint\" -- which is the one CloudFront uses -- will not, unless the bucket is in us-east-1. Over a period of seconds to minutes, variable by location and other factors, it becomes globally accesible as well. Before that, the 307 redirect is returned. Hence, the bucket was not ready.\n    \n    è¿™æ—¶å€™åªè¦ç­‰ä¸ªåå‡ åˆ†é’Ÿå°±å¥½äº†ã€‚\n2. æœ¬åœ° build çš„æ—¶å€™æ²¡é…ç½®å¥½çš„è¯ï¼Œjs ä¹‹ç±»çš„é™æ€æ–‡ä»¶å¯èƒ½è¿”å›ä¸äº†ï¼Œä½†é—®é¢˜ä¸å¤§ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å†å¤„ç†ã€‚\n\n\n# æ­å»º S3 çš„ workflow\n\nåŸºç¡€è®¾æ–½æ­å¥½äº†ï¼Œæˆ‘ä»¬å°±è¦åƒ deploy åˆ° GitHub Pages ä¸€æ ·ï¼Œé€ ä¸€ä¸ªè‡ªåŠ¨ç®¡çº¿å‘å¸ƒåˆ° S3 äº†ã€‚\næ•´ç†ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„ workflow é‡Œè¦åŒ…æ‹¬ï¼š\n\n1. ä»æ¨¡æ¿ç”Ÿæˆé…ç½®æ–‡ä»¶\n    åˆ«å¿˜äº†ï¼Œæˆ‘éœ€è¦çš„æ˜¯é™æ€æ–‡ä»¶éƒ¨ç½²åœ¨ GitHub Pages å’Œè‡ªå·±åŸŸåä¸‹çš„ä¸åŒè·¯å¾„ä¸Šã€‚ Hexo ç”Ÿæˆé™æ€æ–‡ä»¶å‰é…ç½®æ–‡ä»¶å¿…é¡»è¦æ”¹çš„ã€‚\n2. æŠŠåŸå…ˆ s3 ä¸Šçš„æ–‡ä»¶åˆ é™¤ï¼Œå¹¶ä¸Šä¼ æ–°çš„æ–‡ä»¶åˆ° s3\n3. ç»™ CloudFront åˆ›å»ºä¸€ä¸ª Invalidation åˆ·æ–°ç¼“å­˜\n\n## ç”Ÿæˆé…ç½®æ–‡ä»¶\n\nè¿™ä¸€æ­¥å…¶å®æ–¹æ¡ˆå¾ˆå¤šï¼Œç”šè‡³ bash ç›´æ¥å…¨æ–‡æ›¿æ¢éƒ½å¯ä»¥...\nä¸è¿‡æ€•ä»¥åè¦æ”¹çš„ä¸œè¥¿å˜å¤šï¼Œè¿™é‡Œè¿˜æ˜¯é€‰æ‹©ä¸€äº›æ¨¡æ¿ç”Ÿæˆå·¥å…·ã€‚æœ‰å¦‚ä¸‹é€‰æ‹©ï¼š\n\n1. å± é¾™åˆ€ Ansible\n2. Python Jinja2\n3. Go Template\n\nè¿™é‡Œç”¨ Ansible ç¡®å®æ˜¯å¤§æå°ç”¨äº†ï¼Œè€Œä¸” Ansible ä¸èƒ½åœ¨ Windows ä¸‹ç”¨è¿˜æ˜¯æœ‰ç‚¹ä¸æ–¹ä¾¿ï¼Œåªèƒ½å¼ƒé€‰ã€‚è€Œ Python å’Œ Go é‡Œæˆ‘é€‰äº† Go Template ï¼ŒåŸå› æ˜¯... ä¸æƒ³å†™ Python...\nè¿™é‡Œå…¶å®ç¡®å®æ˜¯è£…é€¼äº†ï¼Œè¿™ç§å°å‹è„šæœ¬åº”è¯¥ Python æ¯” Go åˆé€‚çš„å¤šã€‚ä¸è¿‡è¿˜å¥½ Go run å¯ä»¥ä¸å…ˆ go mod å°±èƒ½è¿è¡Œï¼Œä¸ç®—æ˜¯ä¸ªå¤ªå·®çš„é€‰æ‹©ã€‚ä¸è¿‡ä»¥åè¿˜æ˜¯å¤§æ¦‚ç‡è¦æ”¹å› Python ã€‚\n\nå†™ golang è„šæœ¬æ²¡æœ‰éš¾åº¦ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š\n\ngolang template çš„ name è¦æ˜¯ file name\n```golang\nname := path.Base(*tmpl)\nt := template.Must(template.New(name).ParseFiles(*tmpl))\nerr = t.Execute(os.Stdout, config)\nif err != nil {\n    log.Fatal(err)\n}\n```\ngithub workflow å¦‚ä¸‹\n```yaml            \n- name: Use Go 1.16\n    uses: actions/setup-go@v1\n    with:\n    go-version: '1.16.1'\n\n- name: generate config\n    run: go run ./genconfig/main.go --env=gh-pages \u003e _config.yml\n\n```\nwindows ç©å®¶å¯èƒ½è¦æ³¨æ„ä¸€ä¸‹ï¼Œwindows ä¸‹ç¼–ç æœ‰é—®é¢˜ï¼Œ `go run ./genconfig/main.go --env=gh-pages \u003e _config.yml` è¿™æ®µå‘½ä»¤ç›´æ¥åœ¨ PowerShell ä¸‹è·‘ç”Ÿæˆå‡ºæ¥çš„æ–‡ä»¶ä¸èƒ½è¢« Hexo è¯†åˆ«ã€‚ä¸è¿‡æ²¡ä»€ä¹ˆå…³ç³»ï¼Œåæ­£è¿™æ®µåˆ°æ—¶å€™æ˜¯åœ¨ GitHub Action Runner ä¸Šè·‘çš„ï¼Œåªä¸è¿‡æ˜¯ä¸èƒ½æœ¬åœ°ç”Ÿæˆç”¨æ¥æµ‹è¯•è€Œå·²ã€‚\n\n[å‚è€ƒä»£ç ](https://raw.githubusercontent.com/RyoJerryYu/blog/2f407cb6ee723d0e17c97af1289bd2231bb265ab/genconfig/main.go)\n\n## ä¸Šä¼  s3 ä¸åˆ·æ–° CloudFront\n\nåä¸¤æ­¥æœä¸€ä¸‹å‘ç°å…¶å®æœ‰å¾ˆå¤šç°æˆçš„ GitHub Action å¯ä»¥ç”¨ã€‚\nä¸è¿‡æˆ‘æ²¡æœ‰é‡‡ç”¨ï¼ŒåŸå› æ˜¯â€”â€”çœŸçš„æ²¡å¿…è¦å•Š...å°±å‡ ä¸ªå‘½ä»¤çš„äº‹ï¼Œåˆä¸æ˜¯ä¸ä¼šæ•²...\n\nworkflows yaml å¦‚ä¸‹ï¼š\n```yaml\n- name: Configure AWS\n    uses: aws-actions/configure-aws-credentials@v1\n    with:\n        aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}\n        aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n        aws-region: ap-northeast-1\n- name: Deploy\n    env:\n        S3_BUCKET: ${{ secrets.AWS_S3_BUCKET }}\n        DISTRIBUTION_ID: ${{ secrets.AWS_CLOUDFRONT_DISTRIBUTION_ID }}\n    run: |\n        aws s3 rm s3://$S3_BUCKET/* --recursive\n        aws s3 cp ./public s3://$S3_BUCKET/ --recursive\n        aws cloudfront create-invalidation --distribution-id $DISTRIBUTION_ID --paths '/*' --region=us-east-1\n```\n\n[å®Œæ•´ yaml å‚è€ƒä»£ç ](https://raw.githubusercontent.com/RyoJerryYu/blog/f0affb812f2de437943d9cf2a4f8a5fe690d1efd/.github/workflows/clouds.yml)\n\nç”±äºæ”¹ä¸ºäº†ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œ deploy åˆ° Github Pages çš„ yaml ä¹Ÿè¦åšç›¸åº”æ”¹åŠ¨ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´ã€‚\n\n# CloudFront çš„ä¸€ç‚¹å°é—®é¢˜ï¼ˆä¸å¤ªå°ï¼‰\n\nè¿™æ ·æˆ‘ä»¬çš„æ•´ä¸ªæµç¨‹æ˜¯ä¸æ˜¯è·‘å®Œäº†ï¼Ÿæˆ‘ä»¬çš„åšå®¢å·²ç»éƒ¨ç½²åˆ°è‡ªå·±çš„åŸŸåä¸‹äº†ï¼Ÿ\næµè§ˆå™¨æ‰“å¼€è‡ªå·±çš„åŸŸåçœ‹çœ‹ï¼Œå®Œç¾æ˜¾ç¤ºï¼\n\nç­‰ç­‰ï¼Œåˆ«é«˜å…´çš„å¤ªæ—©ï¼Œç‚¹è¿›å»ä¸€ç¯‡æ–‡ç« ... 403 äº†...\n\n403 çš„åŸå› ï¼š\n1. hexo ç”Ÿæˆå‡ºæ¥çš„ page è¿æ¥æ˜¯ `/` ç»“å°¾çš„ï¼Œå¦‚ `/2022/03/26/create-blog-cicd-by-github/` ï¼Œç„¶åé€šè¿‡ HTTP æœåŠ¡å™¨çš„è‡ªåŠ¨è½¬ä¹‰æŒ‡å‘ `/2022/03/26/create-blog-cicd-by-github/index.html` æ–‡ä»¶ã€‚\n2. CloudFront å¯ä»¥å®šä¹‰é»˜è®¤æ ¹å¯¹è±¡ï¼Œæ²¡æœ‰ä¸ºæ¯ä¸ªå­è·¯å¾„éƒ½è‡ªåŠ¨è½¬ä¹‰çš„åŠŸèƒ½ã€‚\n3. S3 çš„ HTTP endpoint å¯ä»¥é…ç½®ç´¢å¼•æ–‡æ¡£ï¼Œä¸ºæ¯ä¸ªå­è·¯å¾„è‡ªåŠ¨è½¬ä¹‰ï¼Œä½† CloudFront é€šè¿‡ OAI è®¿é—® S3 æ—¶é€šè¿‡ REST endpoint è®¿é—®ï¼Œä¸ä¼šè§¦å‘è‡ªåŠ¨è½¬ä¹‰ã€‚\n\nä¸€å¤§æ³¢å‚è€ƒé˜…è¯»ï¼š\n\n[Specifying a default root object](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/DefaultRootObject.html)\n\u003e Here's an example of how a default root object works. Suppose the following request points to the object image.jpg:\n\u003e ```\n\u003e https://d111111abcdef8.cloudfront.net/image.jpg\n\u003e ```\n\u003e In contrast, the following request points to the root URL of the same distribution instead of to a specific object, as in the first example:\n\u003e ```\n\u003e https://d111111abcdef8.cloudfront.net/\n\u003e ```\n\u003e When you define a default root object, an end-user request that calls the root of your distribution returns the default root object. For example, if you designate the file index.html as your default root object, a request for:\n\u003e ```\n\u003e https://d111111abcdef8.cloudfront.net/\n\u003e ```\n\u003e Returns:\n\u003e ```\n\u003e https://d111111abcdef8.cloudfront.net/index.html\n\u003e ```\n\u003e However, if you define a default root object, an end-user request for a subdirectory of your distribution does not return the default root object. For example, suppose index.html is your default root object and that CloudFront receives an end-user request for the install directory under your CloudFront distribution:\n\u003e ```\n\u003e https://d111111abcdef8.cloudfront.net/install/\n\u003e ```\n\u003e CloudFront does not return the default root object even if a copy of index.html appears in the install directory.\n\u003e \n\u003e If you configure your distribution to allow all of the HTTP methods that CloudFront supports, the default root object applies to all methods. For example, if your default root object is index.php and you write your application to submit a POST request to the root of your domain (http://example.com), CloudFront sends the request to http://example.com/index.php.\n\u003e \n\u003e The behavior of CloudFront default root objects is different from the behavior of Amazon S3 index documents. When you configure an Amazon S3 bucket as a website and specify the index document, Amazon S3 returns the index document even if a user requests a subdirectory in the bucket. (A copy of the index document must appear in every subdirectory.) For more information about configuring Amazon S3 buckets as websites and about index documents, see the Hosting Websites on Amazon S3 chapter in the Amazon Simple Storage Service User Guide.\n\n[Configuring an index document](https://docs.aws.amazon.com/AmazonS3/latest/userguide/IndexDocumentSupport.html)\n\u003e In Amazon S3, a bucket is a flat container of objects. It does not provide any hierarchical organization as the file system on your computer does. However, you can create a logical hierarchy by using object key names that imply a folder structure.\n\u003e \n\u003e For example, consider a bucket with three objects that have the following key names. Although these are stored with no physical hierarchical organization, you can infer the following logical folder structure from the key names:\n\u003e - sample1.jpg â€” Object is at the root of the bucket.\n\u003e - photos/2006/Jan/sample2.jpg â€” Object is in the photos/2006/Jan subfolder.\n\u003e - photos/2006/Feb/sample3.jpg â€” Object is in the photos/2006/Feb subfolder.\n\u003e \n\u003e In the Amazon S3 console, you can also create a folder in a bucket. For example, you can create a folder named photos. You can upload objects to the bucket or to the photos folder within the bucket. If you add the object sample.jpg to the bucket, the key name is sample.jpg. If you upload the object to the photos folder, the object key name is photos/sample.jpg.\n\u003e \n\u003e If you create a folder structure in your bucket, you must have an index document at each level. In each folder, the index document must have the same name, for example, index.html. When a user specifies a URL that resembles a folder lookup, the presence or absence of a trailing slash determines the behavior of the website. For example, the following URL, with a trailing slash, returns the photos/index.html index document.\n\u003e ```\n\u003e http://bucket-name.s3-website.Region.amazonaws.com/photos/\n\u003e ```\n\u003e \n\u003e However, if you exclude the trailing slash from the preceding URL, Amazon S3 first looks for an object photos in the bucket. If the photos object is not found, it searches for an index document, photos/index.html. If that document is found, Amazon S3 returns a 302 Found message and points to the photos/ key. For subsequent requests to photos/, Amazon S3 returns photos/index.html. If the index document is not found, Amazon S3 returns an error.\n\n[Implementing Default Directory Indexes in Amazon S3-backed Amazon CloudFront Origins Using Lambda@Edge](https://aws.amazon.com/blogs/compute/implementing-default-directory-indexes-in-amazon-s3-backed-amazon-cloudfront-origins-using-lambdaedge/)\n\u003e If you implement CloudFront in front of S3, you can achieve this by using an OAI. However, in order to do this, you cannot use the HTTP endpoint that is exposed by S3â€™s static website hosting feature. Instead, CloudFront must use the S3 REST endpoint to fetch content from your origin so that the request can be authenticated using the OAI. This presents some challenges in that the REST endpoint does not support redirection to a default index page.\n\n\u003e CloudFront does allow you to specify a default root object (index.html), but it only works on the root of the website (such as http://www.example.com \u003e http://www.example.com/index.html). It does not work on any subdirectory (such as http://www.example.com/about/). If you were to attempt to request this URL through CloudFront, CloudFront would do a S3 GetObject API call against a key that does not exist.\n\n\n\né‚£ä¹ˆï¼Œæˆ‘ä»¬è¦æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘è§‰å¾—ï¼Œè¿™ä¸ªé—®é¢˜æœ‰ä¸‰ç§è§£å†³æ–¹æ³•ï¼š\n\n1. ä¸ä½¿ç”¨ OAI ï¼Œè®© CloudFront ç›´æ¥æŒ‡å‘ S3 çš„åŸŸåï¼Œè®© CloudFront ä½¿ç”¨ S3 HTTP Endpoint çš„ç‰¹æ€§\n2. è°ƒæ•´ Hexo é…ç½®ï¼Œæ›´æ”¹ç”Ÿæˆæ–‡ä»¶è·¯å¾„æˆ–è¿æ¥è·¯å¾„\n3. ä½¿ç”¨ AWS æ¨èçš„ Lambda@Edge åŠŸèƒ½ï¼Œåœ¨ CloudFront ä¸Šä¿®æ”¹è·¯å¾„\n\nå…¶ä¸­ç¬¬äºŒç§æ–¹æ¡ˆæ˜¯æœ€ä¸‹ç­–ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨è¿˜æœ‰å…¶ä»–æ–¹æ¡ˆçš„æƒ…å†µä¸‹ï¼Œå› ä¸ºåŸºç¡€è®¾æ–½çš„ä¸€ä¸ªæ€§è´¨å°±å»ä¿®æ”¹æˆ‘ä»¬çš„äº§å“ã€‚å†µä¸”æˆ‘ä»¬çš„äº§å“åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹éƒ½æ˜¯é€‚ç”¨çš„ã€‚\nç¬¬ä¸€ç§æ–¹æ¡ˆæ˜¯ä¸­ç­–ï¼Œä¹Ÿè®¸å®è¡Œèµ·æ¥ä¹Ÿæ˜¯æœ€ç®€å•çš„ã€‚ä½†æˆ‘ä¸æƒ³ç”¨ï¼ŒåŸå› ä¸Šé¢ä¹Ÿè¯´è¿‡äº†ã€‚\nç¬¬ä¸‰ç§æ–¹æ¡ˆæ˜¯å®æ–½èµ·æ¥éš¾åº¦æœ€å¤§çš„ï¼Œæˆ‘ä»¬è¦å¼•å…¥ Lambda è¿™ä¸€æ–°æ¦‚å¿µã€‚ä½†åæ­£æŠ˜è…¾å˜›ï¼Œè¯•è¯•å°±è¯•è¯•ï¼Œåæ­£å¤±è´¥äº†å†å˜å›ç¬¬ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ã€‚\n\n## åˆ›å»º Lambda\n\n[Implementing Default Directory Indexes in Amazon S3-backed Amazon CloudFront Origins Using Lambda@Edge](https://aws.amazon.com/blogs/compute/implementing-default-directory-indexes-in-amazon-s3-backed-amazon-cloudfront-origins-using-lambdaedge/)\n\nå‚è€ƒä¸Šé¢çš„æ–‡æ¡£ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ Console åˆ›å»ºä¸€ä¸ª Lambda å‡½æ•°ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```javascript\n'use strict';\nexports.handler = (event, context, callback) =\u003e {\n    \n    // Extract the request from the CloudFront event that is sent to Lambda@Edge \n    var request = event.Records[0].cf.request;\n\n    // Extract the URI from the request\n    var olduri = request.uri;\n\n    // Match any '/' that occurs at the end of a URI. Replace it with a default index\n    var newuri = olduri.replace(/\\/$/, '\\/index.html');\n    \n    // Log the URI as received by CloudFront and the new URI to be used to fetch from origin\n    console.log(\"Old URI: \" + olduri);\n    console.log(\"New URI: \" + newuri);\n    \n    // Replace the received URI with the URI that includes the index page\n    request.uri = newuri;\n    \n    // Return to CloudFront\n    return callback(null, request);\n\n};\n```\nè¿™ä¸€æ®µä»£ç ä¸»è¦ä½œç”¨æ˜¯æŠŠæ¥æ”¶åˆ°æ¯ä¸ªä»¥ `/` ç»“å°¾çš„è¯·æ±‚ï¼Œéƒ½è½¬æ¢ä¸ºä»¥ `/index.html` ç»“å°¾çš„è¯·æ±‚ã€‚\n\nDeploy ä¹‹åï¼Œä¸º Lambda æ·»åŠ  Trigger ï¼Œé€‰æ‹© CloudFront ä½œä¸º Trigger ï¼Œ Event é€‰æ‹© On Request ã€‚æŒ‰ç…§ç•Œé¢çš„æç¤ºä¸º Lambda åˆ›å»ºä¸“ç”¨çš„ Role ã€‚\næäº¤åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ Url è®¿é—®ï¼Œå‘ç° `/` ç»“å°¾çš„ URL ä¹Ÿä¼šæ­£å¸¸æ˜¾ç¤ºäº†ã€‚\n\n# ä¹‹åçš„äº‹\n\nè¿™ä¸ªè¿‡ç¨‹ä»æœ‰ä»¥ä¸‹é—®é¢˜ï¼š\n- å¯¹ Lambda çš„è®¤è¯†ä»æœ‰ä¸è¶³ï¼Œä»Šåéœ€ç»§ç»­å­¦ä¹ è¿ç”¨\n- Lambda@Edge è¿˜æ²¡æœ‰ç»“åˆåˆ° IaC ä¸­\n- é…ç½®æ–‡ä»¶ç”Ÿæˆè¿‡ç¨‹ä»æœ‰æ”¹è¿›ç©ºé—´\n\nç•™ä¸‹è¿™äº›é—®é¢˜ï¼Œä»Šåå†ä¿®æ”¹ã€‚\n","title":"ç”¨ GitHub Action è‡ªåŠ¨åŒ–æ„å»º Hexo å¹¶å‘å¸ƒåˆ° S3","abstract":"GitHub Action è‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒåˆ° GitHub Pages å¤§å®¶éƒ½è§å¾—å¤šäº†ï¼Œç”šè‡³ Hexo å®˜æ–¹è‡ªå·±éƒ½æœ‰ç›¸å…³çš„æ–‡æ¡£ã€‚\nä½†æˆ‘ä»Šå¤©è¦åšçš„ä¸æ˜¯å‘å¸ƒåˆ° GitHub è¿™ä¹ˆç®€å•ï¼Œè€Œæ˜¯è¦åŒæ—¶å‘å¸ƒåˆ° GitHub å’Œè‡ªå·±çš„åŸŸåä¸‹ã€‚\næˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ª CI/CD è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦åšåˆ°ä»¥ä¸‹ç›®æ ‡ï¼š","length":342,"created_at":"2022-03-26T23:55:08.000Z","updated_at":"2022-03-27T13:31:04.000Z","tags":["Blog","GitHub","AWS","CI/CD","IaC","DevOps"],"license":false,"headingTrees":[{"key":"è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡","href":"#è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡","heading":1,"title":"è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡","children":[],"id":"è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡"},{"key":"å…ˆåšç®€å•çš„--cicd-æ„å»ºå¹¶å‘å¸ƒåˆ°-github-pages","href":"#å…ˆåšç®€å•çš„--cicd-æ„å»ºå¹¶å‘å¸ƒåˆ°-github-pages","heading":1,"title":"å…ˆåšç®€å•çš„ â€”â€” CI/CD æ„å»ºå¹¶å‘å¸ƒåˆ° GitHub Pages","children":[],"id":"å…ˆåšç®€å•çš„--cicd-æ„å»ºå¹¶å‘å¸ƒåˆ°-github-pages"},{"key":"éš¾ä¸€ç‚¹--æ­å»º-aws-åŸºç¡€è®¾æ–½","href":"#éš¾ä¸€ç‚¹--æ­å»º-aws-åŸºç¡€è®¾æ–½","heading":1,"title":"éš¾ä¸€ç‚¹ â€”â€” æ­å»º AWS åŸºç¡€è®¾æ–½","children":[{"key":"s3","href":"#s3","heading":2,"title":"S3","children":[],"id":"s3"},{"key":"cloudfront","href":"#cloudfront","heading":2,"title":"CloudFront","children":[],"id":"cloudfront"},{"key":"å…¶ä»–-aws-æœåŠ¡","href":"#å…¶ä»–-aws-æœåŠ¡","heading":2,"title":"å…¶ä»– AWS æœåŠ¡","children":[],"id":"å…¶ä»–-aws-æœåŠ¡"},{"key":"pulumi","href":"#pulumi","heading":2,"title":"Pulumi","children":[],"id":"pulumi"},{"key":"æµ‹è¯•ä¸€ä¸‹","href":"#æµ‹è¯•ä¸€ä¸‹","heading":2,"title":"æµ‹è¯•ä¸€ä¸‹","children":[],"id":"æµ‹è¯•ä¸€ä¸‹"}],"id":"éš¾ä¸€ç‚¹--æ­å»º-aws-åŸºç¡€è®¾æ–½"},{"key":"æ­å»º-s3-çš„-workflow","href":"#æ­å»º-s3-çš„-workflow","heading":1,"title":"æ­å»º S3 çš„ workflow","children":[{"key":"ç”Ÿæˆé…ç½®æ–‡ä»¶","href":"#ç”Ÿæˆé…ç½®æ–‡ä»¶","heading":2,"title":"ç”Ÿæˆé…ç½®æ–‡ä»¶","children":[],"id":"ç”Ÿæˆé…ç½®æ–‡ä»¶"},{"key":"ä¸Šä¼ -s3-ä¸åˆ·æ–°-cloudfront","href":"#ä¸Šä¼ -s3-ä¸åˆ·æ–°-cloudfront","heading":2,"title":"ä¸Šä¼  s3 ä¸åˆ·æ–° CloudFront","children":[],"id":"ä¸Šä¼ -s3-ä¸åˆ·æ–°-cloudfront"}],"id":"æ­å»º-s3-çš„-workflow"},{"key":"cloudfront-çš„ä¸€ç‚¹å°é—®é¢˜ä¸å¤ªå°","href":"#cloudfront-çš„ä¸€ç‚¹å°é—®é¢˜ä¸å¤ªå°","heading":1,"title":"CloudFront çš„ä¸€ç‚¹å°é—®é¢˜ï¼ˆä¸å¤ªå°ï¼‰","children":[{"key":"åˆ›å»º-lambda","href":"#åˆ›å»º-lambda","heading":2,"title":"åˆ›å»º Lambda","children":[],"id":"åˆ›å»º-lambda"}],"id":"cloudfront-çš„ä¸€ç‚¹å°é—®é¢˜ä¸å¤ªå°"},{"key":"ä¹‹åçš„äº‹","href":"#ä¹‹åçš„äº‹","heading":1,"title":"ä¹‹åçš„äº‹","children":[],"id":"ä¹‹åçš„äº‹"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2021-12-12-init-a-new-hexo-project.md","pagePath":"/articles/init-a-new-hexo-project","slug":"init-a-new-hexo-project"},"meta":{"content":"\n## ä½¿ç”¨ hexo æ­å»ºåšå®¢\n\næœ€è¿‘ä½¿ç”¨ hexo æ­å»ºäº†ä¸€ä¸ªåšå®¢ï¼Œå¹¶æ‰“ç®—æŒ‚è½½åœ¨ github page ä¸Šã€‚\nå¯¹ä¹‹å‰çš„é‚£ä¸ªåšå®¢è¿›è¡Œæ›¿ä»£ï¼Œå¹¶å°†ä¹‹å‰çš„æ–‡ç« é€æ¸æ¬ç§»è¿‡æ¥ã€‚\n\nä½¿ç”¨çš„[è¿™ä¸ªä¸»é¢˜](https://github.com/Yue-plus/hexo-theme-arknights)åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå®Œå–„çš„ã€‚\n\næˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹ä»£ç å—é«˜äº®ï¼š\n\n```python\ndef func_echo(s: str):\n    print(s)\n\n\nclass HelloPrinter:\n    printer: Callable[[str]]\n\n    def __init__(self, printer: Callable[[str]]):\n        self.printer = printer\n    \n    def call(self, s: str):\n        self.printer(s)\n\n\np = HelloPrinter(func_echo)\np.call(\"hello world!\")\n```\n\nè¯•è¯•ä¸‹æ ‡è¯­æ³•å§ï¼š\n\nè¿™æ˜¯ä¸€å¥è¯ã€‚[^sub]\n\næ²¡æƒ³åˆ°è¿˜æ”¯æŒä¸‹æ ‡è¯­æ³•ï¼Œè¿˜æ˜¯æ¯”è¾ƒæƒŠè‰³çš„ã€‚\n\næ¥å‡ å¥ mermaid å§\n\n```mermaid\ngraph LR\n\nohmy--\u003ecoll\n\n```\n\nåŸæœ¬æ˜¯ä¸èƒ½æ¸²æŸ“çš„ï¼Œ è¿™ä¸ªä¸»é¢˜æ¸²æŸ“ä»£ç å—æ—¶æŠŠ mermaid ä»£ç å½“ä½œæ™®é€šä»£ç ï¼Œå¾€é‡Œé¢é‡Œæ’æ¢è¡Œç¬¦å·äº†ã€‚\nä½¿ç”¨äº† hexo-filter-mermaid-diagrams æ’ä»¶ï¼Œæ·»åŠ  mermaid è¿‡æ»¤å™¨ï¼Œè§£å†³é—®é¢˜ã€‚\n\n\næ¥å‡ å¥ LaTeX:\n\n$$\n\\begin{aligned}\nf(x) \u0026= \\sum_{i=2}^{\\infty}{\\Join} \\\\\n\u0026= \\sum_{i=2}^{\\infty}{\\frac{1}{i}}\n\\end{aligned}\n$$\n\nåŸæœ¬æ˜¯ä¸èƒ½æ¸²æŸ“çš„ï¼Œå› ä¸ºä¸ hexo çš„æ¸²æŸ“å™¨æœ‰å†²çªï¼Œéœ€è¦è½¬ä¹‰ã€‚\næˆ‘å› ä¸ºéœ€è¦ä»ä»¥å‰çš„åšå®¢æŠŠæ–‡ç« è½¬ç§»è¿‡æ¥è§‰å¾—æ¯”è¾ƒéº»çƒ¦...\näºæ˜¯é­”æ”¹äº†ä¸€ä¸‹ä¸»é¢˜ï¼Œç”¨ä¸Š mathjax æ’ä»¶ï¼Œèƒ½æ¸²æŸ“äº†ï¼Œæ„Ÿè§‰æŒºä¸é”™çš„ã€‚\nå†æ”¹å–„ä¸€ä¸‹æ¨ä¸ª PR å§ã€‚\n\n\n\n\n[^sub]: è¿™æ˜¯è„šæ³¨","title":"init-a-new-hexo-project","abstract":"æœ€è¿‘ä½¿ç”¨ hexo æ­å»ºäº†ä¸€ä¸ªåšå®¢ï¼Œå¹¶æ‰“ç®—æŒ‚è½½åœ¨ github page ä¸Šã€‚\nå¯¹ä¹‹å‰çš„é‚£ä¸ªåšå®¢è¿›è¡Œæ›¿ä»£ï¼Œå¹¶å°†ä¹‹å‰çš„æ–‡ç« é€æ¸æ¬ç§»è¿‡æ¥ã€‚\nä½¿ç”¨çš„[è¿™ä¸ªä¸»é¢˜](https://github.com/Yue-plus/hexo-theme-arknights)åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå®Œå–„çš„ã€‚","length":66,"created_at":"2021-12-12T20:09:13.000Z","updated_at":"2022-03-27T13:30:33.000Z","tags":["Blog"],"license":false,"headingTrees":[{"key":"ä½¿ç”¨-hexo-æ­å»ºåšå®¢","href":"#ä½¿ç”¨-hexo-æ­å»ºåšå®¢","heading":2,"title":"ä½¿ç”¨ hexo æ­å»ºåšå®¢","children":[],"id":"ä½¿ç”¨-hexo-æ­å»ºåšå®¢"},{"key":"footnote-label","href":"#footnote-label","heading":2,"title":"Footnotes","children":[],"id":"footnote-label"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2021-03-21-Handy-heap-cheat-sheet.md","pagePath":"/articles/Handy-heap-cheat-sheet","slug":"Handy-heap-cheat-sheet"},"meta":{"content":"\n# å¦‚ä½•æ‰‹æ’•ä¸€ä¸ªå †\n\n# å†™åœ¨å‰é¢\n\nåœ¨å‚åŠ å¦‚AtCoderç­‰ç®—æ³•ç«æŠ€ï¼Œæˆ–æ˜¯åˆ·Leetcodeç­‰ç®—æ³•é¢˜æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¸å¯é¿å…åœ°é‡åˆ°å †è¿™ç§æ•°æ®ç»“æ„ã€‚\n\nå½“ç„¶ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬åªè¦ç†è§£å †ï¼ŒçŸ¥é“å †çš„æ€§è´¨ï¼ŒçŸ¥é“æ€ä¹ˆæ ·ç”¨å †å°±è¶³å¤Ÿäº†ã€‚åœ¨åšé¢˜æ—¶åªéœ€è¦è°ƒç”¨ç³»ç»Ÿç±»åº“å³å¯â€”â€”åœ¨å‚åŠ AtCoderæ—¶ä½ ç”šè‡³ä¸ä¼šæœ‰æ—¶é—´å»è‡ªå·±å®ç°ä¸€ä¸ªå †ã€‚\n\nä½†æ˜¯ï¼Œå¦‚æœå“ªä¸€å¤©ä½ æŠŠç¼–ç¨‹è¯­è¨€çš„ç±»åº“å…¨å¿˜å…‰äº†ï¼Œåˆé‡åˆ°ä¸€é¢˜éœ€è¦é¢‘ç¹æ±‚æœ€å€¼çš„é¢˜ç›®â€”â€”ä½ æ˜çŸ¥è¿™é‡Œè¦ç”¨å †ï¼Œå´åˆå¿˜è®°è¯¥è°ƒç”¨çš„ç±»åäº†ï¼Œå’‹åŠï¼Ÿæˆ‘è¿˜çœŸé‡åˆ°è¿‡è¿™é—®é¢˜ï¼šä¸‰å¹´æ²¡åˆ·ç®—æ³•ï¼Œåªèƒ½å¯¹ç€ä¸€é“è‡ªå·±æ˜æ˜¾ä¼šçš„é¢˜å¹²ç€æ€¥ï¼Œæ„£æ˜¯æƒ³ä¸èµ·PriorityQueueçš„åå­—ã€‚è¿™æ—¶å€™ï¼Œåªèƒ½è‡ªå·±å®ç°ä¸€ä¸ªå †å‡ºæ¥äº†ã€‚\n\n# é¦–å…ˆè¦ç†è§£ï¼Œç„¶åæ‰èƒ½å®ç°\n\nå°±åƒäººæ€»ä¸ä¼šå¿˜è®°è‡ªè¡Œè½¦æ€ä¹ˆéª‘ä¸€æ ·ï¼Œåªè¦ç†è§£äº†æ•°æ®ç»“æ„çš„åŸç†ï¼Œèº«ä½“å°±ä¼šè‡ªåŠ¨æ¥å¸®æˆ‘ä»¬è®°å¿†ï¼Œæ€»ä¸ä¼šå¿˜ã€‚é‚£è¦æ€ä¹ˆç†è§£ä¸€ä¸ªå †å‘¢ï¼Ÿ\n\n## å…ˆæŠ“ä½é‡ç‚¹ï¼šå †æ˜¯ä¸€ç§æ ‘ç»“æ„\n\né¦–å…ˆæœ€é‡è¦çš„ï¼Œè¦ç†è§£å †æ˜¯ä¸€ç§æ ‘ç»“æ„ã€‚ä¸ç®¡å®é™…æ˜¯åŸºäºæ•°ç»„å®ç°è¿˜æ˜¯åˆ«çš„ä»€ä¹ˆå®ç°ï¼Œé€»è¾‘ç»“æ„æ˜¯æ ‘ç»“æ„æ²¡å˜çš„ã€‚\n\nå†è¿›ä¸€æ­¥ï¼Œåœ¨å †è¿™ç§æ ‘ç»“æ„ä¸­ï¼Œæœ€é‡è¦çš„çº¦æŸå°±æ˜¯ï¼š**å¯¹äºæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ€»æœ‰çˆ¶èŠ‚ç‚¹å¤§äºä¸¤ä¸ªå­èŠ‚ç‚¹**ï¼ˆä»¥å¤§é¡¶å †ä¸ºä¾‹ï¼Œä¸‹åŒï¼‰ã€‚\n\nå¦‚æ­¤ä¸€æ¥ï¼Œå¤§å°å…³ç³»åœ¨æ ‘ä¸­å±‚å±‚ä¼ é€’ï¼Œæœ€ç»ˆå¯å¾—æ ‘çš„æ ¹èŠ‚ç‚¹ï¼ˆå †é¡¶ï¼‰å°±æ˜¯æ•´ä¸ªå †çš„æœ€å¤§èŠ‚ç‚¹ï¼Œè¯»å–å †ä¸­æœ€å¤§å€¼çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚è€Œæˆ‘ä»¬ä½¿ç”¨å †ä¹Ÿä¸€èˆ¬æ˜¯ä¸ºäº†åˆ©ç”¨è¿™ç§å †é¡¶å…ƒç´ å°±æ˜¯æœ€å¤§å€¼çš„ç‰¹ç‚¹ï¼Œè¯»å–ã€åˆ é™¤æ“ä½œä¸€èˆ¬ä¼šé™åˆ¶ä¸ºåªå…è®¸è¯»å–ã€åˆ é™¤å †é¡¶å…ƒç´ ã€‚\n\nè€Œä¸”æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°ï¼Œä¸äºŒå‰æŸ¥æ‰¾æ ‘æ¯”èµ·æ¥ï¼Œå †çš„çº¦æŸååˆ†ä¹‹å¼±ï¼šå †åªçº¦æŸçˆ¶èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹çš„å¤§å°å…³ç³»ï¼Œè€Œä¸éœ€è¦ç®¡å·¦å³å­æ ‘çš„å¤§å°å…³ç³»ï¼Œç”šè‡³ä¸éœ€è¦ç®¡å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹ä¹‹é—´è°å¤§è°å°ã€‚è¿™æ ·ä¸€æ¥å †å°±æœ‰å¾ˆå¤šå¾ˆå¥½çš„æ€§è´¨äº†ï¼š\n\n1. å †å¹¶ä¸å…³æ³¨å·¦å³å­æ ‘ä¹‹é—´çš„å¤§å°æƒ…å†µï¼Œé‚£ä¹ˆ**è¦ç»´æŠ¤ä¸€ä¸ªå †ï¼ŒåŸºæœ¬åªéœ€è¦åšäº¤æ¢çˆ¶èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹çš„æ“ä½œ**ï¼Œè€Œä¸éœ€è¦åƒäºŒå‰æŸ¥æ‰¾æ ‘é‚£æ ·åšå„ç§æ—‹è½¬æ“ä½œã€‚\n2. å› ä¸ºç»´æŠ¤ä¸€ä¸ªå †ä¸éœ€è¦åšæ—‹è½¬æ“ä½œï¼Œé‚£ä¹ˆå‡ ä¹ä¸éœ€è¦èŠ±ä»»ä½•ä»£ä»·ï¼Œå°±å¯ä»¥æŠŠå †çš„æ ‘ç»“æ„ç»´æŒåœ¨å®Œå…¨äºŒå‰æ ‘çŠ¶æ€ã€‚å› æ­¤å †çš„ç‰©ç†ç»“æ„å¯ä»¥è®¾è®¡å¾—å¾ˆç´§å‡‘ï¼Œ**å¯ä»¥ä½¿ç”¨æ•°ç»„è¿›è¡Œå®ç°**ã€‚\n3. å› ä¸ºå †å¯ä»¥ç»´æŒåœ¨å®Œå…¨äºŒå‰æ ‘çŠ¶æ€ï¼Œé‚£ä¹ˆå †çš„æ ‘ç»“æ„çš„é«˜åº¦å°±å¯ä»¥æ§åˆ¶ä¸ºO(logn)èŒƒå›´å†…ã€‚è€Œå¦‚ä¸Šæ‰€è¿°ï¼Œè¦ç»´æŠ¤ä¸€ä¸ªå †æˆ‘ä»¬ä¸éœ€è¦å…³æ³¨å·¦å³å­æ ‘çš„å…³ç³»ã€‚å› æ­¤æˆ‘ä»¬è¦åœ¨å †ä¸Šåšå¢åˆ æ“ä½œï¼Œéƒ½åªéœ€è¦ä¸Šä¸‹äº¤æ¢è‹¥å¹²æ¬¡çˆ¶å­èŠ‚ç‚¹ã€‚è€Œäº¤æ¢æ¬¡æ•°æœ€å¤šæ—¶ï¼Œä¹Ÿåªæ˜¯ä»æ ‘æ ¹ä¸€ç›´äº¤æ¢åˆ°æ ‘å¶ï¼Œæˆ–æ˜¯ä»æ ‘å¶ä¸€ç›´äº¤æ¢åˆ°æ ‘æ ¹ï¼Œæœ€å¤šäº¤æ¢lognæ¬¡ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯å¾—ï¼š**å †çš„å¢åˆ æ“ä½œæœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(logn)**ã€‚\n\n## å†æŠ“åŸºæœ¬æ“ä½œï¼šä¸Šæµ®ä¸ä¸‹æ²‰\n\nä¸Šé¢ä¹Ÿæåˆ°ï¼Œè¦ç»´æŠ¤ä¸€ä¸ªå †ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸Šä¸‹äº¤æ¢è‹¥å¹²æ¬¡çˆ¶å­èŠ‚ç‚¹å³å¯ã€‚è‹¥ä¸€ä¸ªèŠ‚ç‚¹**è¿‡å¤§**ï¼Œå°±è·Ÿä»–çš„çˆ¶èŠ‚ç‚¹**å‘ä¸Šäº¤æ¢**ï¼›è‹¥ä¸€ä¸ªèŠ‚ç‚¹**è¿‡å°**ï¼Œå°±è·Ÿä»–çš„å­èŠ‚ç‚¹**å‘ä¸‹äº¤æ¢**ã€‚\n\nå‡è®¾pèŠ‚ç‚¹è¿‡å¤§ç ´åäº†å †ç»“æ„ï¼Œå³pèŠ‚ç‚¹æ¯”å…¶çˆ¶èŠ‚ç‚¹gè¿˜è¦å¤§ï¼Œå‘ä¸Šäº¤æ¢å¦‚ä¸‹å›¾ï¼š\n\n![pä¸gäº¤æ¢](/img/in-post/2021-03-21-Handly-heap-cheat-sheet/change.png)\n\nç”±äºé™¤äº†pè¿‡å¤§ç ´åå †ç»“æ„ä»¥å¤–ï¼Œå…¶ä»–èŠ‚ç‚¹éƒ½ç¬¦åˆå †ç»“æ„ï¼Œåˆ™æœ‰ï¼š\n\n1. p \u003e g \u003e p2\n2. g \u003e åŸp \u003e c1ä¸c2\n\nåˆ™å‘ä¸Šäº¤æ¢åæœ‰åªæœ‰ä¸€ç§ç ´åå †ç»“æ„çš„å¯èƒ½æ€§ï¼špèŠ‚ç‚¹è¿‡å¤§ï¼Œæ¯”ggèŠ‚ç‚¹è¿˜è¦å¤§ã€‚è€Œè§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯é€’å½’åœ°è¿›è¡Œå‘ä¸Šäº¤æ¢ï¼Œæœ€åæƒ…å†µä¸‹ä¸€ç›´äº¤æ¢åˆ°å †æ ¹èŠ‚ç‚¹ä¸ºæ­¢ã€‚\n\nåŒç†å¯å¾—ï¼ŒpèŠ‚ç‚¹è¿‡å°ï¼Œå°äºä»–çš„å­èŠ‚ç‚¹æ—¶ï¼Œå‘ä¸‹äº¤æ¢åæœ‰å¯èƒ½éœ€è¦é€’å½’åœ°å‘ä¸‹äº¤æ¢ï¼Œæœ€åæƒ…å†µä¸‹ä¸€ç›´äº¤æ¢åˆ°å¶å­èŠ‚ç‚¹ä¸ºæ­¢ã€‚è¦æ³¨æ„å‘ä¸‹äº¤æ¢æ—¶éœ€è¦å…ˆæ¯”è¾ƒä¸€ä¸‹ä¸¤ä¸ªå­èŠ‚ç‚¹çš„å¤§å°ï¼Œå†è·Ÿè¾ƒå¤§çš„å­èŠ‚ç‚¹äº¤æ¢ï¼Œæ‰èƒ½äº¤æ¢åçš„å¤§å°å…³ç³»ç¬¦åˆå †çš„è¦æ±‚ã€‚\n\nä¸ºäº†ç®€åŒ–ï¼Œæˆ‘ä»¬æŠŠå‰é¢é‚£ç§é€’å½’åœ°å‘ä¸Šäº¤æ¢ç§°ä¸º**ä¸Šæµ®æ“ä½œ**ï¼ŒæŠŠåé¢è¿™ç§é€’å½’åœ°å‘ä¸‹äº¤æ¢ç§°ä¸º**ä¸‹æ²‰æ“ä½œ**ã€‚æ‰€æœ‰éœ€è¦ç»´æŠ¤å †ç»“æ„çš„æ“ä½œï¼šå¢ã€åˆ ã€å»ºå †ï¼Œéƒ½å¯ä»¥æ‹†åˆ†ä¸ºä¸Šæµ®æ“ä½œæˆ–æ˜¯ä¸‹æ²‰æ“ä½œçš„ç»„åˆã€‚\n\n# å„ç§æ¥å£çš„é€»è¾‘\n\n## æ’å…¥å…ƒç´ â€”â€”å…¥å †\n\næŠŠä¸€ä¸ªå…ƒç´ påŠ å…¥å †ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠpåŠ åˆ°å †å°¾ï¼Œç„¶åå¯¹påšä¸Šæµ®æ“ä½œã€‚\n\nè™½ç„¶å †æ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œä½†ç”±äºå †å¯ä»¥ç”¨æ•°ç»„å®ç°ï¼Œé‚£æˆ‘ä»¬åªè¦ç”¨O(1)çš„æ—¶é—´å°±å¯ä»¥æ‰¾åˆ°å †å°¾ã€‚è€Œå¦‚ä¸Šé¢æ‰€è¿°ä¸Šæµ®æ“ä½œæœ€å¤šäº¤æ¢åˆ°æ ¹èŠ‚ç‚¹ ã€‚ç”±äºç”¨æ•°ç»„å®ç°çš„å †æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œäº¤æ¢åˆ°æ ¹èŠ‚ç‚¹æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚å› æ­¤æˆ‘ä»¬å¯å¾—å…¥å †çš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚\n\n## åˆ é™¤å †é¡¶å…ƒç´ â€”â€”å‡ºå †\n\næˆ‘ä»¬ä»å †ä¸­åˆ é™¤å…ƒç´ æ—¶ï¼Œä¸€èˆ¬åªä¼šåˆ é™¤å †é¡¶å…ƒç´ ã€‚\n\nåˆ é™¤å †é¡¶å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‘˜å‡ºå †å°¾å…ƒç´ på¡«åˆ°å †é¡¶çš„ç©ºç¼ºä¸­ï¼Œå†å¯¹påšä¸‹æ²‰æ“ä½œã€‚æ‰¾åˆ°å †å°¾å…ƒç´ éœ€è¦O(1)æ—¶é—´ï¼Œä¸‹æ²‰æ“ä½œæœ€å¤šäº¤æ¢åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚å› æ­¤å‡ºå †æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚\n\nè¿™é‡ŒåŠ ç‚¹é¤ï¼šå‡ºå †æ—¶æŠŠå †å°¾å…ƒç´ pæ”¾åˆ°å †é¡¶åä¸‹æ²‰ï¼Œè€ŒpåŸå…ˆåœ¨å †ä¸­çš„æœ€ä¸‹å±‚ï¼Œä¸€èˆ¬åœ¨æ•´ä¸ªå †ä¸­éƒ½ç®—è¾ƒå°çš„å…ƒç´ ã€‚å› æ­¤ä¸‹æ²‰pæ—¶æœ‰è¾ƒå¤§æ¦‚ç‡éœ€è¦ä¸€ç›´æŠŠpä¸‹æ²‰åˆ°æœ€ä¸‹å±‚æˆ–æ˜¯å€’æ•°ç¬¬äºŒå±‚ï¼Œå³å‡ºå †æ—¶æœ€åæƒ…å†µå‡ºç°æ¦‚ç‡è¾ƒé«˜ã€‚\n\n## å †çš„åˆå§‹åŒ–â€”â€”å»ºå †\n\nå»ºç«‹ä¸€ä¸ªå †ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ€è·¯ï¼š\n\n1. å°†å…ƒç´ ä¸€ä¸ªä¸€ä¸ªæ’å…¥ï¼Œå³å¯¹æ¯ä¸ªå…ƒç´ éƒ½åšä¸€æ¬¡å…¥å †æ“ä½œã€‚\n2. å½“èŠ‚ç‚¹på·¦å­æ ‘å’Œå³å­æ ‘éƒ½å„è‡ªä¸ºä¸€ä¸ªå †æ—¶ï¼Œåªè¦æŠŠpä¸‹æ²‰å°±å¯ä»¥æŠŠå·¦å³ä¸¤ä¸ªå †åˆå¹¶æˆä¸€ä¸ªæ›´å¤§çš„å †ã€‚å³ä¸æ–­åœ°è¿›è¡Œå †åˆå¹¶æ“ä½œã€‚\n\nä¸‹é¢æˆ‘ä»¬æ¥åˆ†æè¿™ä¸¤ç§å»ºå †ç­–ç•¥ã€‚\n\n### å…ƒç´ é€ä¸ªå…¥å †\n\nä¸Šé¢è¯´åˆ°ï¼Œå…¥å †å°±æ˜¯æŠŠå…ƒç´ åŠ åˆ°å †å°¾ï¼Œå†åšä¸Šæµ®æ“ä½œã€‚æŠŠå…ƒç´ é€ä¸ªå…¥å †ï¼Œå°±æ˜¯æŠŠå…ƒç´ é€ä¸ªä¸Šæµ®ã€‚\n\næ’å…¥ç¬¬iä¸ªå…ƒç´ æ—¶ï¼Œå †çš„å¤§å°ä¸º$i$ï¼ˆåœ¨ä¸å½±å“è®¡ç®—æƒ…å†µä¸‹çš„è¿‘ä¼¼ï¼Œä¸‹åŒï¼‰ï¼Œåˆ™æœ‰å †çš„é«˜åº¦ä¸ºï¼Œåˆ™ä¸Šæµ®æ—¶é—´å¤æ‚åº¦ä¸ºï¼š\n\n$$T(i) = logi$$\n\né‚£ä¹ˆæŠŠæ‰€æœ‰å…ƒç´ ä¸Šæµ®ï¼Œåˆ™æ€»æ—¶é—´å¤æ‚åº¦ä¸ºï¼š\n\n$$\n\\begin{aligned}\nT(n) \u0026= \\sum_{i=1}^{n}logi\\\\\n\u0026= 1\\times0 + 2\\times1 + ... + 2^{logn}\\times{logn} \\\\\n\u0026=O(nlogn)\n\\end{aligned}\n$$\n\né€šè¿‡æŠŠå…ƒç´ é€ä¸ªå…¥å †æ¥å»ºå †æ—¶ï¼Œå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥ç”¨ä¸‹å›¾ç›´è§‚æ˜¾ç¤ºï¼š\n\n![](/img/in-post/2021-03-21-Handly-heap-cheat-sheet/insert-length.png)\n\nï¼ˆæ¯æ¡çº¢çº¿çš„é•¿åº¦å°±æ˜¯æ’å…¥è¯¥å…ƒç´ æ‰€éœ€çš„æ—¶é—´ï¼Œçº¢çº¿çš„æ€»é•¿åº¦å°±æ˜¯å»ºå †æ‰€éœ€çš„æ€»æ—¶é—´å¤æ‚åº¦ï¼‰\n\n### å †åˆå¹¶\n\næˆ‘ä»¬å°±å¯ä»¥ä»æ ‘ç»“æ„çš„æœ€åº•å±‚å‡ºå‘ä¸æ–­è¿›è¡Œå †åˆå¹¶ï¼Œå°å †åˆå¹¶æˆå¤§å †ï¼Œæœ€ååˆå¹¶åˆ°æ ¹èŠ‚ç‚¹å°±å»ºæˆæ•´ä¸ªå †ç»“æ„ã€‚\n\nå½“èŠ‚ç‚¹çš„å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯å †æ—¶ï¼Œåªéœ€è¦å¯¹è¯¥èŠ‚ç‚¹è¿›è¡Œä¸‹æ²‰æ“ä½œå°±å¯ä»¥åˆå¹¶å·¦å³ä¸¤ä¸ªå †ã€‚ ä¸æ–­è¿›è¡Œå †åˆå¹¶ï¼Œå°±æ˜¯ä»ä¸‹å±‚å¼€å§‹æŠŠå…ƒç´ é€ä¸ªä¸‹æ²‰ã€‚\n\nä¸‹æ²‰ç¬¬iä¸ªå…ƒç´ ï¼ˆä»é¡¶åˆ°åº•æ•°ï¼‰æ—¶ï¼Œä»¥å…¶ä¸ºé¡¶ç‚¹çš„æ ‘é«˜åº¦çº¦ä¸º$logn-logi$ï¼Œåˆ™æœ‰ä¸‹æ²‰æ—¶é—´å¤æ‚åº¦ä¸ºï¼š\n\n$$\nT(i) = logn-logi\n$$\n\né‚£ä¹ˆæŠŠæ‰€æœ‰å…ƒç´ ä¸‹æ²‰ï¼Œåˆ™æ€»æ—¶é—´å¤æ‚åº¦ä¸ºï¼š\n\n$$\n\\begin{aligned}\nT(n) \u0026= \\sum_{i=1}^{n}logn-logi \\\\\n\u0026= \\frac{n}{2^{logn}}\\times{logn}+ ... + \\frac{n}{4}\\times2+\\frac{n}{2}\\times1 \\\\\n\u0026= O(n)\n\\end{aligned}\n$$\n\nåŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠé€ä¸ªå…ƒç´ ä¸‹æ²‰æ‰€è€—è´¹çš„æ—¶é—´ç”¨ä¸‹å›¾æ¥ç¤ºæ„ï¼š\n\n![](/img/in-post/2021-03-21-Handly-heap-cheat-sheet/merge-length.png)\n\n### ä¸¤ç§ç­–ç•¥çš„æ¯”è¾ƒä¸ç†è§£\n\né€ä¸ªå…ƒç´ å…¥å †çš„ç­–ç•¥æ—¶é—´å¤æ‚åº¦ä¸º$O(logn)$ï¼Œå †åˆå¹¶ç­–ç•¥çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°å·®å¼‚å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªè§’åº¦æ¥ç†è§£ï¼š\n\n1. ä»å…ƒç´ ç§»åŠ¨è·¯å¾„çš„è§’åº¦\n\n    æˆ‘ä»¬ä»å‰ä¸€å°èŠ‚çš„ä¸¤å¹…å›¾ä¸­å¯å‘ç°ï¼Œå…ƒç´ å…¥å †ç­–ç•¥çš„å›¾ä¸­æ ¹èŠ‚ç‚¹é™„è¿‘çº¢çº¿ååˆ†å¯†é›†ã€‚è€Œå †åˆå¹¶ç­–ç•¥çš„çº¢çº¿åˆ™æ•´ä½“æ¥è¯´æ¯”è¾ƒç¨€ç–ã€‚\n\n    è¿™è¯´æ˜å…ƒç´ å…¥å †ç­–ç•¥ä¸­ï¼Œåœ¨æ ¹èŠ‚ç‚¹é™„è¿‘å…ƒç´ åšäº†è¾ƒå¤šé‡å¤æ— æ•ˆçš„ç§»åŠ¨â€”â€”ä¹Ÿå°±æ˜¯è¯´æ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ä¸Šæµ®åˆ°äº†æ ¹èŠ‚ç‚¹é™„è¿‘ï¼Œç„¶ååˆè¢«å…¶ä»–åæ¥çš„å…ƒç´ é¡¶æ›¿ä¸‹æ¥ã€‚ä¸€ä¸Šä¸€ä¸‹è‡ªç„¶æ¶ˆè€—äº†å¤šä½™çš„æ—¶é—´ï¼Œè€Œè¿™ç§æ¶ˆè€—åœ¨å…ƒç´ å…¥å †ç­–ç•¥ä¸­å‡ºç°é¢‘ç‡é«˜ï¼Œæ— å¯å¿½è§†ã€‚\n\n2. ä»å…ƒç´ ç§»åŠ¨æ•°é‡ä¸ç§»åŠ¨è·ç¦»çš„è§’åº¦\n\n    æˆ‘ä»¬çŸ¥é“ä¸€èˆ¬æ¥è¯´æ ‘çš„è¶Šä¸‹å±‚èŠ‚ç‚¹æ•°é‡è¶Šå¤šã€‚ç‰¹åˆ«æ˜¯ç”¨æ•°ç»„å®ç°çš„å †æ˜¯ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œæœ€ä¸‹å±‚èŠ‚ç‚¹æ•°é‡å äº†æ€»æ•°çš„ä¸€åŠã€‚ å› æ­¤**å»ºå †çš„æ—¶é—´å¤æ‚åº¦ä¸»è¦å–å†³äºåº•å±‚å…ƒç´ **çš„ç§»åŠ¨è·ç¦»ã€‚\n\n    ç”¨å…ƒç´ å…¥å †ç­–ç•¥éœ€è¦æ¯ä¸ªå…ƒç´ è¿›è¡Œä¸Šæµ®æ“ä½œï¼Œè€Œååå…ƒç´ æ•°é‡æœ€å¤šçš„åº•å±‚ç§»åŠ¨è·ç¦»æœ€é•¿ï¼Œ$O(n)$ä¸ªå…ƒç´ éœ€è¦ç§»åŠ¨$O(logn)$çš„è·ç¦»ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚\n\n    è€Œå †åˆå¹¶ç­–ç•¥åˆ™åè¿‡æ¥ï¼Œéœ€è¦æ¯ä¸ªå…ƒç´ è¿›è¡Œä¸‹æ²‰æ“ä½œã€‚ç§»åŠ¨è·ç¦»æœ€é•¿çš„åªæœ‰ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œåº•å±‚å…ƒç´ å‡ ä¹ä¸éœ€è¦ç§»åŠ¨ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦åŠ èµ·æ¥åªæœ‰$O(n)$ã€‚\n\n    å¦‚å›¾æ‰€ç¤ºï¼Œé¢œè‰²è¶Šæ·±ä»£è¡¨ç§»åŠ¨è·ç¦»è¶Šé•¿ã€‚é¢œè‰²æ·±åº¦å¯¹é¢ç§¯çš„ç§¯åˆ†å³ä¸ºå»ºå †æ—¶é—´å¤æ‚åº¦ã€‚\n\n    ![](/img/in-post/2021-03-21-Handly-heap-cheat-sheet/move-length.png)\n\nç»¼ä¸Šåˆ†ææˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼Œé€šè¿‡å †åˆå¹¶ç­–ç•¥å»ºå †è¾ƒä¼˜ï¼Œæ—¶é—´å¤æ‚åº¦åªéœ€$O(n)$ã€‚å› æ­¤æˆ‘ä»¬å»ºå †ä¸€èˆ¬é‡‡ç”¨å †åˆå¹¶ç­–ç•¥ï¼Œä»ä¸‹å¾€ä¸Šé€ä¸ªå…ƒç´ ä¸‹æ²‰ã€‚\n\n# ä»£ç å®ç°\n\nå…¶å®ç†è§£äº†ä¸Šé¢è¿™äº›ï¼Œè¦å†™ä¸€ä¸ªå †å‡ºæ¥ä¹Ÿå·²ç»æ˜¯æ°´åˆ°æ¸ æˆäº†ã€‚ä½†æ­£å¦‚Linusæ‰€è¯´ï¼ŒTalk is cheap, show me the codeã€‚æˆ‘ä»¬è¿˜æ˜¯è¦äº²æ‰‹å†™ä¸€æ®µï¼Œæ‰èƒ½çŸ¥é“å †åˆ°åº•é•¿å•¥æ ·ã€‚\n\n```python\nT = TypeVar(\"T\")\nclass Heap(Generic[T]):\n    '''å †ç»“æ„\n\n    æœ‰ä¸¤ä¸ªæˆå‘˜ï¼š\n    self.A: List[T] # å †å†…å…ƒç´ é›†åˆï¼Œå…ƒç´ ç±»å‹ä¸ºTï¼Œå‚¨å­˜ä¸ºæ•°ç»„\n    self.fCompare: Callable[[T,T],bool] # æ¯”è¾ƒå‡½æ•°\n    \n    ä¸‹é¢å‡è®¾å †ä¸ºå¤§é¡¶å †\n    å³æœ‰self.fCompare = lambda a,b: a\u003eb\n    '''\n```\n\n## å®ç°æ ‘ç»“æ„\n\nå †å¯ä»¥å®ç°ä¸ºåŸºäºæ•°ç»„çš„å®Œå…¨äºŒå‰æ ‘ï¼Œä»¥ä¸‹æ ‡ä¸ºé›¶çš„èŠ‚ç‚¹ä¸ºæ ‘æ ¹èŠ‚ç‚¹ã€‚\n\nå¯¹äºä¸‹æ ‡ä¸ºiçš„èŠ‚ç‚¹ï¼Œå…¶å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡åˆ†åˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```python\ndef lfChildOf(i:int):\n    return (i + 1) \u003c\u003c 1 - 1\n\ndef rtChildOf(i:int):\n    return (i + 1) \u003c\u003c 1\n\ndef parentOf(i:int):\n    return (i - 1) \u003e\u003e 1\n```\n\nè‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Œæ˜¯å› ä¸ºå®Œå…¨äºŒå‰æ ‘ä¸æ•°ç»„çš„å¯¹åº”è§„åˆ™å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™ä¸‰ä¸ªå‡½æ•°ä¹Ÿæ²¡å¿…è¦è®°ä½ï¼Œåˆ°æ—¶å€™çº¸ä¸Šç”»ä¸€ç”»å°±è®°èµ·æ¥äº†ã€‚\n\n![](/img/in-post/2021-03-21-Handly-heap-cheat-sheet/tree-struct-function.png)\n\n## å®ç°åŸºæœ¬æ“ä½œâ€”â€”ä¸Šæµ®ä¸ä¸‹æ²‰\n\n### ä¸Šæµ®\n\nä¸Šæµ®å°±æ˜¯é€’å½’åœ°è¿›è¡Œå‘ä¸Šäº¤æ¢ï¼Œä¸‹æ²‰å°±æ˜¯é€’å½’åœ°è¿›è¡Œå‘ä¸‹äº¤æ¢ã€‚\n\n```python\ndef floatUp(self, i:int):\n    '''ä¸Šæµ®æ“ä½œ\n\n    å¯¹ä¸‹æ ‡ä¸ºiçš„å…ƒç´ é€’å½’åœ°è¿›è¡Œä¸Šæµ®æ“ä½œ\n    ç›´åˆ°è¯¥å…ƒç´ å°äºå…¶çˆ¶èŠ‚ç‚¹æˆ–è¯¥å…ƒç´ ä¸Šæµ®åˆ°æ ¹èŠ‚ç‚¹\n    '''\n    # å…ƒç´ iä¸Šæµ®åˆ°æ ¹èŠ‚ç‚¹æ—¶ç»“æŸé€’å½’\n    if i \u003c= 0:\n        return\n    \n    # å½“å…ƒç´ iå°äºå…¶çˆ¶èŠ‚ç‚¹æ—¶ç¬¦åˆå †ç»“æ„ï¼Œç»“æŸé€’å½’\n    pr = parentOf(i)\n    if self.fCompare(self.A[pr], self.A[i]):\n        return\n    \n    # å…ƒç´ iå¤§äºå…¶çˆ¶èŠ‚ç‚¹ï¼Œäº¤æ¢iä¸å…¶çˆ¶èŠ‚ç‚¹å¹¶ç»§ç»­ä¸Šæµ®\n    self.A[pr], self.A[i] = self.A[i], self.A[pr]\n    self.floatUp(pr)\n```\n\n### ä¸‹æ²‰\n\nè€Œä¸‹æ²‰è¦ç¨å¾®æ¯”ä¸Šæµ®å¤æ‚ã€‚å‘ä¸‹äº¤æ¢æ—¶ï¼Œéœ€è¦å…ˆæ‰¾å‡ºè¾ƒå¤§çš„å­èŠ‚ç‚¹ï¼Œå†è·Ÿè¾ƒå¤§çš„å­èŠ‚ç‚¹è¿›è¡Œäº¤äº’ã€‚è¿˜è¦è€ƒè™‘å·¦å³å­èŠ‚ç‚¹ä¸å­˜åœ¨çš„æƒ…å†µï¼šå½“å­èŠ‚ç‚¹ä¸‹æ ‡è¶…å‡ºå †å¤§å°æ—¶ï¼Œå­èŠ‚ç‚¹ä¸å­˜åœ¨ã€‚\n\n```python\ndef size(self):\n    '''è¿”å›å †å¤§å°\n    '''\n    return len(self.A)\n\ndef sinkDown(self, i:int):\n    '''ä¸‹æ²‰æ“ä½œ\n\n    å¯¹ä¸‹æ ‡ä¸ºiçš„å…ƒç´ é€’å½’åœ°è¿›è¡Œä¸‹æ²‰æ“ä½œ\n    ç›´åˆ°è¯¥å…ƒç´ å¤§äºå…¶ä¸¤ä¸ªå­èŠ‚ç‚¹æˆ–è¯¥å…ƒç´ ä¸‹æ²‰åˆ°å¶å­èŠ‚ç‚¹\n    '''\n    lc = lfChildOf(i)\n    rc = rtChildOf(i)\n\n    # æ¯”è¾ƒå…ƒç´ iä¸å…¶ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œè·å–ä¸‰ä¸ªå…ƒç´ ä¸­å­˜åœ¨ä¸”æœ€å¤§çš„å…ƒç´ \n    larger = i\n    if lc \u003c self.size() and self.fCompare(self.A[lc], self.A[larger]):\n        larger = lc\n    if rc \u003c self.size() and self.fCompare(self.A[rc], self.A[larger]):\n        larger = rc\n    \n    # å½“å…ƒç´ iå¤§äºå…¶ä¸¤ä¸ªå­èŠ‚ç‚¹æ—¶ç¬¦åˆå †ç»“æ„ï¼Œç»“æŸé€’å½’\n    # å½“å…ƒç´ iä¸‹æ²‰åˆ°å¶å­èŠ‚ç‚¹æ—¶ï¼Œå·¦å³å­èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œä¹Ÿä¼šåœ¨æ­¤ç»“æŸé€’å½’\n    if larger == i:\n        return\n    \n    # å…ƒç´ iå°äºå…¶ä¸­ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œäº¤æ¢iä¸è¾ƒå¤§å­èŠ‚ç‚¹å¹¶ç»§ç»­ä¸‹æ²‰\n    self.A[larger], self.A[i] = self.A[i], self.A[larger]\n    self.sinkDown(larger)\n```\n\næ³¨æ„è¿™é‡Œä¸Šæµ®å’Œä¸‹æ²‰æ“ä½œä½¿ç”¨äº†é€’å½’ï¼Œä¼šå ç”¨é€’å½’æ ˆç©ºé—´ï¼Œå› æ­¤é¢å¤–ç©ºé—´å¤æ‚åº¦å¹¶ä¸æ˜¯$O(1)$ã€‚\n\nä½†ä¸Šæµ®å’Œä¸‹æ²‰éƒ½å¯ä»¥æ”¹ä¸ºå¾ªç¯è¿­ä»£å®ç°ï¼Œè¿­ä»£å®ç°æ—¶é¢å¤–ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚è¦æ”¹æˆè¿­ä»£å®ç°å¹¶ä¸å›°éš¾ï¼Œè¿˜è¯·å¤§å®¶å°è¯•è‡ªå·±å®ç°ã€‚\n\n## å®ç°å„ç§å€Ÿå£â€”â€”è¯»ã€å¢ã€åˆ ã€åˆå§‹åŒ–\n\n### è¯»å–å †é¡¶\n\nå †ä¸€èˆ¬åªå…è®¸è¯»å–å †é¡¶ï¼Œå³å…¨å †æœ€å¤§å…ƒç´ ã€‚\n\n```python\ndef top(self):\n    '''è¿”å›å †é¡¶\n    '''\n    return self.A[0]\n```\n\n### å…¥å †\n\nå…¥å †æ—¶ï¼ŒæŠŠå…ƒç´ åŠ åˆ°å †å°¾ï¼Œå†åšä¸Šæµ®æ“ä½œã€‚\n\n```python\ndef insert(self, v:T):\n    '''å…¥å †\n    '''\n    # å°†å…ƒç´ åŠ åˆ°å †å°¾å¹¶åšä¸Šæµ®æ“ä½œ\n    self.A.append(v)\n    self.floatUp(len(self.A) - 1)\n```\n\n### å‡ºå †\n\nå‡ºå †æ—¶ï¼Œå–å‡ºå †é¡¶ï¼ŒæŠŠå †å°¾å…ƒç´ å¡«åˆ°å †é¡¶åï¼Œå†åšä¸‹æ²‰æ“ä½œã€‚\n\n```python\ndef pop(self)-\u003eT:\n    '''å‡ºå †\n    '''\n    # å–å‡ºå †é¡¶å…ƒç´ \n    res = self.A[0]\n\n    # å°†å †å°¾å…ƒç´ å¡«åˆ°å †é¡¶å¹¶åšä¸‹æ²‰æ“ä½œ\n    self.A[0] = self.A[len(self.A) - 1]\n    self.A.pop()\n    self.sinkDown(0)\n\n    return res\n```\n\næ³¨æ„å…¥å †ä¸å‡ºå †æ“ä½œéƒ½è¦ä¿è¯å †çš„å¤§å°ä¼šç›¸åº”å˜åŒ–ã€‚\n\n### å †åˆå§‹åŒ–\n\nå †çš„åˆå§‹åŒ–é‡‡ç”¨å †åˆå¹¶ç­–ç•¥ï¼Œä»å †å°¾åˆ°å †é¡¶é€ä¸ªå…ƒç´ åšä¸‹æ²‰æ“ä½œã€‚\n\n```python\ndef __init__(self, A:List[T]=[], \n             fCompare:Callable[[T,T],bool]=lambda a,b:a\u003eb\n             ) -\u003e None:\n    '''å †åˆå§‹åŒ–\n\n    :param A: åœ¨æ•°ç»„Aä¸Šè¿›è¡Œåˆå§‹åŒ–\n    :param fCompare: æ¯”è¾ƒå‡½æ•°ï¼Œå¯¹å †ä¸­èŠ‚ç‚¹pä¸å­èŠ‚ç‚¹cï¼Œæœ‰fCompare(p,c)==True\n    '''\n    self.A = A\n    self.fCompare = fCompare\n    for i in reversed(range(len(A))):\n        self.sinkDown(i)\n```\n\n## æ•´ä½“ä»£ç \n\n### å †çš„æ•´ä½“å®ç°\n\nç»¼ä¸Šï¼Œå †çš„æ•´ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼š\n\n```python\nfrom typing import Any, Callable, Generic, List, TypeVar\n\nT = TypeVar(\"T\")\n\ndef lfChildOf(i:int):\n    return (i + 1) \u003c\u003c 1 - 1\n\ndef rtChildOf(i:int):\n    return (i + 1) \u003c\u003c 1\n\ndef parentOf(i:int):\n    return (i - 1) \u003e\u003e 1\n\nclass Heap(Generic[T]):\n    '''å †ç»“æ„\n\n    æœ‰ä¸¤ä¸ªæˆå‘˜ï¼š\n    self.A: List[T] # å †å†…å…ƒç´ é›†åˆï¼Œå…ƒç´ ç±»å‹ä¸ºTï¼Œå‚¨å­˜ä¸ºæ•°ç»„\n    self.fCompare: Callable[[T,T],bool] # æ¯”è¾ƒå‡½æ•°\n    \n    ä¸‹é¢å‡è®¾å †ä¸ºå¤§é¡¶å †\n    å³æœ‰self.fCompare = lambda a,b: a\u003eb\n    '''\n    def __init__(self, A:List[T]=[], \n                 fCompare:Callable[[T,T],bool]=lambda a,b:a\u003eb\n                 ) -\u003e None:\n        '''å †åˆå§‹åŒ–\n\n        :param A: åœ¨æ•°ç»„Aä¸Šè¿›è¡Œåˆå§‹åŒ–\n        :param fCompare: æ¯”è¾ƒå‡½æ•°ï¼Œå¯¹å †ä¸­èŠ‚ç‚¹pä¸å­èŠ‚ç‚¹cï¼Œæœ‰fCompare(p,c)==True\n        '''\n        self.A = A\n        self.fCompare = fCompare\n        for i in reversed(range(len(A))):\n            self.sinkDown(i)\n    \n    def size(self):\n        '''è¿”å›å †å¤§å°\n        '''\n        return len(self.A)\n    \n    def top(self):\n        '''è¿”å›å †é¡¶\n        '''\n        return self.A[0]\n    \n    def sinkDown(self, i:int):\n        '''ä¸‹æ²‰æ“ä½œ\n\n        å¯¹ä¸‹æ ‡ä¸ºiçš„å…ƒç´ é€’å½’åœ°è¿›è¡Œä¸‹æ²‰æ“ä½œ\n        ç›´åˆ°è¯¥å…ƒç´ å¤§äºå…¶ä¸¤ä¸ªå­èŠ‚ç‚¹æˆ–è¯¥å…ƒç´ ä¸‹æ²‰åˆ°å¶å­èŠ‚ç‚¹\n        '''\n        lc = lfChildOf(i)\n        rc = rtChildOf(i)\n\n        # æ¯”è¾ƒå…ƒç´ iä¸å…¶ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œè·å–ä¸‰ä¸ªå…ƒç´ ä¸­å­˜åœ¨ä¸”æœ€å¤§çš„å…ƒç´ \n        larger = i\n        if lc \u003c self.size() and self.fCompare(self.A[lc], self.A[larger]):\n            larger = lc\n        if rc \u003c self.size() and self.fCompare(self.A[rc], self.A[larger]):\n            larger = rc\n        \n        # å½“å…ƒç´ iå¤§äºå…¶ä¸¤ä¸ªå­èŠ‚ç‚¹æ—¶ç¬¦åˆå †ç»“æ„ï¼Œç»“æŸé€’å½’\n        # å½“å…ƒç´ iä¸‹æ²‰åˆ°å¶å­èŠ‚ç‚¹æ—¶ï¼Œå·¦å³å­èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œä¹Ÿä¼šåœ¨æ­¤ç»“æŸé€’å½’\n        if larger == i:\n            return\n        \n        # å…ƒç´ iå°äºå…¶ä¸­ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œäº¤æ¢iä¸è¾ƒå¤§å­èŠ‚ç‚¹å¹¶ç»§ç»­ä¸‹æ²‰\n        self.A[larger], self.A[i] = self.A[i], self.A[larger]\n        self.sinkDown(larger)\n\n    def floatUp(self, i:int):\n        '''ä¸Šæµ®æ“ä½œ\n\n        å¯¹ä¸‹æ ‡ä¸ºiçš„å…ƒç´ é€’å½’åœ°è¿›è¡Œä¸Šæµ®æ“ä½œ\n        ç›´åˆ°è¯¥å…ƒç´ å°äºå…¶çˆ¶èŠ‚ç‚¹æˆ–è¯¥å…ƒç´ ä¸Šæµ®åˆ°æ ¹èŠ‚ç‚¹\n        '''\n        # å…ƒç´ iä¸Šæµ®åˆ°æ ¹èŠ‚ç‚¹æ—¶ç»“æŸé€’å½’\n        if i \u003c= 0:\n            return\n        \n        # å½“å…ƒç´ iå°äºå…¶çˆ¶èŠ‚ç‚¹æ—¶ç¬¦åˆå †ç»“æ„ï¼Œç»“æŸé€’å½’\n        pr = parentOf(i)\n        if self.fCompare(self.A[pr], self.A[i]):\n            return\n        \n        # å…ƒç´ iå¤§äºå…¶çˆ¶èŠ‚ç‚¹ï¼Œäº¤æ¢iä¸å…¶çˆ¶èŠ‚ç‚¹å¹¶ç»§ç»­ä¸Šæµ®\n        self.A[pr], self.A[i] = self.A[i], self.A[pr]\n        self.floatUp(pr)\n    \n    def insert(self, v:T):\n        '''å…¥å †\n        '''\n        # å°†å…ƒç´ åŠ åˆ°å †å°¾å¹¶åšä¸Šæµ®æ“ä½œ\n        self.A.append(v)\n        self.floatUp(len(self.A) - 1)\n\n    def pop(self)-\u003eT:\n        '''å‡ºå †\n        '''\n        # å–å‡ºå †é¡¶å…ƒç´ \n        res = self.A[0]\n\n        # å°†å †å°¾å…ƒç´ å¡«åˆ°å †é¡¶å¹¶åšä¸‹æ²‰æ“ä½œ\n        self.A[0] = self.A[len(self.A) - 1]\n        self.A.pop()\n        self.sinkDown(0)\n\n        return res\n```\n\n### å•å…ƒæµ‹è¯•\n\nå…¥å †ã€å‡ºå †ç­‰æ“ä½œçš„ç®€å•å•å…ƒæµ‹è¯•å¦‚ä¸‹ï¼š\n\n```python\nimport pytest\nimport heap\n\n@pytest.fixture\ndef initHeap():\n    return heap.Heap([1,3,4,7,2,6,5,9,0,8], \n                     lambda a,b:a\u003eb)\n\nclass Test_TestHeap:\n    def test_init_notNull(self, initHeap:heap.Heap):\n        assert initHeap.size() == 10\n        assert initHeap.top() == 9\n    \n    def test_insert_notTop(self, initHeap:heap.Heap):\n        initHeap.insert(6)\n        assert initHeap.size() == 11\n        assert initHeap.top() == 9\n    \n    def test_insert_top(self, initHeap:heap.Heap):\n        initHeap.insert(10)\n        assert initHeap.size() == 11\n        assert initHeap.top() == 10\n    \n    def test_pop(self, initHeap:heap.Heap):\n        p = initHeap.pop()\n        assert p == 9\n        assert initHeap.size() == 9\n        assert initHeap.top() == 8\n```\n\n# å…³äºå †æ’åº\n\nç®—æ³•ç«èµ›ä¸­é™¤äº†åŸç”Ÿä½¿ç”¨å †ç»“æ„ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä½¿ç”¨åˆ°å †çš„åœ°æ–¹â€”â€”å †æ’åºã€‚å †æ’åºæœ‰åŸåœ°æ’åºã€æœ€åæ—¶é—´å¤æ‚åº¦ä¸º$O(nlogn)$ç­‰ä¼˜ç§€çš„æ€§è´¨ï¼Œæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ä¸ªæ’åºç®—æ³•ã€‚\n\nç„¶è€Œï¼Œæ‰‹å†™å †æ’åºè¦æ³¨æ„çš„åœ°æ–¹ä¸æ‰‹å†™å †ç»“æ„æœ‰æ¯”è¾ƒå¤§çš„ä¸åŒã€‚å †æ’åºæ—¶è¦æ³¨æ„çš„ç‚¹å¦‚ä¸‹ï¼š\n\n1. å †æ’åºæ—¶ä¸€èˆ¬è¦æ±‚åœ¨ç»™å…¥æ•°ç»„ä¸ŠåŸåœ°æ’åºï¼Œä¸éœ€è¦å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ç»“æ„ï¼Œåä¹‹ï¼Œéœ€è¦è®°å½•å †ç»“æ„çš„å¤§å°ã€‚\n2. å †ç»“æ„ä¸€èˆ¬å ç”¨æ•°ç»„å‰ç«¯ï¼Œå› æ­¤ä»å°åˆ°å¤§æ’åºæ—¶ï¼Œæœ‰åºéƒ¨åˆ†ä»æ•°ç»„æœ«å°¾å¼€å§‹æ‰©å¼ ï¼Œå»ºç«‹çš„å †ä¸ºå¤§é¡¶å †ã€‚\n3. å †æ’åºåªéœ€è¦å»ºå †ä¸å‡ºå †æ“ä½œï¼Œå› æ­¤åªéœ€è¦å®ç°ä¸‹æ²‰æ“ä½œã€‚\n\nå…³äºå †æ’åºçš„å…·ä½“è®¨è®ºï¼Œæœ‰æœºä¼šçš„è¯æˆ‘ä¼šå¦å¤–å†™ä¸€ç¯‡æ¥è®²è§£ã€‚","title":"å¦‚ä½•æ‰‹æ’•ä¸€ä¸ªå †","abstract":"åœ¨å‚åŠ å¦‚AtCoderç­‰ç®—æ³•ç«æŠ€ï¼Œæˆ–æ˜¯åˆ·Leetcodeç­‰ç®—æ³•é¢˜æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¸å¯é¿å…åœ°é‡åˆ°å †è¿™ç§æ•°æ®ç»“æ„ã€‚\nå½“ç„¶ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬åªè¦ç†è§£å †ï¼ŒçŸ¥é“å †çš„æ€§è´¨ï¼ŒçŸ¥é“æ€ä¹ˆæ ·ç”¨å †å°±è¶³å¤Ÿäº†ã€‚åœ¨åšé¢˜æ—¶åªéœ€è¦è°ƒç”¨ç³»ç»Ÿç±»åº“å³å¯â€”â€”åœ¨å‚åŠ AtCoderæ—¶ä½ ç”šè‡³ä¸ä¼šæœ‰æ—¶é—´å»è‡ªå·±å®ç°ä¸€ä¸ªå †ã€‚\nä½†æ˜¯ï¼Œå¦‚æœå“ªä¸€å¤©ä½ æŠŠç¼–ç¨‹è¯­è¨€çš„ç±»åº“å…¨å¿˜å…‰äº†ï¼Œåˆé‡åˆ°ä¸€é¢˜éœ€è¦é¢‘ç¹æ±‚æœ€å€¼çš„é¢˜ç›®â€”â€”ä½ æ˜çŸ¥è¿™é‡Œè¦ç”¨å †ï¼Œå´åˆå¿˜è®°è¯¥è°ƒç”¨çš„ç±»åäº†ï¼Œå’‹åŠï¼Ÿæˆ‘è¿˜çœŸé‡åˆ°è¿‡è¿™é—®é¢˜ï¼šä¸‰å¹´æ²¡åˆ·ç®—æ³•ï¼Œåªèƒ½å¯¹ç€ä¸€é“è‡ªå·±æ˜æ˜¾ä¼šçš„é¢˜å¹²ç€æ€¥ï¼Œæ„£æ˜¯æƒ³ä¸èµ·PriorityQueueçš„åå­—ã€‚è¿™æ—¶å€™ï¼Œåªèƒ½è‡ªå·±å®ç°ä¸€ä¸ªå †å‡ºæ¥äº†ã€‚","length":483,"created_at":"2021-08-28T23:09:14.000Z","updated_at":"2024-04-14T13:30:33.000Z","tags":["æ•°æ®ç»“æ„","ç®—æ³•","ç®—æ³•ç«èµ›"],"license":false,"headingTrees":[{"key":"å¦‚ä½•æ‰‹æ’•ä¸€ä¸ªå †","href":"#å¦‚ä½•æ‰‹æ’•ä¸€ä¸ªå †","heading":1,"title":"å¦‚ä½•æ‰‹æ’•ä¸€ä¸ªå †","children":[],"id":"å¦‚ä½•æ‰‹æ’•ä¸€ä¸ªå †"},{"key":"å†™åœ¨å‰é¢","href":"#å†™åœ¨å‰é¢","heading":1,"title":"å†™åœ¨å‰é¢","children":[],"id":"å†™åœ¨å‰é¢"},{"key":"é¦–å…ˆè¦ç†è§£ç„¶åæ‰èƒ½å®ç°","href":"#é¦–å…ˆè¦ç†è§£ç„¶åæ‰èƒ½å®ç°","heading":1,"title":"é¦–å…ˆè¦ç†è§£ï¼Œç„¶åæ‰èƒ½å®ç°","children":[{"key":"å…ˆæŠ“ä½é‡ç‚¹å †æ˜¯ä¸€ç§æ ‘ç»“æ„","href":"#å…ˆæŠ“ä½é‡ç‚¹å †æ˜¯ä¸€ç§æ ‘ç»“æ„","heading":2,"title":"å…ˆæŠ“ä½é‡ç‚¹ï¼šå †æ˜¯ä¸€ç§æ ‘ç»“æ„","children":[],"id":"å…ˆæŠ“ä½é‡ç‚¹å †æ˜¯ä¸€ç§æ ‘ç»“æ„"},{"key":"å†æŠ“åŸºæœ¬æ“ä½œä¸Šæµ®ä¸ä¸‹æ²‰","href":"#å†æŠ“åŸºæœ¬æ“ä½œä¸Šæµ®ä¸ä¸‹æ²‰","heading":2,"title":"å†æŠ“åŸºæœ¬æ“ä½œï¼šä¸Šæµ®ä¸ä¸‹æ²‰","children":[],"id":"å†æŠ“åŸºæœ¬æ“ä½œä¸Šæµ®ä¸ä¸‹æ²‰"}],"id":"é¦–å…ˆè¦ç†è§£ç„¶åæ‰èƒ½å®ç°"},{"key":"å„ç§æ¥å£çš„é€»è¾‘","href":"#å„ç§æ¥å£çš„é€»è¾‘","heading":1,"title":"å„ç§æ¥å£çš„é€»è¾‘","children":[{"key":"æ’å…¥å…ƒç´ å…¥å †","href":"#æ’å…¥å…ƒç´ å…¥å †","heading":2,"title":"æ’å…¥å…ƒç´ â€”â€”å…¥å †","children":[],"id":"æ’å…¥å…ƒç´ å…¥å †"},{"key":"åˆ é™¤å †é¡¶å…ƒç´ å‡ºå †","href":"#åˆ é™¤å †é¡¶å…ƒç´ å‡ºå †","heading":2,"title":"åˆ é™¤å †é¡¶å…ƒç´ â€”â€”å‡ºå †","children":[],"id":"åˆ é™¤å †é¡¶å…ƒç´ å‡ºå †"},{"key":"å †çš„åˆå§‹åŒ–å»ºå †","href":"#å †çš„åˆå§‹åŒ–å»ºå †","heading":2,"title":"å †çš„åˆå§‹åŒ–â€”â€”å»ºå †","children":[{"key":"å…ƒç´ é€ä¸ªå…¥å †","href":"#å…ƒç´ é€ä¸ªå…¥å †","heading":3,"title":"å…ƒç´ é€ä¸ªå…¥å †","children":[],"id":"å…ƒç´ é€ä¸ªå…¥å †"},{"key":"å †åˆå¹¶","href":"#å †åˆå¹¶","heading":3,"title":"å †åˆå¹¶","children":[],"id":"å †åˆå¹¶"},{"key":"ä¸¤ç§ç­–ç•¥çš„æ¯”è¾ƒä¸ç†è§£","href":"#ä¸¤ç§ç­–ç•¥çš„æ¯”è¾ƒä¸ç†è§£","heading":3,"title":"ä¸¤ç§ç­–ç•¥çš„æ¯”è¾ƒä¸ç†è§£","children":[],"id":"ä¸¤ç§ç­–ç•¥çš„æ¯”è¾ƒä¸ç†è§£"}],"id":"å †çš„åˆå§‹åŒ–å»ºå †"}],"id":"å„ç§æ¥å£çš„é€»è¾‘"},{"key":"ä»£ç å®ç°","href":"#ä»£ç å®ç°","heading":1,"title":"ä»£ç å®ç°","children":[{"key":"å®ç°æ ‘ç»“æ„","href":"#å®ç°æ ‘ç»“æ„","heading":2,"title":"å®ç°æ ‘ç»“æ„","children":[],"id":"å®ç°æ ‘ç»“æ„"},{"key":"å®ç°åŸºæœ¬æ“ä½œä¸Šæµ®ä¸ä¸‹æ²‰","href":"#å®ç°åŸºæœ¬æ“ä½œä¸Šæµ®ä¸ä¸‹æ²‰","heading":2,"title":"å®ç°åŸºæœ¬æ“ä½œâ€”â€”ä¸Šæµ®ä¸ä¸‹æ²‰","children":[{"key":"ä¸Šæµ®","href":"#ä¸Šæµ®","heading":3,"title":"ä¸Šæµ®","children":[],"id":"ä¸Šæµ®"},{"key":"ä¸‹æ²‰","href":"#ä¸‹æ²‰","heading":3,"title":"ä¸‹æ²‰","children":[],"id":"ä¸‹æ²‰"}],"id":"å®ç°åŸºæœ¬æ“ä½œä¸Šæµ®ä¸ä¸‹æ²‰"},{"key":"å®ç°å„ç§å€Ÿå£è¯»å¢åˆ åˆå§‹åŒ–","href":"#å®ç°å„ç§å€Ÿå£è¯»å¢åˆ åˆå§‹åŒ–","heading":2,"title":"å®ç°å„ç§å€Ÿå£â€”â€”è¯»ã€å¢ã€åˆ ã€åˆå§‹åŒ–","children":[{"key":"è¯»å–å †é¡¶","href":"#è¯»å–å †é¡¶","heading":3,"title":"è¯»å–å †é¡¶","children":[],"id":"è¯»å–å †é¡¶"},{"key":"å…¥å †","href":"#å…¥å †","heading":3,"title":"å…¥å †","children":[],"id":"å…¥å †"},{"key":"å‡ºå †","href":"#å‡ºå †","heading":3,"title":"å‡ºå †","children":[],"id":"å‡ºå †"},{"key":"å †åˆå§‹åŒ–","href":"#å †åˆå§‹åŒ–","heading":3,"title":"å †åˆå§‹åŒ–","children":[],"id":"å †åˆå§‹åŒ–"}],"id":"å®ç°å„ç§å€Ÿå£è¯»å¢åˆ åˆå§‹åŒ–"},{"key":"æ•´ä½“ä»£ç ","href":"#æ•´ä½“ä»£ç ","heading":2,"title":"æ•´ä½“ä»£ç ","children":[{"key":"å †çš„æ•´ä½“å®ç°","href":"#å †çš„æ•´ä½“å®ç°","heading":3,"title":"å †çš„æ•´ä½“å®ç°","children":[],"id":"å †çš„æ•´ä½“å®ç°"},{"key":"å•å…ƒæµ‹è¯•","href":"#å•å…ƒæµ‹è¯•","heading":3,"title":"å•å…ƒæµ‹è¯•","children":[],"id":"å•å…ƒæµ‹è¯•"}],"id":"æ•´ä½“ä»£ç "}],"id":"ä»£ç å®ç°"},{"key":"å…³äºå †æ’åº","href":"#å…³äºå †æ’åº","heading":1,"title":"å…³äºå †æ’åº","children":[],"id":"å…³äºå †æ’åº"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2021-08-21-The-beauty-of-design-parten.md","pagePath":"/articles/The-beauty-of-design-parten","slug":"The-beauty-of-design-parten"},"meta":{"content":"\n# å¯¼è¯»\n\n## 02ï¼šå¦‚ä½•è¯„ä»·ä»£ç å¥½åï¼Ÿ\n\nä»7ä¸ªæ–¹é¢è¯„ä»·ä»£ç çš„å¥½åï¼š\n\n1. æ˜“ç»´æŠ¤æ€§ï¼šæ ¹æœ¬\n2. å¯è¯»æ€§ï¼šæœ€é‡è¦\n3. æ˜“æ‰©å±•æ€§ï¼šå¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾\n4. çµæ´»æ€§\n5. ç®€æ´æ€§ï¼šKISS\n6. å¯å¤ç”¨æ€§ï¼šDRY\n7. å¯æµ‹è¯•æ€§ï¼šTDDï¼Œå•å…ƒæµ‹è¯•ï¼Œæ§åˆ¶åè½¬ä¸ä¾èµ–æ³¨å…¥\n\n## 03ï¼šç¼–ç¨‹æ–¹æ³•è®º\n\nè®¾è®¡æ¨¡å¼ä¹‹ç¾è¿™ä¸€è¯¾ç¨‹ä¸å•æ­¢è®²è®¾è®¡æ¨¡å¼ï¼Œè€Œä¼šè®²åŒ…æ‹¬è®¾è®¡æ¨¡å¼åœ¨å†…çš„æŒ‡å¯¼æˆ‘ä»¬è¿›è¡Œä»£ç è®¾è®¡çš„æ–¹æ³•è®ºã€‚åŒ…æ‹¬ä»¥ä¸‹5ä¸ªæ–¹é¢ï¼š\n\n1. é¢å‘å¯¹è±¡ï¼šå°è£…ï¼ŒæŠ½è±¡ï¼Œç»§æ‰¿ï¼Œå¤šæ€\n2. è®¾è®¡åŸåˆ™ï¼šSOLIDï¼ˆå•ä¸€èŒè´£ï¼Œå¼€é—­åŸåˆ™ï¼Œé‡Œæ°æ›¿æ¢ï¼Œæ¥å£éš”ç¦»ï¼Œä¾èµ–å€’ç½®ï¼‰ï¼ŒDRYï¼ŒKISSï¼ŒYAGNIï¼ŒLOD\n3. è®¾è®¡æ¨¡å¼\n4. ç¼–ç¨‹è§„èŒƒï¼šå¯è¯»æ€§ï¼Œå‘½åè§„èŒƒ\n5. é‡æ„æŠ€å·§ï¼šï¼ˆç›®çš„ï¼Œå¯¹è±¡ï¼Œæ—¶æœºï¼Œæ–¹æ³•ï¼‰ï¼Œä¿è¯æ‰‹æ®µï¼ˆå•å…ƒæµ‹è¯•ä¸å¯æµ‹æ€§ï¼‰ï¼Œä¸¤ç§è§„æ¨¡\n\næ•´ä¸ªè¯¾ç¨‹ä¼šä»¥ç¼–ç¨‹æ–¹æ³•è®ºä¸ºçºµè½´ï¼Œä»¥ä»£ç å¥½åçš„è¯„ä»·ä¸ºæ¨ªè½´ï¼Œæ¥è®²æé«˜ä»£ç è´¨é‡çš„æ–¹æ³•ä»¥åŠé‡‡ç”¨è¿™ç§æ–¹æ³•çš„åŸå› ã€‚\n\n\n# é¢å‘å¯¹è±¡\n\nä½¿ç”¨å°è£…ï¼ŒæŠ½è±¡ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼Œä½œä¸ºä»£ç è®¾è®¡å’Œå®ç°çš„åŸºçŸ³ã€‚\n\n1. é¢å‘å¯¹è±¡åˆ†æï¼ˆåšä»€ä¹ˆï¼‰ï¼Œè®¾è®¡ï¼ˆæ€ä¹ˆåšï¼‰ï¼Œç¼–ç¨‹\n\n## 05ï¼šå°è£…ï¼ŒæŠ½è±¡ï¼Œç»§æ‰¿ï¼Œå¤šæ€\n\n|      | æ˜¯ä»€ä¹ˆ                 | æ€ä¹ˆåš                 | ä¸ºä»€ä¹ˆ                                                         |\n| ---- | ---------------------- | ---------------------- | -------------------------------------------------------------- |\n| å°è£… | ä¿¡æ¯éšè—ã€æ•°æ®è®¿é—®ä¿æŠ¤ | è®¿é—®æ§åˆ¶å…³é”®å­—         | å‡å°‘ä¸å¯æ§å› ç´ ã€ç»Ÿä¸€ä¿®æ”¹æ–¹å¼ã€ä¿è¯å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ã€æé«˜æ˜“ç”¨æ€§ |\n| æŠ½è±¡ | éšè—å®ç°æ–¹æ³•           | å‡½æ•°ã€æ¥å£ç±»ã€æŠ½è±¡ç±»   | æé«˜å¯æ‰©å±•æ€§ä¸ç»´æŠ¤æ€§ã€è¿‡æ»¤éå¿…è¦ä¿¡æ¯                           |\n| ç»§æ‰¿ | is-aå…³ç³»               | ç»§æ‰¿æœºåˆ¶               | ä»£ç å¤ç”¨ã€åæ˜ çœŸå®ä¸–ç•Œå…³ç³»                                     |\n| å¤šæ€ | å­ç±»æ›¿ä»£çˆ¶ç±»           | ç»§æ‰¿ã€æ¥å£ç±»ã€é¸­å­ç±»å‹ | æé«˜æ‰©å±•æ€§ä¸å¤ç”¨æ€§                                             |\n\n- ç»§æ‰¿ä¸åº”è¿‡åº¦ä½¿ç”¨ï¼Œä¼šå¯¼è‡´å±‚æ¬¡è¿‡æ·±ï¼Œå¯¼è‡´ä½å¯è¯»æ€§ä¸ä½å¯ç»´æŠ¤æ€§\n- åœ¨æˆ‘çœ‹æ¥ï¼Œå¤šæ€çš„æœ¬è´¨ä¸å…¶è¯´æ˜¯å­ç±»æ›¿ä»£çˆ¶ç±»ï¼Œæ›´åº”è¯´æ˜¯ç”¨åŒä¸€ä¸ªè¿‡ç¨‹æ–¹æ³•èƒ½é€‚åº”å¤šç§ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚\n- æœ‰äº›è§‚ç‚¹è®¤ä¸ºï¼Œå¤šæ€é™¤äº†è¡¨ä¸­è¿™ä¸‰ç§å®ç°æ–¹å¼ä»¥å¤–ï¼Œè¿˜æœ‰æ³›å‹çš„å®ç°æ–¹å¼ï¼Œè¢«ç§°ä¸ºè¿æ¥æ—¶å¤šæ€ã€‚\n\n## 06ï¼Œ07ï¼šé¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡\n\n1. é¢å‘è¿‡ç¨‹æ˜¯ï¼šæ•°æ®ä¸æ–¹æ³•åˆ†ç¦»\n2. é¢å‘å¯¹è±¡ä¼˜åŠ¿ï¼šé€‚åº”å¤§è§„æ¨¡å¼€å‘ï¼Œä»£ç ç»„ç»‡æ›´æ¸…æ™°ï¼›æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ã€æ˜“ç»´æŠ¤ï¼›äººæ€§åŒ–ï¼›\n3. çœ‹ä¼¼é¢å‘å¯¹è±¡å®é™…é¢å‘è¿‡ç¨‹ï¼šæ»¥ç”¨getterã€setterç ´åå°è£…ï¼›æ»¥ç”¨å…¨å±€å˜é‡ä¸å…¨å±€æ–¹æ³•ï¼ŒConstantsç±»ä¸Utilsç±»ï¼›æ•°æ®ä¸æ–¹æ³•åˆ†ç¦»ï¼Œè´«è¡€æ¨¡å‹ï¼›\n4. ä¸ºä»€ä¹ˆå®¹æ˜“é¢å‘è¿‡ç¨‹ï¼šç•¥\n5. é¢å‘è¿‡ç¨‹çš„ç”¨å¤„ï¼šç•¥\n\n## 08ï¼šæ¥å£ä¸æŠ½è±¡ç±»\n\n1. æ¥å£ç±»ä¸æŠ½è±¡ç±»è¯­æ³•ç‰¹æ€§ï¼šç•¥\n2. æŠ½è±¡ç±»è¡¨ç¤ºis-aï¼Œä¸ºäº†è§£å†³ä»£ç å¤ç”¨ã€‚æ¥å£è¡¨ç¤ºèƒ½åšä»€ä¹ˆï¼Œä¸ºäº†è§£è€¦ï¼Œéš”ç¦»æ¥å£ä¸å®ç°ã€‚\n3. åº”ç”¨åœºæ™¯åŒºåˆ«ï¼š\n    - æŠ½è±¡ç±»ï¼šä»£è¡¨is-aå…³ç³»ï¼Œè§£å†³ä»£ç å¤ç”¨é—®é¢˜\n    - æ¥å£ç±»ï¼šè§£å†³æŠ½è±¡ã€è§£è€¦é—®é¢˜","title":"è®¾è®¡æ¨¡å¼ä¹‹ç¾è¯»ä¹¦ç¬”è®°","abstract":"ä»7ä¸ªæ–¹é¢è¯„ä»·ä»£ç çš„å¥½åï¼š\n1. æ˜“ç»´æŠ¤æ€§ï¼šæ ¹æœ¬\n2. å¯è¯»æ€§ï¼šæœ€é‡è¦","length":62,"created_at":"2021-08-21T08:53:27.000Z","updated_at":"2022-03-27T13:30:33.000Z","tags":["è®¾è®¡æ¨¡å¼","ç¬”è®°"],"license":false,"headingTrees":[{"key":"å¯¼è¯»","href":"#å¯¼è¯»","heading":1,"title":"å¯¼è¯»","children":[{"key":"02å¦‚ä½•è¯„ä»·ä»£ç å¥½å","href":"#02å¦‚ä½•è¯„ä»·ä»£ç å¥½å","heading":2,"title":"02ï¼šå¦‚ä½•è¯„ä»·ä»£ç å¥½åï¼Ÿ","children":[],"id":"02å¦‚ä½•è¯„ä»·ä»£ç å¥½å"},{"key":"03ç¼–ç¨‹æ–¹æ³•è®º","href":"#03ç¼–ç¨‹æ–¹æ³•è®º","heading":2,"title":"03ï¼šç¼–ç¨‹æ–¹æ³•è®º","children":[],"id":"03ç¼–ç¨‹æ–¹æ³•è®º"}],"id":"å¯¼è¯»"},{"key":"é¢å‘å¯¹è±¡","href":"#é¢å‘å¯¹è±¡","heading":1,"title":"é¢å‘å¯¹è±¡","children":[{"key":"05å°è£…æŠ½è±¡ç»§æ‰¿å¤šæ€","href":"#05å°è£…æŠ½è±¡ç»§æ‰¿å¤šæ€","heading":2,"title":"05ï¼šå°è£…ï¼ŒæŠ½è±¡ï¼Œç»§æ‰¿ï¼Œå¤šæ€","children":[],"id":"05å°è£…æŠ½è±¡ç»§æ‰¿å¤šæ€"},{"key":"0607é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡","href":"#0607é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡","heading":2,"title":"06ï¼Œ07ï¼šé¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡","children":[],"id":"0607é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡"},{"key":"08æ¥å£ä¸æŠ½è±¡ç±»","href":"#08æ¥å£ä¸æŠ½è±¡ç±»","heading":2,"title":"08ï¼šæ¥å£ä¸æŠ½è±¡ç±»","children":[],"id":"08æ¥å£ä¸æŠ½è±¡ç±»"}],"id":"é¢å‘å¯¹è±¡"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2021-01-11-Sort-algorithm.md","pagePath":"/articles/Sort-algorithm","slug":"Sort-algorithm"},"meta":{"content":"\n# åºè¨€\n\næˆ‘ä»¬çŸ¥é“æ’åºæ˜¯ç®—æ³•å…¥é—¨åŸºæœ¬åŠŸï¼Œæ’åºç®—æ³•æœ‰å¤šé‡è¦æƒ³å¿…ä¹Ÿä¸éœ€è¦æˆ‘åœ¨è¿™é‡Œè¯´æ˜äº†ã€‚å› æ­¤è¿™ä¸€ç¯‡å°±æŒ‰ç€æˆ‘çš„ç†è§£ï¼ŒèŠä¸€èŠæ’åºç®—æ³•ã€‚\n\nå½“ç„¶æˆ‘ä¸æ‰“ç®—éšä¾¿å¼„ä¸ªä»€ä¹ˆåå¤§æ’åºç®—æ³•æˆ–æ˜¯ç»å…¸æ’åºæ€»ç»“ä¹‹ç±»å“å½“å½“çš„åå¤´ï¼Œå„ä¸ªç®—æ³•èµ°é©¬çœ‹èŠ±ä¸€æ ·æ‹‰å‡ºæ¥é›ä¸€éï¼Œæœ€åå˜å¾—è·Ÿç½‘ä¸Šæœç´¢åˆ°çš„å…¶ä»–è®²æ’åºçš„æ–‡ç« ä¸€æ ·æ¢æ±¤ä¸æ¢è¯ã€‚ä½ ä¼šå‘ç°è¿™ç¯‡æ–‡ç« çš„ç»“æ„è·Ÿåœ¨ç½‘ä¸Šæœç´¢åˆ°çš„ä»»ä½•è®²æ’åºçš„æ–‡ç« éƒ½æœ‰æ‰€ä¸åŒï¼š\n\nåœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œä½ ä¼šå‘ç°ä½ æ‰¾ä¸åˆ°å†’æ³¡æ’åºâ€”â€”å› ä¸ºæˆ‘è®¤ä¸ºå†’æ³¡æ’åºåªä¸è¿‡æ˜¯ä¸€ç§ä½æ•ˆç‡çš„é€‰æ‹©æ’åºã€‚\n\nä½ ä¼šå‘ç°å †æ’åºè¢«å½“æˆæ˜¯é€‰æ‹©æ’åºçš„ä¸€ç§ä¼˜åŒ–â€”â€”å› ä¸ºæˆ‘è®¤ä¸ºå †æ’åºä¸»è¦åœ¨äºä½¿ç”¨äº†å †è¿™ç§æ•°æ®ç»“æ„ï¼Œè€Œæ€»ä½“æ€æƒ³ä¸é€‰æ‹©æ’åºç›¸æ¯”æ²¡æœ‰å¤ªå¤§å˜åŒ–ã€‚\n\nä½ è¿˜ä¼šæ‰¾åˆ°å…¶ä»–ä¸åˆ«çš„æ–‡ç« ä¸ä¸€æ ·çš„åœ°æ–¹ã€‚å› ä¸ºè¿™ç¯‡æ–‡ç« æ˜¯æˆ‘æŒ‰ç…§è‡ªå·±çš„ç†è§£æ¥å†™çš„ï¼Œæˆ‘è„‘å­é‡Œæ˜¯è¿™æ ·æƒ³çš„ï¼Œé‚£æ–‡ç« é‡Œå°±æ˜¯è¿™æ ·å†™çš„ã€‚æˆ‘ä¼šæŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œä»çºµå‘ä¸æ¨ªå‘ä¸¤ä¸ªç»´åº¦ï¼Œæ¥ç†æ¸…æ¥šå„ä¸ªæ’åºç®—æ³•çš„ç‰¹æ€§ä¸å¼‚åŒã€‚\n\n# æ•´ç¯‡æ–‡ç« çš„è¦ç‚¹\n\næ•´ç¯‡æ–‡ç« ä»¥çºµå‘â€”â€”ç®—æ³•åˆ†ç±»ã€ä»¥åŠæ¨ªå‘â€”â€”ç®—æ³•è¯„ä»·ä¸¤ä¸ªç»´åº¦æ¥è¿›è¡Œç»„ç»‡ã€‚\n\næ’åºç®—æ³•å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æ¥è¿›è¡Œåˆ†ç±»ï¼š\n\n- åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•\n    - åŸºäºåˆ†æ²»æ€æƒ³\n        - å¿«é€Ÿæ’åº\n        - å½’å¹¶æ’åº\n    - åŸºäºæœ‰åºåŒºåŸŸæ‰©å±•\n        - æ’å…¥æ’åº\n        - é€‰æ‹©æ’åº\n- ä¸åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•\n    - è®¡æ•°æ’åº\n    - æ¡¶æ’åº\n    - åŸºæ•°æ’åº\n\næ–‡ç« ä¸­è¿˜ä¼šè®²ä¸€è®²ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆåˆ†ï¼Œæ¯ç§åˆ†ç±»æœ‰ä»€ä¹ˆå…±æ€§ï¼Œåˆ†ç±»ä¹‹é—´æœ‰ä»€ä¹ˆå·®å¼‚ã€‚æ­¤å¤–ï¼Œåœ¨æœ€åè¿˜ä¼šç¨å¾®æä¸€æå¤–éƒ¨æ’åºä¸é€‚ç”¨äºå¹¶è¡Œè¿ç®—çš„æ’åºç­‰ã€‚\n\nè€Œå¯¹äºçºµå‘åˆ†ç±»ä¸­çš„æ¯ä¸€ä¸ªç«¯ç‚¹ï¼Œæˆ‘ä»¬åˆä¼šä»ä»¥ä¸‹äº”ä¸ªæ–¹é¢ï¼Œæ¥å¯¹å„ä¸ªç®—æ³•è¿›è¡Œä¸€ä¸ªæ€»ä½“è¯„ä»·ï¼š\n\n- æ—¶é—´å¤æ‚åº¦ï¼ˆæœ€åï¼Œæœ€å¥½ï¼Œå¹³å‡â€»ï¼‰\n- ç©ºé—´å¤æ‚åº¦\n- æ˜¯å¦åŸåœ°æ’åº\n- æ˜¯å¦ç¨³å®šæ’åº\n- èƒ½å¦ç”¨äºé“¾è¡¨æ’åº\n\nè€Œç”±äºå¤æ‚åº¦ä¸»è¦åªå…³æ³¨æ•°é‡çº§ï¼Œå› æ­¤åœ¨è¿™ç¯‡æ–‡ç« é‡Œä¼šåœ¨ä¸å½±å“è®¡ç®—ç»“æœçš„å‰æä¸‹å¯¹å¤æ‚åº¦è®¡ç®—è¿›è¡Œé€‚å½“çš„è¿‘ä¼¼ä¸ç®€åŒ–ã€‚\n\n# å¿«æ’\n\n## æ€æƒ³\n\nåˆ†æ²»æ³•ï¼šå…ˆæŠŠåºåˆ—åˆ†ä¸ºå°çš„éƒ¨åˆ†å’Œå¤§çš„éƒ¨åˆ†ï¼Œå†å°†ä¸¤éƒ¨åˆ†åˆ†åˆ«æ’åºã€‚å³ï¼šå¤æ‚åˆ†å‰²ï¼Œç®€å•åˆå¹¶ï¼Œä¸»è¦æ“ä½œåœ¨äºåˆ†å‰²ã€‚\n\n## è¦ç‚¹\n\n### æ—¶é—´å¤æ‚åº¦\n\næ¨å¯¼å¼ï¼šT(n) = T(æ‰¾) + T(å·¦) + T(å³) = O(n) + ä¸¤ä¸ªå­é—®é¢˜æ—¶é—´å¤æ‚åº¦ã€‚\n\n- æœ€å¥½æ—¶é—´å¤æ‚åº¦ä¸ºæ¯æ¬¡éƒ½æ­£å¥½æ‰¾åˆ°æœ€ä¸­é—´çš„ä¸€ä¸ªæ•°æ—¶æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlognï¼‰ã€‚è¯æ˜ç•¥ã€‚\n- æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºæ¯æ¬¡éƒ½æ­£å¥½æ‰¾åˆ°æœ€æ—è¾¹çš„æ•°æ—¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚è¯æ˜ç•¥ã€‚\n- å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlognï¼‰ï¼Œæ¨å¯¼å¼å¦‚ä¸‹ï¼š\n\n    å¿«é€Ÿæ’åºæ¯ä¸€æ­¥ä¸­ï¼Œå°†å…ƒç´ åˆ†ä¸ºå·¦å³ä¸¤è¾¹éœ€è¦éå†æ•´ä¸ªåˆ—è¡¨ï¼Œè€—æ—¶T(n)ã€‚å‡è®¾æœ€åå®šä½çš„å…ƒç´ ä¸ºæœ€ç»ˆç¬¬iä¸ªå…ƒç´ ï¼Œåˆ™ä¸¤ä¸ªå­é—®é¢˜å¤æ‚åº¦åˆ†åˆ«ä¸ºT(i)å’ŒT(n-i-1)ã€‚\n\n    åˆ™æœ‰ï¼š\n\n    $$\n    \\begin{aligned}\n    T(n) \u0026= n + \\frac{\\sum_{i=0}^{n-1}{T(i)+T(n-i-1)}}{n} \\\\\n    \u0026=n + \\frac{2}{n}\\times\\sum_{i=0}^{n-1}{T(i)} \\\\\n    \\end{aligned}\n    $$\n\n    ä»¤ $$\\sum_{i=0}^{n}T(i) = Sum(n)$$ ï¼Œå³æœ‰ï¼š\n\n    $$\n    \\begin{aligned}\n    T(n) \u0026= n + \\frac{2}{n} \\times Sum(n-1) \\\\\n    Sum(n) \u0026= \\frac{n+1}{2}T(n+1) - \\frac{n+1}{2}(n+1)\n    \\end{aligned}\n    $$\n\n    é”™ä½ç›¸å‡ï¼š\n\n    $$\n    \\begin{aligned}\n    Sum(n) - Sum(n-1) \u0026= \\frac{n+1}{2}T(n+1) - \\frac{n+1}{2}(n+1) - \\frac{n}{2}T(n) + \\frac{n}{2}(n) \n    \\\\\n    T(n) \u0026= \\frac{n+1}{2}T(n+1) - \\frac{n}{2}T(n) - \\frac{2n+1}{2} \n    \\\\\n    \\frac{T(n+1)}{n+2} \u0026= \\frac{T(n)}{n+1}+\\frac{2n+1}{(n+1)(n+2)} \n    \\\\\n    \u0026= \\frac{T(n)}{n+1}+\\frac{1}{n}+\\frac{1}{n+1} \n    \\\\\n    \u0026=...\n    \\\\\n    \u0026= \\frac{T(1)}{2}+1+2\\times(\\frac{1}{2}+\\frac{1}{3}+...+\\frac{1}{n})+\\frac{1}{n+1}\n    \\\\\n    \\\\\n    \\frac{T(n)}{n+1}\u0026=\\frac{T(1)}{2}+1+2\\times(\\frac{1}{2}+...+\\frac{1}{n-1})+\\frac{1}{n}\n    \\\\\n    \u0026= O(1)+O(1)+O(logn)+O(\\frac{1}{n})\n    \\\\\n    \u0026= O(logn)\n    \\end{aligned}\n    $$\n\n    å…¶ä¸­ç”±äº $$\\frac{1}{x}=\\frac{d(logx)}{dx}$$ ï¼Œå› æ­¤ $$\\frac{1}{2}+...+\\frac{1}{n-1}=O(logn)$$ ã€‚\n\n    åˆ™æœ‰ï¼š\n\n    $$\n    \\begin{aligned}\n    T(n)\u0026=(n+1)\\times O(logn)\\\\\n    \u0026=O(n)\\times O(logn)\\\\\n    \u0026=O(nlogn)\n    \\end{aligned}\n    $$\n\n### é¢å¤–ç©ºé—´å¤æ‚åº¦\n\nè€ƒè™‘æ ˆæ·±åº¦ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆlognï¼‰ã€‚ç”±äºå¿«é€Ÿæ’åºä¸»è¦æ­¥éª¤åœ¨äºåˆ†ï¼Œå› æ­¤å¿…é¡»è‡ªä¸Šè€Œä¸‹çš„è¿›è¡Œé€’å½’ï¼Œæ— æ³•é¿å…æ ˆæ·±åº¦ã€‚\n\n### åŸåœ°æ’åº\n\nè™½ç„¶å¿«é€Ÿæ’åºæœ‰é¢å¤–ç©ºé—´å¤æ‚åº¦ï¼Œä½†å¹¶ä¸å¦¨ç¢å®ƒæ˜¯ä¸€ä¸ªåŸåœ°æ’åºã€‚\n\n### ä¸ç¨³å®š\n\nå †æ’åºåœ¨åˆ†æ“ä½œæ—¶å°†å…ƒç´ å·¦å³äº¤æ¢ï¼Œä¼šç ´åç¨³å®šæ€§ã€‚\n\n### é“¾è¡¨å½¢å¼ç‰¹ç‚¹\n\n- æ—¶é—´å¤æ‚åº¦ä¸å˜\n- ç©ºé—´å¤æ‚åº¦ä¸å˜\n- å˜ä¸ºç¨³å®šæ’åºâ€»\n\n## æ‰‹å†™æ—¶çš„æ˜“é”™ç‚¹\n\n- åˆ†æˆå·¦å³å­åºåˆ—æ—¶æœ€å¥½å®Œå…¨åˆ†å¼€ï¼ˆä¸€è¾¹ç”¨`\u003c=`ä¸€è¾¹ç”¨`\u003e`ï¼‰ï¼Œä¸ç„¶å®¹æ˜“é€ æˆæ­»å¾ªç¯ã€‚\n- åˆ†å·¦å³å­åºåˆ—æ—¶ä»”ç»†è€ƒè™‘æœ€åˆä¸‹æ ‡ä½ç½®ä¸æœ€ç»ˆä¸‹æ ‡ä½ç½®ï¼Œä»¥åŠå¯¹åº”ä½ç½®çš„å€¼çš„å¤§å°ã€‚\n- ä¸è¦å¿˜è®°é€’å½’çš„ç»“æŸæ¡ä»¶ã€‚\n\n# å½’å¹¶æ’åº\n\n## æ€æƒ³\n\nåˆ†æ²»æ³•ï¼šå…ˆæŠŠä¸¤ä¸ªå­åºåˆ—å„è‡ªæ’å¥½åºï¼Œç„¶åå†åˆå¹¶ä¸¤ä¸ªå­åºåˆ—ã€‚å³ï¼šç®€å•åˆ†å‰²ï¼Œå¤æ‚åˆå¹¶ã€‚ä¸»è¦æ­¥éª¤åœ¨äºåˆå¹¶ã€‚\n\n## è¦ç‚¹\n\n- æ—¶é—´å¤æ‚åº¦æ¨å¯¼å¼ï¼šT(n) = 2T(n/2) + T(åˆ)\n- å¹³å‡ã€æœ€å¥½ã€æœ€åæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯Oï¼ˆnlognï¼‰ï¼Œæ¨å¯¼è¿‡ç¨‹ç•¥ã€‚\n- é¢å¤–ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆnï¼‰ï¼Œåˆå¹¶æ—¶å¿…é¡»å‡†å¤‡é¢å¤–ç©ºé—´ã€‚ä½†ç”±äºä¸»è¦æ­¥éª¤åœ¨äºåˆå¹¶ï¼Œå¯ä»¥è‡ªä¸‹è€Œä¸Šåœ°è¿›è¡Œè¿­ä»£åˆå¹¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ ˆã€‚\n- éåŸåœ°æ’åº\n- ç¨³å®šæ’åº\n\n### é“¾è¡¨å½¢å¼\n\n- æ—¶é—´å¤æ‚åº¦ä¸å˜\n- é¢å¤–ç©ºé—´å¤æ‚åº¦å˜ä¸ºO(1)â€»\n- ç¨³å®šæ’åº\n- åªèƒ½ä½¿ç”¨è¿­ä»£å½¢å¼ï¼Œä¸èƒ½ä½¿ç”¨é€’å½’å½¢å¼\n\n## æ˜“é”™ç‚¹\n\n- åˆå¹¶æ—¶ä¸€è¾¹ç»“æŸæ—¶å¦ä¸€è¾¹è¿˜æœªç»“æŸï¼Œéœ€è¦æŠŠé‚£ä¸€è¾¹ä¹Ÿæ”¾å…¥åˆå¹¶ååºåˆ—ä¸­\n- ä¿æŒç¨³å®šæ’åºï¼šåˆå¹¶æ—¶å·¦åºåˆ—ç­‰äºå³åºåˆ—æ—¶ä¹Ÿé‡‡ç”¨å·¦åºåˆ—\n- ä¸è¦å¿˜è®°é€’å½’ç»“æŸæ¡ä»¶\n- ä¸è¦å¿˜è®°å¾ªç¯é€’è¿›æ¡ä»¶\n\n## è¿›é˜¶\n\n- åŸåœ°å½’å¹¶æ’åºï¼šæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆlog^2nï¼‰ï¼Œç‰ºç‰²åˆå¹¶çš„æ—¶é—´å¤æ‚åº¦è¿›è¡ŒåŸåœ°æ’åºã€‚\n- å¤šè·¯å½’å¹¶æ’åºï¼šä½¿ç”¨ç«æ ‡æ ‘ï¼Œå¤šè·¯å½’å¹¶ï¼Œç”¨äºç£ç›˜IOã€‚\n\n# æ’å…¥æ’åº\n\n## æ€æƒ³\n\næœ‰åºåºåˆ—ä¸æ–­æ‰©å¼ ï¼Œæ¯æ¬¡ä»æ— åºåºåˆ—ä¸­å–å‡ºå…ƒç´ åŠ å…¥æœ‰åºåºåˆ—ï¼Œç›´è‡³é•¿åº¦ä¸ºNåˆ™å®Œæˆæ’åºã€‚\n\næ¯æ¬¡å°†æ— åºåºåˆ—å½“å‰å…ƒç´ æ’å…¥æœ‰åºåºåˆ—ï¼Œå¤æ‚åº¦å–å†³äºæœ‰åºåºåˆ—ã€‚\n\n## è¦ç‚¹\n\n- æœ€åã€å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šOï¼ˆn2ï¼‰\n- æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼šåŸºæœ¬æœ‰åºæƒ…å†µä¸‹ï¼ŒOï¼ˆnï¼‰\n- é¢å¤–ç©ºé—´å¤æ‚åº¦ï¼šOï¼ˆ1ï¼‰\n- åŸåœ°æ’åº\n- ç¨³å®šæ’åº\n- æ¯æ¬¡æ’å…¥æ—¶éƒ½è¦ç§»åŠ¨åºåˆ—ï¼Œå†™æ¬¡æ•°è¾ƒå¤š\n- è‹¥æŸ¥æ‰¾æ’å…¥ä½ç½®æ—¶ä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ï¼Œåˆ™å¯åŠ å¿«æ—¶é—´ã€‚ï¼ˆä½†ä¸è¶³ä»¥å¯¹æ—¶é—´å¤æ‚åº¦é€ æˆå½±å“ï¼Œä¸”æœ€å¥½æ—¶é—´å¤æ‚åº¦ä¹Ÿä¼šä¸Šå‡ä¸ºO(nlogn)ï¼‰\n\n### é“¾è¡¨å½¢å¼\n\n- æœ€å¥½ï¼Œæœ€åï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸å˜\n- é¢å¤–ç©ºé—´å¤æ‚åº¦ä¸å˜\n- ç¨³å®šæ’åº\n- æ’å…¥æ—¶ä¸å†éœ€è¦ç§»åŠ¨åºåˆ—ï¼Œä½†ä¹Ÿä¸èƒ½ä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾\n\n## è¿›é˜¶â€”â€”å¸Œå°”æ’åº\n\n- è¦ç‚¹ï¼š\n\n    æ’å…¥æ’åºçš„ä¼˜ç‚¹åœ¨äºå½“åºåˆ—åŸºæœ¬æœ‰åºæ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å¯é€¼è¿‘ä¸ºO(n)ã€‚\n\n    ä½†æ’å…¥æ—¶ç§»åŠ¨æœ‰åºåºåˆ—ä¸­å…ƒç´ æ‰€è€—æ—¶é—´è¾ƒå¤šï¼Œè€Œæ¯æ¬¡åªç§»åŠ¨ä¸€æ­¥ã€‚ä½†å®é™…ä¸Šå½“åºåˆ—åˆ†å¸ƒå‡åŒ€æ—¶ï¼Œæœ‰åºåºåˆ—ä¸­æ’é åçš„å…ƒç´ åœ¨æ•´ä¸ªåºåˆ—ä¸­ä¹Ÿä¼šæ’é åã€‚\n\n    å¯ä»¥æŠŠåºåˆ—åˆ†ä¸ºå‡ ä¸ªå¤§æ­¥é•¿åºåˆ—ï¼Œåœ¨æœ€åˆçš„å‡ æ¬¡æ’å…¥æ”¾å¼€ç§»åŠ¨æ­¥é•¿ï¼Œè®©å¤§çš„å…ƒç´ ç›´æ¥ç§»åŠ¨åˆ°è¾ƒåä½ç½®ã€‚å†å¾€åæ…¢æ…¢ç¼©å°æ­¥é•¿ï¼Œæ­¤æ—¶åºåˆ—åŸºæœ¬æœ‰åºï¼Œå¯ä»¥åˆ©ç”¨åŸºæœ¬æœ‰åºæ—¶æ’å…¥æ’åºçš„ä¼˜åŠ¿ã€‚\n\n- æ—¶é—´å¤æ‚åº¦\n    1. å½“æ­¥é•¿ä¸º2^iæ—¶ï¼Œä¸èƒ½ä½¿æ—¶é—´å¤æ‚åº¦ç¼©çŸ­ä¸ºO(nlogn)ã€‚å› ä¸ºä¸€ä¸ªå­åºåˆ—æ‰€æœ‰å…ƒç´ æœ‰å¯èƒ½æ¯”å¦ä¸€ä¸ªå­åºåˆ—æœ€å¤§å…ƒç´ éƒ½è¦å¤§ï¼Œè¿™æ—¶æ’å…¥æ’åºä»éœ€è¿›è¡Œçº¦n^2æ¬¡æ“ä½œ\n    2. å½“æ­¥é•¿ä¸º2^iæ—¶æ•ˆç‡è¾ƒä½ï¼Œå› ä¸ºå½“æ­¥é•¿ä¸º4å·²ç»æœ‰åºæ—¶ï¼Œæ­¥é•¿ä¸º2å†æ¯”è¾ƒæ˜¯æ— ç”¨æ¯”è¾ƒã€‚ä½†ç”±äº1.çš„é—®é¢˜ï¼Œä¸èƒ½èŠ‚çœæ¯”è¾ƒæ—¶é—´ã€‚\n    3. å½“æ­¥é•¿ä¹‹é—´æœ€å°å…¬çº¦æ•°è¾ƒå°‘ï¼Œç”šè‡³äº’è´¨æ—¶ï¼Œæ— ç”¨æ¯”è¾ƒæ¬¡æ•°ä¼šé™ä½ã€‚\n    4. æœ€åæ—¶é—´å¤æ‚åº¦ä¸‹é™ä¸º $$O(nlog^2n)$$ ï¼ˆå½“æ­¥é•¿é‡‡ç”¨ $$2^i3^j$$ æ—¶ï¼‰ï¼Œä½†ä¸€èˆ¬å¸Œå°”æ’åºå¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½ä¸º $$O(n^{\\frac{3}{2}})$$\n- é¢å¤–ç©ºé—´å¤æ‚åº¦O(1)\n- åŸåœ°æ’åº\n- ä¸ç¨³å®šæ’åºï¼šå¸Œå°”æ’åºæ­¥é•¿è¾ƒå¤§æ—¶ä¼šå‘ç”Ÿå‰åè·³è½¬ã€‚\n- ä¸èƒ½å†™ä¸ºé“¾è¡¨å½¢å¼\n\n# é€‰æ‹©æ’åº\n\n## æ€æƒ³\n\næœ‰åºåºåˆ—ä¸æ–­æ‰©å¼ ï¼Œæ¯æ¬¡ä»æ— åºåºåˆ—ä¸­å–å‡ºå…ƒç´ åŠ å…¥æœ‰åºåºåˆ—ï¼Œç›´è‡³é•¿åº¦ä¸ºNåˆ™å®Œæˆæ’åºã€‚\n\næ¯æ¬¡å°†é€‰æ— åºåºåˆ—ä¸­æœ€å°å…ƒç´ åŠ åˆ°æœ‰åºåºåˆ—æœ«å°¾ï¼Œå¤æ‚åº¦å–å†³äºæ— åºåºåˆ—ã€‚\n\n## è¦ç‚¹\n\n- æœ€åã€å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šOï¼ˆn2ï¼‰\n- æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼šOï¼ˆn2ï¼‰ï¼Œå¦‚èƒ½ä¿è¯æ— åºéƒ¨åˆ†çš„æœ€å°å…ƒç´ æ‰€åœ¨ä½ç½®ä¸€å®šï¼ˆå †æ’åºï¼‰ï¼Œèƒ½é™ä½æ—¶é—´å¤æ‚åº¦\n- é¢å¤–ç©ºé—´å¤æ‚åº¦ï¼šOï¼ˆ1ï¼‰\n- åŸåœ°æ’åº\n- ä¸ç¨³å®šæ’åºï¼ˆé‡‡ç”¨å…ƒç´ äº¤æ¢ç­–ç•¥æ—¶ï¼‰\n- æ¯æ¬¡æ‰¾åˆ°æœ€å°å…ƒç´ åï¼Œåªéœ€äº¤æ¢ä¸€æ¬¡ä½ç½®å³å¯ï¼Œå†™æ¬¡æ•°è¾ƒå°‘ã€‚\n- è‹¥æ‰¾åˆ°æœ€å°å…ƒç´ åï¼Œä¸ç›´æ¥äº¤æ¢è€Œæ˜¯è¿›è¡Œæ•°ç»„ç§»åŠ¨ï¼Œåˆ™å¯è¿›è¡Œç¨³å®šæ’åºï¼Œä½†å†™æ¬¡æ•°å˜å¤šï¼Œä¸æ’å…¥æ’åºç›¸æ¯”æ²¡æœ‰ä¼˜åŠ¿ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾è¿›è¡Œç®€åŒ–ã€‚\n\n### é“¾è¡¨å½¢å¼\n\n- æœ€å¥½ï¼Œæœ€åï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸å˜\n- é¢å¤–ç©ºé—´å¤æ‚åº¦ä¸å˜\n- å˜ä¸ºç¨³å®šæ’åºâ€»ï¼ˆå› ä¸ºé“¾è¡¨ä¸éœ€è¦æ•°ç»„ç§»åŠ¨ï¼Œç¨³å®šæ’åºæ–¹å¼çš„ç¼ºç‚¹å¾—ä»¥æ¶ˆé™¤ï¼‰\n\n## è¿›é˜¶â€”â€”å †æ’åº\n\n- è¦ç‚¹ï¼š\n\n    é€‰æ‹©æ’åºä¸­è€—æ—¶æœ€å¤šçš„æ˜¯å–å‡ºæ— åºåºåˆ—ä¸­æœ€å°å€¼çš„æ—¶é—´ï¼Œéœ€è¦éå†æ•´ä¸ªæ— åºåºåˆ—ã€‚\n\n    ä½†å®é™…ä¸Šæˆ‘ä»¬åªå…³å¿ƒæ— åºåºåˆ—ä¸­çš„æœ€å°å€¼ï¼Œè€Œä¸å…³å¿ƒå…¶ä»–å€¼çš„ä½ç½®ã€‚é€šè¿‡å°†æ— åºåºåˆ—å»ºä¸ºå †ï¼Œå‡å°‘é€‰æ‹©æ—¶é—´ï¼Œé™ä½æ€»çš„æ—¶é—´å¤æ‚åº¦ã€‚\n\n- æ—¶é—´å¤æ‚åº¦Oï¼ˆnlognï¼‰\n- é¢å¤–ç©ºé—´å¤æ‚åº¦Oï¼ˆ1ï¼‰\n- åŸåœ°æ’åº\n- ä¸ç¨³å®šæ’åº\n- æ“ä½œæ—¶é—´å¤æ‚åº¦ï¼šæ¯æ¬¡å‘ä¸‹æ¯”è¾ƒå…³æ³¨ä¸€ä¸ªèŠ‚ç‚¹ä¸å…¶å·¦å³å­å †é¡¶å…ƒç´ ï¼Œæ¯æ¬¡å‘ä¸Šæ¯”è¾ƒåªå…³æ³¨èŠ‚ç‚¹ä¸å…¶çˆ¶å…ƒç´ ï¼ˆå¤§é¡¶å †ï¼Œå †å¤§å°ä¸ºnï¼‰\n    - ä¸‹æ²‰ï¼šå‘ä¸‹æ¯”è¾ƒï¼Œè‹¥é¡¶å…ƒç´ ä¸æ˜¯æœ€å¤§ï¼Œå°†é¡¶å…ƒç´ ä¸è¾ƒå¤§çš„å­å †å †é¡¶å…ƒç´ äº¤æ¢ã€‚é€’å½’å¤„ç†è¯¥å­å †é¡¶å…ƒç´ ï¼Œç›´åˆ°å‘ä¸‹æ¯”è¾ƒé¡¶å…ƒç´ æœ€å¤§ã€‚\n\n        æœ€å¥½æ—¶é—´å¤æ‚åº¦Oï¼ˆ1ï¼‰ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆhï¼‰=Oï¼ˆlognï¼‰ï¼Œå¹³å‡Oï¼ˆlognï¼‰\n\n    - ä¸Šæµ®ï¼šå‘ä¸Šæ¯”è¾ƒï¼Œè‹¥å…ƒç´ æ¯”å…¶ä¸Šå±‚è¦å¤§ï¼Œäº¤æ¢è¯¥å…ƒç´ ä¸å…¶ä¸Šå±‚å…ƒç´ ã€‚é€’å½’å¤„ç†å…¶ä¸Šå±‚å…ƒç´ ï¼Œç›´åˆ°å‘ä¸Šæ¯”è¾ƒä¸æ¯”ä¸Šå±‚è¦å¤§ã€‚\n\n        æœ€å¥½æ—¶é—´å¤æ‚åº¦Oï¼ˆ1ï¼‰ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦Oï¼ˆhï¼‰=Oï¼ˆlognï¼‰ï¼Œå¹³å‡Oï¼ˆlognï¼‰\n\n    - å…¥å †ï¼šå †æ‰©å®¹ä¸€ä½ï¼Œå°†æ–°å…ƒç´ æ’åˆ°å°¾éƒ¨ï¼Œå°†è¯¥å…ƒç´ ä¸Šæµ®ï¼Œæœ€åã€å¹³å‡æ—¶é—´å¤æ‚åº¦Oï¼ˆlognï¼‰\n    - å‡ºå †ï¼šå–å‡ºå †é¡¶å…ƒç´ ï¼Œå°†å°¾éƒ¨æ”¾åˆ°å †é¡¶ï¼Œå°†è¯¥å…ƒç´ ä¸‹æ²‰ï¼Œæœ€åã€å¹³å‡æ—¶é—´å¤æ‚åº¦Oï¼ˆlognï¼‰\n    - ç¼ºç‚¹ï¼šé€šå¸¸å †å°¾å…ƒç´ è¾ƒå°ï¼Œå‡ºå †æ—¶å°†å †å°¾å…ƒç´ æ”¾åˆ°å †é¡¶å†ä¸‹æ²‰åŸºæœ¬è¦æ²‰åˆ°å †åº•ï¼Œæ— ç”¨æ¯”è¾ƒè¾ƒå¤š\n- å»ºå †æ—¶é—´å¤æ‚åº¦Oï¼ˆnï¼‰\n    - ç­–ç•¥1ï¼šä»å¤´å¼€å§‹å»ºå †ï¼Œé€ä¸ªå…ƒç´ æ’å…¥ï¼Œæ—¶é—´å¤æ‚åº¦å–å†³äºæœ€åä¸€å±‚ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlognï¼‰\n        - æ¯æ¬¡å°†å †æ‰©å®¹ä¸€ä½ï¼Œå°†æœ«å°¾å…ƒç´ ä¸Šæµ®ã€‚\n        - æ—¶é—´å¤æ‚åº¦æ¨å¯¼ï¼š\n\n            æ¯æ¬¡æ’å…¥æ—¶é—´ï¼š\n\n            $$\n            \\begin{aligned} T(i) \u0026= h\\\\\n            \u0026= logi\n            \\end{aligned}\n            $$\n\n            åˆ™æœ‰æ€»æ—¶é—´ï¼š\n\n            $$\n            \\begin{aligned}\n            T(n) \u0026= \\sum_{i=0}^{n}logi\\\\\n            \u0026= 1\\times1 + 2\\times2+ 3\\times4 + ...+h\\times \\frac{n}{2} \\\\\n            \\\\\n            2T(n) \u0026= 1\\times2 + 2\\times4+ 3\\times8 + ...+h\\times n \\\\\n            \\\\\n            2T(n)-T(n) \u0026= h\\times n - (1+2+4+...+2^{h-1}) \\\\\n            \u0026= h\\times n - O(2^h) \\\\\n            \\\\\n            T(n) \u0026= nlogn - O(2^h) \\\\\n            \u0026= O(nlogn)\n            \\end{aligned}\n            $$\n\n            å³æ—¶é—´å¤æ‚åº¦ä¸º $$O(nlogn)$$\n\n    - ç­–ç•¥2ï¼šä»åå¼€å§‹å»ºå †ï¼Œå°å †åˆå¹¶ï¼ˆé€ä¸ªå…ƒç´ ä¸‹æ²‰ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnï¼‰\n        - æ¯æ¬¡å †åˆå¹¶æ—¶ï¼Œæœ‰ä¸‰éƒ¨åˆ†ï¼šå·¦å­å †ï¼Œå³å­å †ï¼Œé¡¶å…ƒç´ ã€‚ä¸‹æ²‰é¡¶å…ƒç´ ã€‚\n        - æ—¶é—´å¤æ‚åº¦æ¨å¯¼ï¼š\n\n            ç¬¬iä¸ªå…ƒç´ åˆå¹¶æ—¶ï¼Œæ—¶é—´ä¸ºï¼š\n\n            $$\n            \\begin{aligned}\n            T(i) \u0026= h_{å­å †}\n            \\end{aligned}\n            $$\n\n            åˆ™æœ‰æ€»æ—¶é—´ï¼š\n\n            $$\n            \\begin{aligned}\n            T(n) \u0026= \\sum_{i=0}^{n} (h_{å­å †}) \\\\\n            \u0026= h + (h-1)\\times2 + ... + 2 \\times \\frac{n}{4} + 1 \\times\\frac{n}{2}\\\\\n            \\\\\n            2T(n) \u0026= h \\times 2 + (h-1) \\times 4 + ... + 2 \\times \\frac{n}{2} + n \\\\\n            \\\\\n            2T(n) - T(n) \u0026= n + \\frac{n}{2} + ... + 2 - h \\\\\n            \\\\\n            T(n) \u0026= O(n) - h \\\\ \n            \u0026= O(n)\n            \\end{aligned}\n            $$\n\n            å³æ—¶é—´å¤æ‚åº¦ä¸º $$O(n)$$ \n\n        - è™½è¯´æ¯æ­¥æ˜¯åšä¸€ä¸ªå°å †åˆå¹¶ï¼Œä½†å®é™…ä¸Šä»å †å°¾åˆ°å †å¤´éå†ï¼Œç›¸å½“äºä»…å…³æ³¨å…ƒç´ æ²¡æœ‰ç¨³å®šï¼Œç›¸å½“äºå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹æ²‰æ“ä½œã€‚\n\n# åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸‹é™ï¼šé€†åºå¯¹æ€æƒ³\n\nåŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•å¯ä»¥çœ‹ä½œåºåˆ—é€†åºå¯¹çš„æ¶ˆé™¤ã€‚å®Œå…¨éšæœºåºåˆ—é€†åºå¯¹æ•°é‡ä¸ºO(n^2)ï¼Œè‹¥ä¸€æ¬¡å…ƒæ“ä½œåªæ¶ˆé™¤ä¸€ä¸ªé€†åºå¯¹ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸ä¼šä½äºO(n^2)ã€‚é™ä½æ—¶é—´å¤æ‚åº¦å…³é”®åœ¨äºä¸€æ¬¡æ¶ˆé™¤å¤šä¸ªé€†åºå¯¹ã€‚\n\n1. å¸Œå°”æ’åºé€šè¿‡å¢å¤§æœ€åˆçš„æ­¥é•¿æ¥ä¼å›¾ä¸€æ¬¡æ¶ˆé™¤å¤šä¸ªé€†åºå¯¹ã€‚\n2. å½’å¹¶æ’åºæ¶ˆé™¤é€†åºå¯¹æœ€ä¸»è¦åœ¨äºå½’å¹¶æ­¥éª¤ã€‚æœ€åå‡ æ¬¡åˆå¹¶æ¯ä¸ªå­æ­¥éª¤ç”¨O(1)æ—¶é—´æ¶ˆé™¤O(n)ä¸ªé€†åºå¯¹ã€‚\n3. å¿«é€Ÿæ’åºæ¶ˆé™¤é€†åºå¯¹æœ€ä¸»è¦åœ¨äºåˆ’åˆ†æ­¥éª¤ã€‚æ¯ä¸ªåˆ’åˆ†æ­¥éª¤ç”¨O(n)æ—¶é—´æ¶ˆé™¤O(n)+O(å·¦é•¿åº¦Ã—å³é•¿åº¦)ä¸ªé€†åºå¯¹ã€‚\n4. å †æ’åºé€†åºå¯¹æ¶ˆé™¤æ–¹å¼æ¯”è¾ƒTrickyï¼Œä½†å¯ä»¥çœ‹å‡ºæ¶ˆé™¤é€†åºå¯¹å¤§è‡´åœ¨äºå‡ºå †æ­¥éª¤ï¼Œé€šè¿‡O(logn)æ—¶é—´å¤æ‚åº¦æ¶ˆé™¤O(n)ä¸ªé€†åºå¯¹ã€‚ï¼ˆå·¦å°å³å¤§æ’åºæ—¶éœ€è¦å»ºç«‹å·¦å¤§å³å°çš„å¤§é¡¶å †ï¼Œå»ºå †æ—¶åŸºæœ¬æ²¡æœ‰æ¶ˆé™¤é€†åºå¯¹ï¼‰\n\n# æœ€å\n\nè¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä¸»è¦å…³æ³¨äº†æ’åºç®—æ³•ä¸­çš„å¤§å¤´â€”â€”åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ã€‚åœ¨ä¸‹ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ä¸åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼Œä»¥åŠå¤–æ’åºä¸å¹¶è¡Œæ’åºã€‚","title":"æ’åºç®—æ³•","abstract":"æˆ‘ä»¬çŸ¥é“æ’åºæ˜¯ç®—æ³•å…¥é—¨åŸºæœ¬åŠŸï¼Œæ’åºç®—æ³•æœ‰å¤šé‡è¦æƒ³å¿…ä¹Ÿä¸éœ€è¦æˆ‘åœ¨è¿™é‡Œè¯´æ˜äº†ã€‚å› æ­¤è¿™ä¸€ç¯‡å°±æŒ‰ç€æˆ‘çš„ç†è§£ï¼ŒèŠä¸€èŠæ’åºç®—æ³•ã€‚\nå½“ç„¶æˆ‘ä¸æ‰“ç®—éšä¾¿å¼„ä¸ªä»€ä¹ˆåå¤§æ’åºç®—æ³•æˆ–æ˜¯ç»å…¸æ’åºæ€»ç»“ä¹‹ç±»å“å½“å½“çš„åå¤´ï¼Œå„ä¸ªç®—æ³•èµ°é©¬çœ‹èŠ±ä¸€æ ·æ‹‰å‡ºæ¥é›ä¸€éï¼Œæœ€åå˜å¾—è·Ÿç½‘ä¸Šæœç´¢åˆ°çš„å…¶ä»–è®²æ’åºçš„æ–‡ç« ä¸€æ ·æ¢æ±¤ä¸æ¢è¯ã€‚ä½ ä¼šå‘ç°è¿™ç¯‡æ–‡ç« çš„ç»“æ„è·Ÿåœ¨ç½‘ä¸Šæœç´¢åˆ°çš„ä»»ä½•è®²æ’åºçš„æ–‡ç« éƒ½æœ‰æ‰€ä¸åŒï¼š\nåœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œä½ ä¼šå‘ç°ä½ æ‰¾ä¸åˆ°å†’æ³¡æ’åºâ€”â€”å› ä¸ºæˆ‘è®¤ä¸ºå†’æ³¡æ’åºåªä¸è¿‡æ˜¯ä¸€ç§ä½æ•ˆç‡çš„é€‰æ‹©æ’åºã€‚","length":342,"created_at":"2021-01-11T22:57:10.000Z","updated_at":"2024-04-14T13:30:33.000Z","tags":["æ•°æ®ç»“æ„","ç®—æ³•","æ’åº"],"license":false,"headingTrees":[{"key":"åºè¨€","href":"#åºè¨€","heading":1,"title":"åºè¨€","children":[],"id":"åºè¨€"},{"key":"æ•´ç¯‡æ–‡ç« çš„è¦ç‚¹","href":"#æ•´ç¯‡æ–‡ç« çš„è¦ç‚¹","heading":1,"title":"æ•´ç¯‡æ–‡ç« çš„è¦ç‚¹","children":[],"id":"æ•´ç¯‡æ–‡ç« çš„è¦ç‚¹"},{"key":"å¿«æ’","href":"#å¿«æ’","heading":1,"title":"å¿«æ’","children":[{"key":"æ€æƒ³","href":"#æ€æƒ³","heading":2,"title":"æ€æƒ³","children":[],"id":"æ€æƒ³"},{"key":"è¦ç‚¹","href":"#è¦ç‚¹","heading":2,"title":"è¦ç‚¹","children":[{"key":"æ—¶é—´å¤æ‚åº¦","href":"#æ—¶é—´å¤æ‚åº¦","heading":3,"title":"æ—¶é—´å¤æ‚åº¦","children":[],"id":"æ—¶é—´å¤æ‚åº¦"},{"key":"é¢å¤–ç©ºé—´å¤æ‚åº¦","href":"#é¢å¤–ç©ºé—´å¤æ‚åº¦","heading":3,"title":"é¢å¤–ç©ºé—´å¤æ‚åº¦","children":[],"id":"é¢å¤–ç©ºé—´å¤æ‚åº¦"},{"key":"åŸåœ°æ’åº","href":"#åŸåœ°æ’åº","heading":3,"title":"åŸåœ°æ’åº","children":[],"id":"åŸåœ°æ’åº"},{"key":"ä¸ç¨³å®š","href":"#ä¸ç¨³å®š","heading":3,"title":"ä¸ç¨³å®š","children":[],"id":"ä¸ç¨³å®š"},{"key":"é“¾è¡¨å½¢å¼ç‰¹ç‚¹","href":"#é“¾è¡¨å½¢å¼ç‰¹ç‚¹","heading":3,"title":"é“¾è¡¨å½¢å¼ç‰¹ç‚¹","children":[],"id":"é“¾è¡¨å½¢å¼ç‰¹ç‚¹"}],"id":"è¦ç‚¹"},{"key":"æ‰‹å†™æ—¶çš„æ˜“é”™ç‚¹","href":"#æ‰‹å†™æ—¶çš„æ˜“é”™ç‚¹","heading":2,"title":"æ‰‹å†™æ—¶çš„æ˜“é”™ç‚¹","children":[],"id":"æ‰‹å†™æ—¶çš„æ˜“é”™ç‚¹"}],"id":"å¿«æ’"},{"key":"å½’å¹¶æ’åº","href":"#å½’å¹¶æ’åº","heading":1,"title":"å½’å¹¶æ’åº","children":[{"key":"æ€æƒ³-1","href":"#æ€æƒ³-1","heading":2,"title":"æ€æƒ³","children":[],"id":"æ€æƒ³-1"},{"key":"è¦ç‚¹-1","href":"#è¦ç‚¹-1","heading":2,"title":"è¦ç‚¹","children":[{"key":"é“¾è¡¨å½¢å¼","href":"#é“¾è¡¨å½¢å¼","heading":3,"title":"é“¾è¡¨å½¢å¼","children":[],"id":"é“¾è¡¨å½¢å¼"}],"id":"è¦ç‚¹-1"},{"key":"æ˜“é”™ç‚¹","href":"#æ˜“é”™ç‚¹","heading":2,"title":"æ˜“é”™ç‚¹","children":[],"id":"æ˜“é”™ç‚¹"},{"key":"è¿›é˜¶","href":"#è¿›é˜¶","heading":2,"title":"è¿›é˜¶","children":[],"id":"è¿›é˜¶"}],"id":"å½’å¹¶æ’åº"},{"key":"æ’å…¥æ’åº","href":"#æ’å…¥æ’åº","heading":1,"title":"æ’å…¥æ’åº","children":[{"key":"æ€æƒ³-2","href":"#æ€æƒ³-2","heading":2,"title":"æ€æƒ³","children":[],"id":"æ€æƒ³-2"},{"key":"è¦ç‚¹-2","href":"#è¦ç‚¹-2","heading":2,"title":"è¦ç‚¹","children":[{"key":"é“¾è¡¨å½¢å¼-1","href":"#é“¾è¡¨å½¢å¼-1","heading":3,"title":"é“¾è¡¨å½¢å¼","children":[],"id":"é“¾è¡¨å½¢å¼-1"}],"id":"è¦ç‚¹-2"},{"key":"è¿›é˜¶å¸Œå°”æ’åº","href":"#è¿›é˜¶å¸Œå°”æ’åº","heading":2,"title":"è¿›é˜¶â€”â€”å¸Œå°”æ’åº","children":[],"id":"è¿›é˜¶å¸Œå°”æ’åº"}],"id":"æ’å…¥æ’åº"},{"key":"é€‰æ‹©æ’åº","href":"#é€‰æ‹©æ’åº","heading":1,"title":"é€‰æ‹©æ’åº","children":[{"key":"æ€æƒ³-3","href":"#æ€æƒ³-3","heading":2,"title":"æ€æƒ³","children":[],"id":"æ€æƒ³-3"},{"key":"è¦ç‚¹-3","href":"#è¦ç‚¹-3","heading":2,"title":"è¦ç‚¹","children":[{"key":"é“¾è¡¨å½¢å¼-2","href":"#é“¾è¡¨å½¢å¼-2","heading":3,"title":"é“¾è¡¨å½¢å¼","children":[],"id":"é“¾è¡¨å½¢å¼-2"}],"id":"è¦ç‚¹-3"},{"key":"è¿›é˜¶å †æ’åº","href":"#è¿›é˜¶å †æ’åº","heading":2,"title":"è¿›é˜¶â€”â€”å †æ’åº","children":[],"id":"è¿›é˜¶å †æ’åº"}],"id":"é€‰æ‹©æ’åº"},{"key":"åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸‹é™é€†åºå¯¹æ€æƒ³","href":"#åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸‹é™é€†åºå¯¹æ€æƒ³","heading":1,"title":"åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸‹é™ï¼šé€†åºå¯¹æ€æƒ³","children":[],"id":"åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸‹é™é€†åºå¯¹æ€æƒ³"},{"key":"æœ€å","href":"#æœ€å","heading":1,"title":"æœ€å","children":[],"id":"æœ€å"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2020-08-02-python-dict.md","pagePath":"/articles/python-dict","slug":"python-dict"},"meta":{"content":"\n\u003e CPythonä»3.6å¼€å§‹ï¼Œå­—å…¸ï¼ˆdictï¼‰ä¸å†æ˜¯æ— åºçš„äº†â€”â€”å­—å…¸çš„ä¿®æ”¹äº†åŸå…ˆçš„åº•å±‚å®ç°ï¼Œå˜å¾—èƒ½æŒ‰å­—å…¸æ’å…¥çš„é¡ºåºè¿›è¡Œéå†ã€‚è€ŒPythonä»3.7å¼€å§‹å°†å­—å…¸çš„æœ‰åºæ€§å†™å…¥è¯­è¨€ç‰¹æ€§ï¼Œä¸ç®¡æ˜¯Jythonã€IronPythonè¿˜æ˜¯å…¶ä»–Pythonå®ç°ï¼Œä»3.7å¼€å§‹å¤§å®¶çš„å­—å…¸éƒ½æ˜¯æœ‰åºçš„äº†ã€‚\n\n# å‰è¨€\n\nä»¥å‰å‚åŠ Pythonç›¸å…³çš„é¢è¯•æ—¶ï¼Œé¢è¯•å®˜ç»å¸¸éƒ½ä¼šé—®ä¸€ä¸ªé—®é¢˜ï¼šPythoné‡Œçš„å­—å…¸ï¼ˆdictï¼‰æ˜¯æœ‰åºçš„å—ï¼Ÿ\n\nè¿™è‡ªç„¶éš¾ä¸å€’æˆ‘ï¼Œæˆ‘ä¹Ÿç…§æœ¬å®£ç§‘åœ°è®²ï¼šPythonçš„å­—å…¸åº•å±‚æ˜¯ç”¨å“ˆå¸Œè¡¨å®ç°çš„ï¼Œåœ¨ä¸å‘ç”Ÿå†²çªæ—¶è¯»å†™çš„æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆ1ï¼‰ï¼Œæ¯”è¯»å†™æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆlognï¼‰çš„çº¢é»‘æ ‘è¦æ›´å¿«ã€‚ä½†çº¢é»‘æ ‘å¯ä»¥æŒ‰ä¸‹æ ‡çš„å¤§å°é¡ºåºè¿›è¡Œéå†ï¼Œè€ŒDictéå†æ—¶æ˜¯æ— åºçš„ã€‚\n\næˆ‘è®²çš„æ—¶å€™æ²¡æ„Ÿè§‰åˆ°ä»»ä½•çš„è¿å’Œæ„Ÿï¼Œä¼°è®¡é¢è¯•å®˜ä»¬ä¹Ÿæ²¡è§‰å¾—ä»»ä½•çš„ä¸å¯¹ã€‚ç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘æŸ¥Pythonå„ä¸ªç‰ˆæœ¬çš„æ–°ç‰¹æ€§æ—¶ï¼Œå‘ç°Python 3.6çš„What's Newé‡Œæœ‰[è¿™ä¹ˆä¸€æ¡](https://docs.python.org/3/whatsnew/3.6.html#new-dict-implementation)ï¼š\n\n\u003e New dict implementation\n\u003e \n\u003e The dict type now uses a â€œcompactâ€ representation based on a proposal by Raymond Hettinger which was first implemented by PyPy. The memory usage of the new dict() is between 20% and 25% smaller compared to Python 3.5.\n\u003e \n\u003e The order-preserving aspect of this new implementation is considered an implementation detail and should not be relied upon (this may change in the future, but it is desired to have this new dict implementation in the language for a few releases before changing the language spec to mandate order-preserving semantics for all current and future Python implementations; this also helps preserve backwards-compatibility with older versions of the language where random iteration order is still in effect, e.g. Python 3.5).\n\nå•¥æƒ…å†µï¼ŸCPythonçš„dictç«Ÿç„¶ä¼˜åŒ–äº†å†…å­˜ï¼Œè¿˜å˜æœ‰åºäº†ï¼ï¼Ÿ\n\n# Python 3.5 ä»¥å‰dictçš„å®ç°\n\nå…ˆä¸ç€æ€¥çœ‹Python 3.6 é‡Œçš„dictï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Python 3.5ä¹‹å‰çš„dictæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œå†æ‹¿3.6æ¥åšå¯¹æ¯”ã€‚\n\nåœ¨Python 3.5ä»¥å‰ï¼Œdictæ˜¯ç”¨Hashè¡¨æ¥å®ç°çš„ï¼Œè€Œä¸”Keyå’ŒValueç›´æ¥å‚¨å­˜åœ¨Hashè¡¨ä¸Šã€‚æƒ³é€šè¿‡Keyè·å–Valueï¼Œåªéœ€é€šè¿‡Pythonå†…éƒ¨çš„Hashå‡½æ•°è®¡ç®—å‡ºKeyå¯¹åº”çš„Hashå€¼ï¼Œå†æ˜ å°„åˆ°Hashè¡¨ä¸Šå¯¹åº”çš„åœ°å€ï¼Œè®¿é—®è¯¥åœ°å€å³å¯è·å–Keyå¯¹åº”çš„Valueã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\næˆ‘ä»¬çŸ¥é“ï¼ŒHashè¡¨è¯»å†™æ—¶é—´å¤æ‚åº¦åœ¨ä¸å‘ç”Ÿå†²çªçš„æƒ…å†µä¸‹éƒ½æ˜¯Oï¼ˆ1ï¼‰ã€‚\n\nä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠHashè¡¨è¯»å†™çš„æ­¥éª¤åˆ†å¼€æ¥çœ‹ï¼š\n\n1. é¦–å…ˆç”¨Hashå‡½æ•°è®¡ç®—keyçš„Hashå€¼ï¼ŒHashå‡½æ•°ä¸€èˆ¬æ¥è¯´æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯Oï¼ˆ1ï¼‰çš„ã€‚\n2. è®¡ç®—å‡ºHashå€¼åï¼Œæ˜ å°„åˆ°Hashè¡¨å†…çš„æ•°ç»„ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨å–ä½™æ•°æˆ–æ˜¯å–äºŒè¿›åˆ¶åå‡ ä½çš„æ–¹å¼å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯Oï¼ˆ1ï¼‰ã€‚\n3. ç„¶åç”¨æ•°ç»„ä¸‹æ ‡è¯»å–æ•°ç»„ä¸­å®é™…å‚¨å­˜çš„é”®å€¼ï¼Œæ•°ç»„çš„ä¸‹æ ‡è¯»å–æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯Oï¼ˆ1ï¼‰ã€‚\n\nè¿™ä¸‰ä¸ªæ­¥éª¤ä¸²èµ·æ¥åå¤æ‚åº¦å¹¶æ²¡æœ‰æå‡ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦è‡ªç„¶ä¹Ÿæ˜¯Oï¼ˆ1ï¼‰çš„ã€‚\n\nè€Œå†…éƒ¨å‚¨å­˜ç©ºé—´ï¼ŒPythonå­—å…¸ä¸­ç§°ä¸ºentriesã€‚entriesç›¸å½“äºä¸€ä¸ªæ•°ç»„ï¼Œæ˜¯ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ¯ä¸ªä½ç½®å‚¨å­˜ä¸€ä¸ªï¼ˆHashå€¼ï¼ŒæŒ‡å‘Keyçš„æŒ‡é’ˆï¼ŒæŒ‡å‘Valueçš„æŒ‡é’ˆï¼‰ä¸‰å…ƒç»„ã€‚\n\nå½“ç„¶ï¼Œç”±äºæŠ½å±‰åŸç†ï¼Œæˆ‘ä»¬çŸ¥é“Hashè¡¨ä¸å¯é¿å…çš„ä¼šå‡ºç°Hashå†²çªï¼ŒPythonçš„dictä¹Ÿä¸ä¾‹å¤–ã€‚\n\nè€Œè§£å†³Hashå†²çªçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚C++çš„unordered_mapå’ŒGoçš„mapå°±ç”¨é“¾åœ°å€æ³•æ¥è§£å†³å†²çªï¼Œç”¨é“¾è¡¨å‚¨å­˜å‘ç”Ÿå†²çªçš„å€¼ã€‚è€ŒJavaæ›´è¿›ä¸€æ­¥ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡8æ—¶å°±è½¬æ¢æˆçº¢é»‘æ ‘ï¼Œå°†é“¾è¡¨Oï¼ˆnï¼‰çš„æŸ¥æ‰¾å¤æ‚åº¦é™ä¸ºOï¼ˆlognï¼‰ã€‚C#çš„HashTableåˆ™æ˜¯ç”¨å†æ•£åˆ—æ³•ï¼Œå†…éƒ¨æœ‰å¤šä¸ªHashå‡½æ•°ï¼Œä¸€æ¬¡å†²çªäº†å°±æ¢ä¸€ä¸ªå‡½æ•°å†ç®—ï¼Œç›´åˆ°ä¸å†²çªä¸ºæ­¢ã€‚\n\nè€ŒPythonçš„dictåˆ™æ˜¯åˆ©ç”¨å¼€æ”¾å¯»å€æ³•ã€‚å½“æ’å…¥æ•°æ®å‘ç”Ÿå†²çªæ—¶ï¼Œå°±ä¼šä»é‚£ä¸ªä½ç½®å¾€åæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æœ‰ç©ºä½çš„åœ°å€ä¸ºæ­¢ã€‚è¦æŸ¥çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯æŠŠä¸‹æ ‡å€¼æ˜ å°„åˆ°åˆ°åœ°å€åï¼Œå…ˆå¯¹æ¯”ä¸€ä¸‹ä¸‹æ ‡å€¼ç›¸ä¸ç›¸ç­‰ï¼Œè‹¥ä¸ç›¸ç­‰åˆ™å¾€åç»§ç»­å¯¹æ¯”ã€‚\n\nè¿™ä¹Ÿé€ æˆä¸ªé—®é¢˜ï¼Œdictä¸­çš„å…ƒç´ ä¸èƒ½ç›´æ¥ä»entriesä¸­æ¸…ç†æ‰ï¼Œä¸ç„¶å¾€åå¯»æ‰¾çš„æŸ¥æ‰¾é“¾å°±ä¼šæ–­æ‰äº†ã€‚åªèƒ½æ˜¯å…ˆæ ‡è®°ä½åˆ é™¤ï¼Œç­‰åˆ°ä¸€å®šæ—¶æœºå†ä¸€å¹¶æ¸…ç†ã€‚\n\næ­¤å¤–æˆ‘ä»¬ä¹ŸçŸ¥é“ï¼Œå½“å†²çªè¿‡å‘ç”Ÿå¾—è¿‡å¤šï¼Œdictè¯»å†™æ‰€éœ€çš„æ—¶é—´ä¹Ÿä¼šå˜å¤šï¼Œæ—¶é—´å¤æ‚åº¦ä¸å†æ˜¯O(1)ï¼Œè¿™ä¹Ÿæ˜¯Hashè¡¨çš„é€šç—…äº†ã€‚\n\nPythonä¸­dictåˆå§‹åŒ–æ—¶ï¼Œå†…éƒ¨å‚¨å­˜ç©ºé—´entrieså®¹é‡ä¸º8ã€‚å½“å†…éƒ¨å‚¨å­˜ç©ºé—´å ç”¨åˆ°ä¸€å®šç¨‹åº¦ï¼ˆentrieså®¹é‡Ã—è£…å¡«å› å­ï¼ŒPythonçš„dictä¸­è£…å¡«å› å­æ˜¯2/3ï¼‰åï¼Œå°±ä¼šè¿›è¡Œå€å¢æ‰©å®¹ã€‚æ¯æ¬¡æ‰©å®¹éƒ½è¦éå†åŸå…ˆçš„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œä½†åŸºæœ¬ä¸Šæ’å…¥O(n)æ¬¡ä¹‹åæ‰ä¼šè¿›è¡Œä¸€æ¬¡æ‰©å®¹ï¼Œæ‰€ä»¥æ‰©å®¹çš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚è€Œæ‰©å®¹æ—¶ä¼šé‡æ–°è¿›è¡ŒHashå€¼åˆ°entriesä½ç½®çš„æ˜ å°„ï¼Œæ­¤æ—¶å°±æ˜¯æŠŠæ ‡è®°åˆ é™¤ä½†ä»ç•™åœ¨entriesä¸­çš„å…ƒç´ æ¸…ç†æ‰çš„æœ€ä½³æ—¶æœºã€‚\n\nPython3.5ä¹‹å‰è¿™ç§dictçš„å®ç°å°±æœ‰ä¸¤ä¸ªæ¯›ç—…ï¼š\n\n1. å…ƒç´ çš„é¡ºåºä¸è¢«è®°å½•ã€‚ä¸¤ä¸ªKeyå€¼é€šè¿‡Hashå‡½æ•°çš„å‡ºæ¥çš„Hashå€¼ä¸ä¸€å®šèƒ½ä¿è¯åŸæ¥çš„å¤§å°å…³ç³»ï¼Œç”±äºHashå†²çªã€æ‰©å®¹ç­‰å½±å“å…ƒç´ çš„é¡ºåºä¹Ÿä¼šå˜åŒ–ã€‚å½“ç„¶è¿™ç§æ— åºæ€§ä¹Ÿæ˜¯Hashè¡¨é€šç”¨çš„ç‰¹ç‚¹äº†ã€‚\n2. å ç”¨äº†å¤ªå¤šäº†æ— ç”¨ç©ºé—´ã€‚ä¸Šé¢è¯´åˆ°entriesä¸­æ¯ä¸ªä½ç½®å‚¨å­˜ä¸€ä¸ªï¼ˆHashå€¼ï¼ŒæŒ‡å‘Keyçš„æŒ‡é’ˆï¼ŒæŒ‡å‘Valueçš„æŒ‡é’ˆï¼‰ä¸‰å…ƒç»„ï¼Œæ²¡ç”¨åˆ°æˆ–æ˜¯æ ‡è®°åˆ é™¤çš„ä½ç½®å ç”¨äº†å¤§é‡çš„ç©ºé—´ã€‚\n\näºæ˜¯ï¼ŒRaymond Hettingerå°±æå‡ºäº†ä¸€ç§æ–°çš„dictå®ç°æ–¹å¼ã€‚åœ¨CPython3.6ä¸­å°±ä½¿ç”¨äº†è¿™ç§æ–°çš„å®ç°æ–¹å¼ã€‚\n\n# CPython3.6ä¸­dictçš„å®ç°\n\nå½“è¦å®ç°ä¸€ä¸ªå¦‚ä¸‹çš„dictæ—¶ï¼š\n\n```python\nd = {\n    'timmy': 'red', \n    'barry': 'green', \n    'guido': 'blue'\n}\n```\n\nå¦‚åœ¨ä¸Šä¸€èŠ‚ä¸­æ‰€è®²ï¼Œåœ¨Python3.5ä»¥å‰ï¼Œåœ¨å†…å­˜å‚¨å­˜çš„å½¢å¼å¯ä»¥è¡¨ç¤ºæˆè¿™æ ·å­ï¼š\n\n```python\nentries = [['--', '--', '--'],\n           [-8522787127447073495, 'barry', 'green'],\n           ['--', '--', '--'],\n           ['--', '--', '--'],\n           ['--', '--', '--'],\n           [-9092791511155847987, 'timmy', 'red'],\n           ['--', '--', '--'],\n           [-6480567542315338377, 'guido', 'blue']]\n```\n\nè€ŒCPython3.6ä»¥åï¼Œæ˜¯ä»¥è¿™ç§å½¢å¼å‚¨å­˜åœ¨å†…å­˜ä¸­çš„ï¼š\n\n```python\nindices =  [None, 1, None, None, None, 0, None, 2]\nentries =  [[-9092791511155847987, 'timmy', 'red'],\n            [-8522787127447073495, 'barry', 'green'],\n            [-6480567542315338377, 'guido', 'blue']]\n```\n\næ”¹å˜äº†ä»€ä¹ˆï¼Ÿ\n\n1. dictå†…éƒ¨çš„entriesæ”¹ä¸ºæŒ‰æ’å…¥é¡ºåºå­˜å‚¨ï¼Œæ–°å¢äº†ä¸€ä¸ªindicesç”¨äºå‚¨å­˜å…ƒç´ åœ¨entriesä¸­çš„ä¸‹æ ‡ã€‚dictæ•´ä½“ä»æ˜¯Hashè¡¨ç»“æ„ï¼Œä½†Hashå€¼æ˜ å°„åˆ°indicesä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥æ˜ å°„åˆ°entriesä¸­ã€‚\n2. ç”±äºentriesæ”¹ä¸ºäº†æŒ‰æ’å…¥é¡ºåºå­˜å‚¨ï¼Œä½¿å¾—ç”³è¯·entrieså®¹é‡æ—¶åªè¦ç”³è¯·Hashè¡¨é•¿åº¦çš„2/3å³å¯ï¼Œçœå»äº†Hashè¡¨ä¸­çš„æ— ç”¨ç©ºé—´ï¼Œå‚¨å­˜æ›´ç´§å‡‘ã€‚\n3. dictè¯»å†™æ­¥éª¤ä»åŸå…ˆçš„3æ­¥å˜ä¸º4æ­¥ï¼šè®¡ç®—keyçš„Hashå€¼ï¼Œæ˜ å°„åˆ°indiceså†…å­˜ç©ºé—´ï¼Œä»indicesè¯»å–entriesçš„ä¸‹æ ‡å€¼ï¼Œç”¨ä¸‹æ ‡ä»entriesä¸­è¯»å†™æ•°æ®ã€‚è¯»å†™æ—¶é—´å¤æ‚åº¦ä»ä¿æŒä¸ºO(1)ï¼Œå†²çªã€åˆ é™¤æ ‡è®°ç­‰Hashè¡¨çš„ç‰¹æ€§ä¹Ÿä»ç„¶å­˜åœ¨ã€‚indicesçš„æ‰©å®¹ç­–ç•¥ä¹Ÿä»ç„¶æ˜¯å€å¢æ‰©å®¹ï¼Œä½†å› ä¸ºå¡«å……å› å­ä»ç„¶ä¸º2/3ï¼Œentriesæ¯æ¬¡æ‰©å®¹æ—¶åªéœ€ç”³è¯·indicesé•¿åº¦çš„2/3å³å¯ã€‚\n\næœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ\n\n1. å‹ç¼©ç©ºé—´ï¼šåŸå…ˆHashæ˜ å°„æ˜¯ç›´æ¥æ˜ å°„åˆ°entriesä¸Šï¼Œä¼šæœ‰å¤§é‡çš„ç©ºéš™ã€‚ç°åœ¨Hashæ˜ å°„åˆ°indicesä¸Šï¼Œè€Œentriesä¸­å¯æ›´ç´§å‡‘åœ°å­˜å‚¨å…ƒç´ ã€‚è€Œindicesä¸­å‚¨å­˜çš„entriesä¸‹æ ‡å ç”¨å†…å­˜å¯ä»¥æ¯”entrieså…ƒç´ è¦å°å¾—å¤šâ€”â€”å½“entriesé•¿åº¦è¶³å¤ŸçŸ­æ—¶æ¯ä¸ªä¸‹æ ‡åªéœ€å ä¸€ä¸ªå­—èŠ‚ã€‚indicesä¸­ç¡®å®ä¹Ÿè¿˜ä»æœ‰ç©ºéš™ï¼Œä½†å ç”¨ç©ºé—´æ€»è¦æ¯”æ—§çš„dictå®ç°è¦å°å¾—å¤šäº†ã€‚\n2. æ›´å¿«çš„éå†ï¼šä»¥å‰çš„å®ç°éå†dictè¦éå†æ•´ä¸ªHashè¡¨ï¼Œéœ€è¦æŒ¨ä¸ªä½ç½®è¯»å–ä¸€ä¸‹ï¼Œåˆ¤æ–­å®ƒæ˜¯ç©ºé—²ä½ç½®è¿˜æ˜¯å®é™…å­˜åœ¨çš„å…ƒç´ ã€‚è€Œç°åœ¨åªéœ€è¦å¯¹å˜å¾—æ›´ç´§å‡‘çš„entrieséå†å°±è¡Œäº†ã€‚è¿™ä¹Ÿå¸¦æ¥ä¸€ä¸ªæ–°çš„ç‰¹æ€§ï¼šentriesæ˜¯æŒ‰ç…§å…ƒç´ æ’å…¥çš„é¡ºåºå­˜å‚¨çš„ï¼Œéå†entriesè‡ªç„¶ä¹Ÿä¼šæŒ‰å…ƒç´ æ’å…¥çš„é¡ºåºè¾“å‡ºã€‚è¿™å°±ç»™dictå¸¦æ¥äº†æœ‰åºæ€§ã€‚\n3. æ‰©å®¹æ—¶å…³æ³¨çš„å†…å­˜å—æ›´å°‘ã€‚åŸå…ˆçš„entriesæ‰©å®¹æ—¶æ‰€æœ‰æ•°æ®éƒ½è¦é‡æ–°æ˜ å°„åˆ°å†…å­˜ä¸Šï¼Œcacheåˆ©ç”¨ç‡ä¸å¥½ã€‚ç°åœ¨æ‰©å®¹æ—¶åŸºæœ¬å¯ä»¥æ•´ä¸ªentriesç›´æ¥å¤åˆ¶ï¼ˆå½“ç„¶ï¼Œæœ‰åˆ é™¤æ ‡è®°çš„æ•°æ®è¿™æ—¶è¦å¿½ç•¥ï¼‰ã€‚\n\nç»¼ä¸Šï¼ŒCPython3.6ä»¥åé€šè¿‡å¢åŠ äº†ä¸€ä¸ªindiceså¢åŠ äº†ç©ºé—´åˆ©ç”¨ç‡ï¼Œåœ¨ç»´æŒè¯»å†™æ—¶é—´å¤æ‚åº¦ä¸å˜çš„æƒ…å†µä¸‹å¢åŠ äº†éå†ä¸æ‰©å®¹æ•ˆç‡ã€‚è‡³äºdictéå†å˜å¾—æœ‰åºï¼Œå€’æ˜¯æœ‰ç‚¹æ¬¡è¦çš„ç‰¹æ€§äº†ã€‚\n\n# æˆ‘ä»¬æ˜¯å¦åº”åˆ©ç”¨æ–°dictçš„æœ‰åºæ€§ï¼Ÿ\n\næ—¢ç„¶Pythonä¸­dictå˜å¾—æœ‰åºäº†ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦åº”è¯¥ä¸»åŠ¨å»åˆ©ç”¨å®ƒå‘¢ï¼Ÿæˆ‘æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ï¼š\n\n1. åœ¨Python3.6ä¸­ï¼Œæˆ‘ä»¬ä¸æ¨èåˆ©ç”¨dictçš„æœ‰åºæ€§ã€‚3.6æ—¶dictçš„æœ‰åºæ€§è¿˜åªæ˜¯CPythonçš„ä¸€ä¸ªå®ç°ç»†èŠ‚ï¼Œå¹¶ä¸æ˜¯Pythonçš„è¯­è¨€ç‰¹æ€§ã€‚å½“æˆ‘ä»¬çš„ä»£ç ä¸æ˜¯åœ¨CPythonç¯å¢ƒä¸‹è¿è¡Œï¼Œdictçš„æœ‰åºæ€§å°±ä¸èµ·ä½œç”¨ï¼Œå°±å®¹æ˜“å‡ºè«åå…¶å¦™çš„BUGäº†ã€‚\n2. åœ¨Python3.7åï¼ŒdictæŒ‰æ’å…¥é¡ºåºè¿›è¡Œéå†çš„æ€§è´¨è¢«å†™å…¥Pythonè¯­è¨€ç‰¹æ€§ä¸­ã€‚è¿™æ—¶ç¡®å®åœ¨ä»£ç ä¸­åˆ©ç”¨dictæœ‰åºæ€§ä¹Ÿæ²¡ä»€ä¹ˆå¤§é—®é¢˜ã€‚ä½†dictè¿™ç§æ•°æ®ç»“æ„ï¼Œæœ€ä¸»è¦çš„ç‰¹æ€§è¿˜æ˜¯è¡¨ç°åœ¨Keyæ˜ å°„åˆ°Valueçš„è¿™ç§å…³ç³»ï¼Œä»¥åŠO(1)çš„è¯»å†™æ—¶é—´å¤æ‚åº¦ã€‚å½“æˆ‘ä»¬çš„ä»£ç ä¸­éœ€è¦å…³æ³¨åˆ°dictçš„éå†é¡ºåºæ—¶ï¼Œæˆ‘ä»¬å°±è¦å…ˆè´¨é—®ä¸€ä¸‹è‡ªå·±ï¼šæ˜¯å¦åº”è¯¥æ”¹ä¸ºç”¨é˜Ÿåˆ—æˆ–æ˜¯å…¶ä»–æ•°æ®ç»“æ„æ¥å®ç°ï¼Ÿ\n\n\n# å‚è€ƒæ–‡çŒ®\n\n- [Are dictionaries ordered in Python 3.6+?](https://stackoverflow.com/questions/39980323/are-dictionaries-ordered-in-python-3-6)\n- [[Python-Dev] Python 3.6 dict becomes compact and gets a private version; and keywords become ordered](https://mail.python.org/pipermail/python-dev/2016-September/146327.html)\n- [[Python-Dev] More compact dictionaries with faster iteration](https://mail.python.org/pipermail/python-dev/2012-December/123028.html)\n- [å…³äºpython3.6ä¸­dictå¦‚ä½•ä¿è¯æœ‰åº](https://zhuanlan.zhihu.com/p/36167600)\n- [python3.7æºç åˆ†æï¼å­—å…¸_å°å±‹å­å¤§ä¾ çš„åšå®¢-CSDNåšå®¢_python å­—å…¸æºç ](https://blog.csdn.net/qq_33339479/article/details/90446988)\n- [ã€Šæ·±åº¦å‰–æCPythonè§£é‡Šå™¨ã€‹9. è§£å¯†Pythonä¸­å­—å…¸å’Œé›†åˆçš„åº•å±‚å®ç°ï¼Œæ·±åº¦åˆ†æå“ˆå¸Œè¡¨](https://www.cnblogs.com/traditional/p/13503114.html)\n- [CPython æºç é˜…è¯» - dict](http://blog.dreamfever.me/2018/03/12/cpython-yuan-ma-yue-du-dict/)","title":"Pythonå­—å…¸çš„å®ç°åŸç†","abstract":"\u003e CPythonä»3.6å¼€å§‹ï¼Œå­—å…¸ï¼ˆdictï¼‰ä¸å†æ˜¯æ— åºçš„äº†â€”â€”å­—å…¸çš„ä¿®æ”¹äº†åŸå…ˆçš„åº•å±‚å®ç°ï¼Œå˜å¾—èƒ½æŒ‰å­—å…¸æ’å…¥çš„é¡ºåºè¿›è¡Œéå†ã€‚è€ŒPythonä»3.7å¼€å§‹å°†å­—å…¸çš„æœ‰åºæ€§å†™å…¥è¯­è¨€ç‰¹æ€§ï¼Œä¸ç®¡æ˜¯Jythonã€IronPythonè¿˜æ˜¯å…¶ä»–Pythonå®ç°ï¼Œä»3.7å¼€å§‹å¤§å®¶çš„å­—å…¸éƒ½æ˜¯æœ‰åºçš„äº†ã€‚\nä»¥å‰å‚åŠ Pythonç›¸å…³çš„é¢è¯•æ—¶ï¼Œé¢è¯•å®˜ç»å¸¸éƒ½ä¼šé—®ä¸€ä¸ªé—®é¢˜ï¼šPythoné‡Œçš„å­—å…¸ï¼ˆdictï¼‰æ˜¯æœ‰åºçš„å—ï¼Ÿ\nè¿™è‡ªç„¶éš¾ä¸å€’æˆ‘ï¼Œæˆ‘ä¹Ÿç…§æœ¬å®£ç§‘åœ°è®²ï¼šPythonçš„å­—å…¸åº•å±‚æ˜¯ç”¨å“ˆå¸Œè¡¨å®ç°çš„ï¼Œåœ¨ä¸å‘ç”Ÿå†²çªæ—¶è¯»å†™çš„æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆ1ï¼‰ï¼Œæ¯”è¯»å†™æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆlognï¼‰çš„çº¢é»‘æ ‘è¦æ›´å¿«ã€‚ä½†çº¢é»‘æ ‘å¯ä»¥æŒ‰ä¸‹æ ‡çš„å¤§å°é¡ºåºè¿›è¡Œéå†ï¼Œè€ŒDictéå†æ—¶æ˜¯æ— åºçš„ã€‚","length":121,"created_at":"2020-08-02T00:10:10.000Z","updated_at":"2022-03-27T13:30:33.000Z","tags":["Python","æ•°æ®ç»“æ„"],"license":false,"headingTrees":[{"key":"å‰è¨€","href":"#å‰è¨€","heading":1,"title":"å‰è¨€","children":[],"id":"å‰è¨€"},{"key":"python-35-ä»¥å‰dictçš„å®ç°","href":"#python-35-ä»¥å‰dictçš„å®ç°","heading":1,"title":"Python 3.5 ä»¥å‰dictçš„å®ç°","children":[],"id":"python-35-ä»¥å‰dictçš„å®ç°"},{"key":"cpython36ä¸­dictçš„å®ç°","href":"#cpython36ä¸­dictçš„å®ç°","heading":1,"title":"CPython3.6ä¸­dictçš„å®ç°","children":[],"id":"cpython36ä¸­dictçš„å®ç°"},{"key":"æˆ‘ä»¬æ˜¯å¦åº”åˆ©ç”¨æ–°dictçš„æœ‰åºæ€§","href":"#æˆ‘ä»¬æ˜¯å¦åº”åˆ©ç”¨æ–°dictçš„æœ‰åºæ€§","heading":1,"title":"æˆ‘ä»¬æ˜¯å¦åº”åˆ©ç”¨æ–°dictçš„æœ‰åºæ€§ï¼Ÿ","children":[],"id":"æˆ‘ä»¬æ˜¯å¦åº”åˆ©ç”¨æ–°dictçš„æœ‰åºæ€§"},{"key":"å‚è€ƒæ–‡çŒ®","href":"#å‚è€ƒæ–‡çŒ®","heading":1,"title":"å‚è€ƒæ–‡çŒ®","children":[],"id":"å‚è€ƒæ–‡çŒ®"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2020-01-28-the-using-in-cpp.md","pagePath":"/articles/the-using-in-cpp","slug":"the-using-in-cpp"},"meta":{"content":"\n## usingçš„ç”¨æ³•\n#### usingä¸å‘½åç©ºé—´\n\n1. å¼•å…¥æ•´ä¸ªå‘½åç©ºé—´ä¸­çš„æˆå‘˜\n   \n   ä¸å¼•å…¥å‘½åç©ºé—´æ—¶ï¼Œä½¿ç”¨å…¶ä¸­å˜é‡éœ€è¦ä½¿ç”¨`\u003cå‘½åç©ºé—´å\u003e::\u003cå˜é‡å\u003e`çš„æ–¹å¼ä½¿ç”¨ã€‚\n   ```C++\n   using namespace foo;\n   ```\n   å¦‚æ­¤ä¼šå°†å‘½åç©ºé—´fooä¸‹æ‰€æœ‰çš„æˆå‘˜åç§°å¼•å…¥ï¼Œå¯åœ¨ç›´æ¥ä»¥ `\u003cå˜é‡å\u003e` çš„å½¢å¼ä½¿ç”¨ã€‚ä½†å¦‚æ­¤åšæœ‰å¯èƒ½ä¼šä½¿å¾—å‘½åç©ºé—´fooä¸­éƒ¨åˆ†å˜é‡ä¸å½“å‰å®šä¹‰çš„å˜é‡åå†²çªï¼Œè¿åå‘½åç©ºé—´éš”ç¦»ç¼–è¯‘æ—¶åç§°å†²çªçš„åˆè¡·ï¼Œå› æ­¤ä¸å»ºè®®å¦‚æ­¤ä½¿ç”¨ã€‚\n\n2. å¼•å…¥å‘½åç©ºé—´ä¸­çš„éƒ¨åˆ†æˆå‘˜\n   \n   å¯é€šè¿‡ä»…å¼•å…¥å‘½åç©ºé—´ä¸­éƒ¨åˆ†çš„æˆå‘˜ï¼Œé¿å…å‘½åå†²çªã€‚\n   ```C++\n   using foo::bar;\n   ```\n   è¿™ç§æ–¹æ³•ä»…ä¼šå¼•å…¥åœ¨è¯­å¥ä¸­æ˜ç¡®å£°æ˜çš„åç§°ã€‚å¦‚usingä¸€ä¸ªæšä¸¾ç±»æ—¶ï¼Œä¸ä¼šè¿å…¶å®šä¹‰çš„æšä¸¾å¸¸é‡ä¹Ÿä¸€åŒå¼•å…¥ã€‚\n\n#### usingä¸åŸºç±»æˆå‘˜\n\n1. å­ç±»ä¸­å¼•å…¥åŸºç±»åç§°\n   \n   ```C++\n    class Base {\n    public:\n        std::size_t size() const { return n; }\n    protected:\n        std::size_t n;\n    };\n\n    class Derived : private Base {\n    public:\n        using Base::size;\n    protected:\n        using Base::n;\n    // ...\n    };\n    ```\n    ä¾‹ä¸­å­ç±»privateç»§æ‰¿åŸºç±»ï¼Œç”±äºprivateç»§æ‰¿ä½¿å¾—`Base::size`ä¸`Base::n`å¯è§†æ€§å˜ä¸ºprivateã€‚è€Œä½¿ç”¨`using Base::size`ã€`using Base::n`åï¼Œå¯åˆ†åˆ«ä½¿å…¶å˜ä¸ºpublicä¸protectedã€‚\n\n2. å­ç±»æˆå‘˜å‡½æ•°ä¸åŸºç±»åŒåæ—¶ä¿ç•™åŸºç±»å‡½æ•°ç”¨ä»¥é‡è½½\n   \n   ```C++\n    class Base\n    {\n    public:\n        int Func(){return 0;}\n    };\n    class Derived : Base\n    {\n    public:\n        using Base::Func;\n        int Func(int);\n    };\n    ```\n    å­ç±»ä¸­å®šä¹‰çš„æˆå‘˜å‡½æ•°ä¸åŸºç±»ä¸­é‡åæ—¶ï¼Œå³ä½¿å‡½æ•°åŸå‹ä¸åŒï¼Œå­ç±»å‡½æ•°ä¹Ÿä¼šè¦†ç›–åŸºç±»å‡½æ•°ã€‚\n    \n    å¦‚æœåŸºç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°çš„å¤šä¸ªé‡è½½ï¼Œè€Œå­ç±»ä¸­åˆé‡å†™æˆ–é‡å®šä¹‰äº†å…¶ä¸­æŸäº›ç‰ˆæœ¬ï¼Œæˆ–æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„é‡è½½ï¼Œåˆ™åŸºç±»ä¸­è¯¥å‡½æ•°çš„æ‰€æœ‰é‡è½½å‡è¢«éšè—ã€‚\n\n    æ­¤æ—¶å¯ä»¥åœ¨å­ç±»ä¸­ä½¿ç”¨`using Base::Func`ï¼Œä»¤åŸºç±»ä¸­æ‰€æœ‰é‡è½½ç‰ˆæœ¬åœ¨å­ç±»ä¸­å¯è§ï¼Œå†é‡å®šä¹‰éœ€è¦æ›´æ”¹çš„ç‰ˆæœ¬ã€‚\n\nåˆå¦‚cppreferenceä¸­çš„[ä¾‹å­](https://en.cppreference.com/w/cpp/language/using_declaration#In_class_definition)ï¼š\n```C++\n#include \u003ciostream\u003e\nstruct B {\n    virtual void f(int) { std::cout \u003c\u003c \"B::f\\n\"; }\n    void g(char)        { std::cout \u003c\u003c \"B::g\\n\"; }\n    void h(int)         { std::cout \u003c\u003c \"B::h\\n\"; }\nprotected:\n    int m; // B::m is protected\n    typedef int value_type;\n};\n\nstruct D : B {\n    using B::m; // D::m is public\n    using B::value_type; // D::value_type is public\n\n    using B::f;\n    void f(int) { std::cout \u003c\u003c \"D::f\\n\"; } // D::f(int) overrides B::f(int)\n    using B::g;\n    void g(int) { std::cout \u003c\u003c \"D::g\\n\"; } // both g(int) and g(char) are visible\n                                        // as members of D\n    using B::h;\n    void h(int) { std::cout \u003c\u003c \"D::h\\n\"; } // D::h(int) hides B::h(int)\n};\n\nint main()\n{\n    D d;\n    B\u0026 b = d;\n\n//    b.m = 2; // error, B::m is protected\n    d.m = 1; // protected B::m is accessible as public D::m\n    b.f(1); // calls derived f()\n    d.f(1); // calls derived f()\n    d.g(1); // calls derived g(int)\n    d.g('a'); // calls base g(char)\n    b.h(1); // calls base h()\n    d.h(1); // calls derived h()\n}\n```\n`using`è¯­å¥å¯ä»¥æ”¹å˜åŸºç±»æˆå‘˜çš„å¯è®¿é—®æ€§ï¼Œä¹Ÿèƒ½åœ¨å­ç±»ä¸­é‡è½½(Overload)ã€é‡å†™(Override)åŸºç±»çš„å‡½æ•°ï¼Œæˆ–æ˜¯é€šè¿‡é‡å®šä¹‰éšè—(Hide)å¯¹åº”çš„åŸºç±»å‡½æ•°ã€‚\n\n\n#### usingä¸åˆ«å\n\nusingåœ¨C++11å¼€å§‹ï¼Œå¯ç”¨äºåˆ«åçš„å£°æ˜ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š\n```C++\nusing UPtrMapSS = std::unique_ptr\u003cstd::unordered_map\u003cstd::string, std::string\u003e\u003e;//æ™®é€šåˆ«å\nusing FP = void (*) (int, const std::string\u0026);//å‡½æ•°æŒ‡é’ˆåˆ«å\n\ntemplate \u003ctypename T\u003e\nusing Vec = MyVector\u003cT, MyAlloc\u003cT\u003e\u003e;//æ¨¡æ¿åˆ«å\nVec\u003cint\u003e vec;//æ¨¡æ¿åˆ«åçš„ä½¿ç”¨\n```\n\n## usingå…³é”®å­—ä¸typedefå…³é”®å­—å®šä¹‰åˆ«åçš„ä¸åŒ\n\nåœ¨STLå®¹å™¨æˆ–æ˜¯å…¶ä»–æ³›å‹ä¸­è‹¥æ˜¯å†æ¥å—ä¸€ä¸ªå®¹å™¨ç±»å‹ï¼Œç±»å‹åç§°å°±ä¼šå†™å¾—å¾ˆé•¿ã€‚ä½¿ç”¨typedefæˆ–usingå®šä¹‰åˆ«åä¼šå˜å¾—æ¯”è¾ƒæ–¹ä¾¿ï¼š\n```C++\ntypedef std::unique_ptr\u003cstd::unordered_map\u003cstd::string, std::string\u003e\u003e UPtrMapSS;\n\nusing UPtrMapSS = std::unique_ptr\u003cstd::unordered_map\u003cstd::string, std::string\u003e\u003e;\n```\n\nå¯¹äºå‡½æ•°æŒ‡é’ˆï¼Œä½¿ç”¨usingè¯­å¥å¯ä»¥æŠŠå‡½æ•°åŸå‹ä¸åˆ«åå¼ºåˆ¶åˆ†åˆ°å·¦å³ä¸¤è¾¹ï¼Œæ¯”ä½¿ç”¨typedefæ˜“è¯»å¾—å¤šï¼š\n```C++\ntypedef void (*FP) (int, const std::string\u0026);\n\nusing FP = void (*) (int, const std::string\u0026);\n```\n\n---\n\nåœ¨C++ä¸­ï¼Œè‹¥è¯•å›¾ä½¿ç”¨typedefå®šä¹‰ä¸€ä¸ªæ¨¡æ¿ï¼š\n```C++\ntemplate \u003ctypename T\u003e\ntypedef MyVector\u003cT, MyAlloc\u003cT\u003e\u003e Vec;\n\n// usage\nVec\u003cint\u003e vec;\n```\nç¼–è¯‘å°±ä¼šæŠ¥é”™ï¼Œæç¤ºï¼š\n\u003e error: a typedef cannot be a template\n\nåœ¨ä¸€äº›STLä¸­ï¼Œé€šè¿‡å¦‚ä¸‹æ–¹å¼åŒ…è£…ä¸€å±‚æ¥ä½¿ç”¨ï¼š\n```C++\ntemplate \u003ctypename T\u003e\nstruct Vec\n{\n  typedef MyVector\u003cT, MyAlloc\u003cT\u003e\u003e type;\n};\n\n// usage\nVec\u003cint\u003e::type vec;\n```\n\nå¦‚æ­¤æ˜¾å¾—ååˆ†ä¸ç¾è§‚ï¼Œä¸”è¦æ˜¯åœ¨æ¨¡æ¿ç±»ä¸­æˆ–å‚æ•°ä¼ é€’æ—¶ä½¿ç”¨typenameå¼ºåˆ¶è¿™ä¸ºç±»å‹ï¼Œè€Œä¸æ˜¯å…¶ä»–å¦‚é™æ€æˆå‘˜ç­‰è¯­æ³•ï¼š\n```C++\ntemplate \u003ctypename T\u003e\nclass Widget\n{\n  typename Vec\u003cT\u003e::type vec;\n};\n```\n\nè€Œusingå…³é”®å­—å¯å®šä¹‰æ¨¡æ¿åˆ«åï¼Œåˆ™ä¸€åˆ‡éƒ½ä¼šæ˜¾å¾—ååˆ†è‡ªç„¶ï¼š\n```C++\ntemplate \u003ctypename T\u003e\nusing Vec = MyVector\u003cT, MyAlloc\u003cT\u003e\u003e;\n\n// usage\nVec\u003cint\u003e vec;\n\n// in a class template\ntemplate \u003ctypename T\u003e\nclass Widget\n{\n  Vec\u003cT\u003e vec;\n};\n```\n\n---\n\nèƒ½åšåˆ°ç±»ä¼¼åˆ«ååŠŸèƒ½çš„ï¼Œè¿˜æœ‰å®#defineã€‚ä½†#defineè¿è¡Œåœ¨ç¼–è¯‘å‰çš„å®å¤„ç†é˜¶æ®µï¼Œå¯¹ä»£ç è¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢ã€‚æ²¡æœ‰ç±»å‹æ£€æŸ¥æˆ–å…¶ä»–ç¼–è¯‘ã€é“¾æ¥é˜¶æ®µæ‰èƒ½è¿›è¡Œçš„æ£€æŸ¥ï¼Œä¸å…·å¤‡å®‰å…¨æ€§ã€‚åœ¨C++11ä¸­ä¸æå€¡ä½¿ç”¨#defineã€‚\n\n\n\n   \n   ","title":"C++ä¸­usingå…³é”®å­—çš„ä½¿ç”¨","abstract":"1. å¼•å…¥æ•´ä¸ªå‘½åç©ºé—´ä¸­çš„æˆå‘˜\n   ä¸å¼•å…¥å‘½åç©ºé—´æ—¶ï¼Œä½¿ç”¨å…¶ä¸­å˜é‡éœ€è¦ä½¿ç”¨`\u003cå‘½åç©ºé—´å\u003e::\u003cå˜é‡å\u003e`çš„æ–¹å¼ä½¿ç”¨ã€‚\n   ```C++","length":192,"created_at":"2020-01-28T18:00:00.000Z","updated_at":"2022-03-27T13:30:33.000Z","tags":["C++","æ‚æŠ€"],"license":false,"headingTrees":[{"key":"usingçš„ç”¨æ³•","href":"#usingçš„ç”¨æ³•","heading":2,"title":"usingçš„ç”¨æ³•","children":[{"key":"usingä¸å‘½åç©ºé—´","href":"#usingä¸å‘½åç©ºé—´","heading":4,"title":"usingä¸å‘½åç©ºé—´","children":[],"id":"usingä¸å‘½åç©ºé—´"},{"key":"usingä¸åŸºç±»æˆå‘˜","href":"#usingä¸åŸºç±»æˆå‘˜","heading":4,"title":"usingä¸åŸºç±»æˆå‘˜","children":[],"id":"usingä¸åŸºç±»æˆå‘˜"},{"key":"usingä¸åˆ«å","href":"#usingä¸åˆ«å","heading":4,"title":"usingä¸åˆ«å","children":[],"id":"usingä¸åˆ«å"}],"id":"usingçš„ç”¨æ³•"},{"key":"usingå…³é”®å­—ä¸typedefå…³é”®å­—å®šä¹‰åˆ«åçš„ä¸åŒ","href":"#usingå…³é”®å­—ä¸typedefå…³é”®å­—å®šä¹‰åˆ«åçš„ä¸åŒ","heading":2,"title":"usingå…³é”®å­—ä¸typedefå…³é”®å­—å®šä¹‰åˆ«åçš„ä¸åŒ","children":[],"id":"usingå…³é”®å­—ä¸typedefå…³é”®å­—å®šä¹‰åˆ«åçš„ä¸åŒ"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2020-01-27-Building-this-blog.md","pagePath":"/articles/Building-this-blog","slug":"Building-this-blog"},"meta":{"content":"\n\u003e â€œStop Trying to Reinvent the Wheel.â€\n\n## åšå®¢æ„å»º\n\n\n#### æŠŠä»“åº“cloneåˆ°æœ¬åœ°\n\nå‚è€ƒ[BruceZhao][BruceZhao]æä¾›çš„ä¸­æ–‡ç¿»è¯‘ï¼š[README.zh.md][READMEzh]ï¼Œå…ˆå°†[Huxpro][Huxpro]æä¾›çš„[åšå®¢æ¨¡æ¿ä»“åº“][origin_repo]forkå‡ºæ¥ï¼Œ`git clone`åˆ°æœ¬åœ°ã€‚\n\næ•´ä¸ªç½‘ç«™æ–‡ä»¶å¤¹å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š\n\n```\nâ”œâ”€â”€ _config.yml\n|\nâ”œâ”€â”€ _posts/\n|   â”œâ”€â”€ 2007-10-29-awsome-file-name.md\n|   â””â”€â”€ 2009-04-26-stupid-file-name.md\nâ”œâ”€â”€ img/\n|   â”œâ”€â”€ in-post/\n|   â”œâ”€â”€ awsome-bg.jpg\n|   â”œâ”€â”€ avatar-ryo.png\n|   â”œâ”€â”€ favicon.ico\n|   â””â”€â”€ icon_wechat.jpg\nâ”œâ”€â”€ other_awsome_directory/\n|   â””â”€â”€ awsomefiles\n|\n|\nâ”œâ”€â”€ 404.html\nâ”œâ”€â”€ about.html\nâ”œâ”€â”€ index.html\nâ””â”€â”€ other_awsome_files\n```\n\nåšå®¢çš„æ–‡ç« ä¸Šä¼ åˆ°`_posts`æ–‡ä»¶å¤¹ä¸­ï¼Œç½‘ç«™ä¸­ç”¨åˆ°çš„å›¾ç‰‡ä¸Šä¼ åˆ°`img`æ–‡ä»¶å¤¹ä¸­ï¼Œç½‘ç«™çš„å…¨å±€è®¾ç½®åœ¨`_config.yml`ä¸­è¿›è¡Œã€‚\n\n\n\n#### ä¿®æ”¹**_config.yml**æ–‡ä»¶\n\nä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„`_config.yml`æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„å†…å®¹æ›´æ”¹ä¸ºè‡ªå·±çš„ä¿¡æ¯ã€‚\n\n```yml\n# Site settings\ntitle: Ryo's Blog\nSEOTitle: é˜¿äº®ä»”çš„åšå®¢ | äº®ã®ãƒ–ãƒ­ã‚° | Ryo's Blog\nheader-img: img/home-bg.jpg\nemail: qq250707340@163.com\ndescription: \"å›ã®å¤¢ãŒã€€å¶ã†ã®ã¯ã€€èª°ã‹ã®ãŠã‹ã’ã˜ã‚ƒãªã„ãœã€‚\"\nkeyword: \"Ryo, Blog, é˜¿äº®ä»”, ã‚Šã‚‡ã†, åšå®¢, ãƒ–ãƒ­ã‚°, Algorithm, Unity, Python, C-Sharp\"\nurl: \"http://RyoJerryYu.github.io\"              # your host, for absolute URL\nbaseurl: \"\"         # for example, '/blog' if your blog hosted on 'host/blog'\ngithub_repo: \"https://github.com/RyoJerryYu/RyoJerryYu.github.io.git\" # you code repository\n```\n- `SEOTitle`: `\u003ctitle\u003e`æ ‡ç­¾ï¼Œå³æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡é¢˜ä¸­çš„æ–‡å­—ã€‚\n- `header-img`: é¦–é¡µæ˜¾ç¤ºçš„å›¾åƒï¼Œå¯ä»¥æŠŠè·¯å¾„æ›´æ”¹ä¸ºè‡ªå·±çš„å›¾ç‰‡ã€‚\n- `description`: `\u003cmeta name=\"description\"\u003e`ä¸­çš„å†…å®¹ã€‚\n- `keyword`: `\u003cmeta name=\"keyword\"\u003e`ä¸­çš„å†…å®¹ã€‚\n- `url`, `baseurl`: åˆ†åˆ«ä¸ºåšå®¢åŸŸååœ°å€ä¸å…¶ä¸‹è·¯å¾„ã€‚å¦‚ä¸æƒ³å°†åšå®¢ç›´æ¥æ¶åœ¨æ ¹è·¯å¾„ä¸‹ï¼Œéœ€è¦å¯¹`baseurl`è¿›è¡Œè®¾ç½®ã€‚\n- `github_repo`: åšå®¢æ‰€åœ¨çš„GitHubä»“åº“ã€‚\n\n---\n\n\n```yml\n# SNS settings\nRSS: false\n# weibo_username:     huxpro\n# zhihu_username:     huxpro\ngithub_username:    RyoJerryYu\ntwitter_username:  ryo_okami\n# facebook_username:  huxpro\n```\nåˆ†åˆ«ä¸ºå„ä¸ªç¤¾äº¤ç½‘ç«™ä¸Šçš„è´¦å·ä¿¡æ¯ï¼Œä»¥ä¾›åœ¨ä¾§è¾¹æ ä¸­ç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„é¡µé¢ã€‚å¯é€šè¿‡åœ¨è¡Œé¦–æ·»åŠ æˆ–åˆ é™¤`#`è¿›è¡Œæ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Šã€‚\n\nä»[åŸä»“åº“][origin_repo]ä¸­ç›´æ¥forkå‡ºæ¥æ—¶ï¼Œç¤¾äº¤ç½‘ç«™çš„å›¾æ ‡å¯èƒ½ä¼šæœ‰[æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜](https://github.com/Huxpro/huxblog-boilerplate/issues/17)ï¼Œå…¶è§£å†³æ–¹æ³•åœ¨[åé¢](#FixSNS)ä»‹ç»ã€‚\n\n---\n\n\n```yml\n# Disqus settings\n#disqus_username: _your_disqus_short_name_\n\n# Duoshuo settings\n# duoshuo_username: huxblog\n# Share component is depend on Comment so we can NOT use share only.\n# duoshuo_share: true                     # set to false if you want to use Comment without Sharing\n\n# Gitalk\ngitalk:\n    enable: false    #æ˜¯å¦å¼€å¯Gitalkè¯„è®º\n    clientID: f2c84e7629bb1446c1a4                            #ç”Ÿæˆçš„clientID\n    clientSecret: ca6d6139d1e1b8c43f8b2e19492ddcac8b322d0d    #ç”Ÿæˆçš„clientSecret\n    repo: qiubaiying.github.io    #ä»“åº“åç§°\n    owner: qiubaiying    #githubç”¨æˆ·å\n    admin: qiubaiying\n    distractionFreeMode: true #æ˜¯å¦å¯ç”¨ç±»ä¼¼FBçš„é˜´å½±é®ç½©  \n```\nåˆ†åˆ«ä¸ºå„ç§è¯„è®ºç³»ç»Ÿã€‚å‡æœªå¼€å¯ã€‚\n\n---\n\n\n```yml\n# Analytics settings\n# Baidu Analytics\n# ba_track_id: 4cc1f2d8f3067386cc5cdb626a202900\n# Google Analytics\nga_track_id: 'UA-156933256-1'            # Format: UA-xxxxxx-xx\nga_domain: auto\n```\nåˆ†åˆ«ä¸ºç™¾åº¦ä¸è°·æ­Œçš„ç½‘ç«™ç»Ÿè®¡ã€‚æˆ‘åªå¯ç”¨äº†Google Analyticsã€‚å¯å…ˆåˆ°[Google Marketing Platform](https://marketingplatform.google.com/about/)æ³¨å†Œï¼Œå¼€å¯Google Analyticsã€‚åœ¨`è®¾ç½®`-\u003e`åª’ä½“èµ„æºè®¾ç½®`ä¸­è·å¾—Track IDï¼Œå¹¶å¡«å…¥`ga_track_id`ä¸­ã€‚\n\n---\n\n\n```yml\n# Sidebar settings\nsidebar: true                           # whether or not using Sidebar.\nsidebar-about-description: \"è®°å½•å¹³æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠå¯¹åº”çš„è§£å†³æ–¹æ³•ã€‚å¶å°”ä¸Šä¼ äº›è®¸å®…æ´»æˆ–æ˜¯å¨±ä¹æ–¹é¢çš„è®°å½•ã€‚\"\nsidebar-avatar: /img/avatar-ryo.png      # use absolute URL, seeing it's used in both `/` and `/about/`\n```\n`sidebar`: æ˜¯å¦å¼€å¯ä¾§è¾¹æ ï¼Œä¸º`true`æˆ–`false`ã€‚\n`sidebar-about-description`: æ˜¾ç¤ºåœ¨ä¾§è¾¹æ ä¸­çš„ä¸ªäººç®€ä»‹ã€‚\n`sidebar-avatar`: æ˜¾ç¤ºåœ¨ä¾§è¾¹æ ä¸­çš„å¤´åƒã€‚\n\n---\n\n\n```yml\n# Featured Tags\nfeatured-tags: true                     # whether or not using Feature-Tags\nfeatured-condition-size: 2              # A tag will be featured if the size of it is more than this condition value\n```\næ˜¯å¦å¼€å¯tagåŠŸèƒ½ï¼Œä»¥åŠæœ€å°‘è¦è¾¾åˆ°å¤šå°‘ç¯‡æ–‡ç« æ‰èƒ½ä½¿tagæ˜¾ç¤ºåœ¨é¦–é¡µä¸Šã€‚\n\n\n\n#### ä¿®æ”¹ä¸»é¡µç­‰ä¿¡æ¯\n\nä¿®æ”¹`index.html`ã€`404.html`ã€`about.html`ã€`tags.html`ç­‰æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„å†…å®¹æ›´æ”¹ä¸ºè‡ªå·±çš„ä¿¡æ¯ã€‚\n\n- åœ¨`index`ä¸­ï¼Œä¿®æ”¹`description`å¯¹åº”çš„å†…å®¹ï¼Œäº¦å³ä¸»é¡µä¸­æ ‡é¢˜ä¸‹æ–¹çš„æè¿°ã€‚\n- åœ¨`404`ã€`tags`ã€`about`ä¸­ï¼Œä¿®æ”¹`description`çš„å†…å®¹ï¼Œäº¦å³404é¡µé¢ä¸­çš„æè¿°ä¿¡æ¯ã€‚å¦‚æœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹`header-img`ï¼Œå³404é¡µé¢çš„å›¾ç‰‡åœ°å€ã€‚\n- åœ¨`about`ä¸­ï¼Œè¿˜æœ‰ä¿®æ”¹è‡ªæˆ‘ä»‹ç»å¯¹åº”çš„å†…å®¹ã€‚\n\n\n\n#### ä¿®æ”¹å›¾ç‰‡ä¿¡æ¯\n\nä¿®æ”¹`img/`ä¸‹çš„å›¾ç‰‡ï¼Œæ›¿æ¢ä¸ºè‡ªå·±çš„å›¾ç‰‡ã€‚è¦è®°å¾—æ›¿æ¢ä»¥ä¸‹å›¾ç‰‡ï¼š\n- `avatar-ryo.png`\n- `favicon.ico`\n- `icon_wechat.png`\n\n\n\n#### ä¿®æ”¹README.md\n\nREADME.mdä¸ºGithubä»“åº“çš„ä»‹ç»ï¼Œå¯ä»¥åœ¨README.mdä¸­å†™ä¸Šè¿™ä¸ªåšå®¢ä¸»è¦çš„å†…å®¹ï¼Œè®©åˆ«äººäº†è§£è¿™ä¸ªåšå®¢ã€‚\n\n\n\n#### å®Œæˆ\n\nå°†`_posts`ä¸­çš„åšæ–‡å…¨éƒ¨åˆ é™¤åï¼Œå°†æœ¬åœ°æ–‡ä»¶å…¨éƒ¨pushåˆ°GitHubä»“åº“ä¸­ã€‚ç¨ç­‰åç”¨æµè§ˆå™¨æµè§ˆ`\u003cç”¨æˆ·å\u003e.github.io`ï¼ˆæˆ–æ˜¯ä½ åœ¨`_config.yml`ä¸­è®¾å®šçš„è·¯å¾„ï¼‰ã€‚è‹¥å‘ç°ç½‘é¡µå·²æ›´æ–°ï¼Œå³åšå®¢æ­å»ºæˆåŠŸï¼Œå¯ä»¥å¼€å§‹å†™åšæ–‡äº†ã€‚\n\n*ç„¶è€Œï¼Œå¹¶æ²¡æœ‰æˆåŠŸã€‚*\n\n\n\n## Fix Bug\n\n\u003cp id = \"FixReadmeCh\"\u003e\u003c/p\u003e\n\n#### ä¿®å¤README.zh.mdå¼•å‘çš„é”™è¯¯\n\næŒ‰ä¸Šè¿°æ­¥éª¤æ­å»ºå®Œæ¯•åï¼Œç½‘é¡µå¹¶æ²¡æœ‰æ­£å¸¸æ˜¾ç¤ºã€‚æ­¤æ—¶GitHubè´¦å·æ‰€å…³è”çš„é‚®ç®±ä¸­æ”¶åˆ°æ ‡é¢˜ä¸º**Page build failure**çš„é‚®ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\u003e The page build failed for the `master` branch with the following error:\n\u003e The tag `if` on line 235 in `README.zh.md` was not properly closed.\n\nå¦‚[åŸä»“åº“][origin_repo]ä¸­çš„[issue#11](https://github.com/Huxpro/huxblog-boilerplate/issues/11)æ‰€ç¤ºï¼Œåœ¨`README.zh.md`ä¸­å­˜åœ¨`if`è¯­å¥ï¼Œä¼šè§¦å‘é”™è¯¯ã€‚\n\nå› å¹¶æ— å…¶ä»–ç‰¹åˆ«çš„éœ€æ±‚ï¼Œæ­¤å¤„é‡‡ç”¨æš´åŠ›åˆ é™¤`README.zh.md`çš„æ–¹æ³•è§£å†³ã€‚\n\nå¯¹åº”commitï¼š[åˆ é™¤README.zh.mdï¼Œå°è¯•ä¿®å¤å› ...](https://github.com/RyoJerryYu/RyoJerryYu.GitHub.io/commit/098d710160775df9b6d2cf04d7d4eec526a67bf4)\n\n\n\u003cp id = \"FixSNS\"\u003e\u003c/p\u003e\n\n#### ä¿®å¤SNSé“¾æ¥ä¸æ­£å¸¸æ˜¾ç¤º\n\nä¿®å¤ä¸Šè¿°é”™è¯¯åï¼Œç¨ç­‰å³å¯æ­£å¸¸æ‰“å¼€ç½‘é¡µã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨`_config.yml`ä¸­è®¾ç½®å¥½çš„SNSé“¾æ¥å¹¶æ²¡æœ‰åœ¨ä¾§è¾¹æ ä»¥åŠç½‘é¡µåº•éƒ¨æ­£å¸¸æ˜¾ç¤ºã€‚å¦‚åŸä»“åº“ä¸­çš„[issue#17](https://github.com/Huxpro/huxblog-boilerplate/issues/17)æ‰€ç¤ºï¼ŒåŸå› æ˜¯gitpageå¿…é¡»é€šè¿‡httpsè®¿é—®bootcss.comç­‰çš„cdnã€‚\n\næ­¤å¤„é‡‡ç”¨åŸä»“åº“[pull request#21](https://github.com/Huxpro/huxblog-boilerplate/pull/21)çš„æ–¹æ³•ï¼Œä¿®æ”¹`_includes/head.html`, `_includes/footer.html`, `_layouts/keynote.html`, `_layouts/post.html`æ–‡ä»¶ï¼Œå°†å…¶ä¸­`http`ä¿®æ”¹ä¸º`https`ã€‚\n\nå¯¹åº”commitï¼š[fix: change http into https](https://github.com/RyoJerryYu/RyoJerryYu.GitHub.io/commit/ec954c380472f30f09efdfadd074cb7967c2fa11)\n\n\n\n## ä¸Šä¼ æ–‡ç« \n\næ–‡ç« ä¸»è¦æ”¾åœ¨_postsæ–‡ä»¶å¤¹ä¸­ï¼Œç”¨`git push`çš„æ–¹å¼æ¨é€åˆ°GitHubä»“åº“ï¼Œå³å¯å®Œæˆæ–‡ç« ä¸Šä¼ ã€‚\n\næ–‡ç« æ­£æ–‡ä»¥**markdown**è¯­æ³•ä¹¦å†™ï¼Œåœ¨æ–‡æœ¬å¤´éƒ¨å¢åŠ å¦‚ä¸‹æ ¼å¼çš„ä¿¡æ¯ï¼š\n\n```yaml\n---\nlayout:     post\ntitle:      \"Welcome to Ryo's Blog!\"\nsubtitle:   \" \\\"Hello World, Hello Blog\\\"\"\ndate:       2020-01-27 12:00:00\nauthor:     \"Ryo\"\nheader-img: \"img/post-bg-default.jpg\"\ntags:\n    - æ‚æŠ€\n    - æ‚è°ˆ\n---\n```\n\nå…¶ä¸­ï¼š\n- `layout`ä¸ºæ–‡ç« æ‰€ç”¨çš„æ¨¡æ¿ï¼Œå¯é€‰`post`æˆ–`keynote`ï¼Œä¹Ÿå¯è‡ªå·±å†™ä¸€ä¸ªæ¨¡æ¿htmlæ”¾åœ¨`_layouts`æ–‡ä»¶å¤¹ä¸‹ã€‚\n- `title`ä¸ºæ–‡ç« æ ‡é¢˜ï¼Œ`subtitle`ä¸ºæ–‡ç« å‰¯æ ‡é¢˜ã€‚\n- `date`ä¸ºåšå®¢ä¸­æ˜¾ç¤ºçš„æ–‡ç« å‘è¡¨æ—¶é—´ã€‚\n- `author`ä¸ºåšå®¢ä¸­æ˜¾ç¤ºçš„ä½œè€…ã€‚\n- `header-img`ä¸ºæ–‡ç« é¡¶éƒ¨æ˜¾ç¤ºçš„å°é¢ã€‚\n- `tags`ä¸ºæ–‡ç« çš„æ ‡ç­¾ï¼Œæˆ‘ä»¬çš„åšå®¢ç½‘ç«™å¯ä»¥é€šè¿‡æ ‡ç­¾æ¥å¿«é€Ÿå¯»æ‰¾æ–‡ç« ã€‚\n\næŠŠæ–‡ç« çš„æ–‡ä»¶åå‘½åä¸ºæ—¶é—´+æ ‡é¢˜çš„å½¢å¼ï¼Œåç¼€åä½¿ç”¨markdownæ–‡æœ¬çš„é€šç”¨åç¼€å`md`ï¼Œå¦‚`2020-01-27-hello-world.md`ã€‚å®Œæˆåå°†æ­¤æ–‡æœ¬æ–‡ä»¶æ”¾åˆ°`_posts/`æ–‡ä»¶å¤¹ä¸‹ã€‚æ–‡ç« ä¸­ä½¿ç”¨åˆ°çš„å›¾ç‰‡å»ºè®®æ”¾åˆ°`img/in-post/`æ–‡ä»¶å¤¹ä¸‹ã€‚\n\nå®Œæˆåï¼Œä½¿ç”¨`git push`æ¨é€åˆ°GitHubä»“åº“ï¼Œç¨ç­‰ååˆ·æ–°åšå®¢ç½‘é¡µå³å¯çœ‹è§åˆšæ‰ä¸Šä¼ çš„æ–‡ç« ã€‚æ–‡ç« çš„urlä¸€èˆ¬ä¸ºï¼š`\u003cåšå®¢åœ°å€\u003e/\u003cæ–‡ç« æ–‡ä»¶åä¸­çš„å¹´\u003e/\u003cæœˆ\u003e/\u003cæ—¥\u003e/\u003cæ–‡ä»¶åä¸­å‰©ä½™éƒ¨åˆ†\u003e`ã€‚\n\n\n\n\n## ç¥ä½ å¼€å§‹æ„‰å¿«çš„åšå®¢ç”Ÿæ´»ã€‚\n\n\n#### æ„Ÿè°¢\n\n- [Huxpro][Huxpro]æä¾›çš„åšå®¢æ¨¡æ¿ï¼š[huxblog-boilerplate][origin_repo]\n- [BruceZhao][BruceZhao]æä¾›çš„ä¸­æ–‡ç¿»è¯‘ï¼š[README.zh.md][READMEzh]\n- [Luo Yifanï¼ˆç½—ä¸€å‡¡ï¼‰](https://github.com/iVanlIsh)æä¾›çš„Bugè§£å†³æ–¹æ¡ˆã€‚\n\n\n\n\n[Huxpro]: https://github.com/huxpro\n[BruceZhao]: https://github.com/BruceZhaoR\n[origin_repo]: https://github.com/Huxpro/huxblog-boilerplate\n[READMEzh]: https://github.com/Huxpro/huxpro.github.io/blob/master/README.zh.md","title":"æ­å»ºåšå®¢çš„è¿‡ç¨‹","abstract":"\u003e â€œStop Trying to Reinvent the Wheel.â€\nå‚è€ƒ[BruceZhao][BruceZhao]æä¾›çš„ä¸­æ–‡ç¿»è¯‘ï¼š[README.zh.md][READMEzh]ï¼Œå…ˆå°†[Huxpro][Huxpro]æä¾›çš„[åšå®¢æ¨¡æ¿ä»“åº“][origin_repo]forkå‡ºæ¥ï¼Œ`git clone`åˆ°æœ¬åœ°ã€‚\næ•´ä¸ªç½‘ç«™æ–‡ä»¶å¤¹å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š","length":252,"created_at":"2020-01-27T14:00:00.000Z","updated_at":"2024-04-16T13:30:33.000Z","tags":["æ‚æŠ€","Blog"],"license":false,"headingTrees":[{"key":"åšå®¢æ„å»º","href":"#åšå®¢æ„å»º","heading":2,"title":"åšå®¢æ„å»º","children":[{"key":"æŠŠä»“åº“cloneåˆ°æœ¬åœ°","href":"#æŠŠä»“åº“cloneåˆ°æœ¬åœ°","heading":4,"title":"æŠŠä»“åº“cloneåˆ°æœ¬åœ°","children":[],"id":"æŠŠä»“åº“cloneåˆ°æœ¬åœ°"},{"key":"ä¿®æ”¹_configymlæ–‡ä»¶","href":"#ä¿®æ”¹_configymlæ–‡ä»¶","heading":4,"title":"ä¿®æ”¹_config.ymlæ–‡ä»¶","children":[],"id":"ä¿®æ”¹_configymlæ–‡ä»¶"},{"key":"ä¿®æ”¹ä¸»é¡µç­‰ä¿¡æ¯","href":"#ä¿®æ”¹ä¸»é¡µç­‰ä¿¡æ¯","heading":4,"title":"ä¿®æ”¹ä¸»é¡µç­‰ä¿¡æ¯","children":[],"id":"ä¿®æ”¹ä¸»é¡µç­‰ä¿¡æ¯"},{"key":"ä¿®æ”¹å›¾ç‰‡ä¿¡æ¯","href":"#ä¿®æ”¹å›¾ç‰‡ä¿¡æ¯","heading":4,"title":"ä¿®æ”¹å›¾ç‰‡ä¿¡æ¯","children":[],"id":"ä¿®æ”¹å›¾ç‰‡ä¿¡æ¯"},{"key":"ä¿®æ”¹readmemd","href":"#ä¿®æ”¹readmemd","heading":4,"title":"ä¿®æ”¹README.md","children":[],"id":"ä¿®æ”¹readmemd"},{"key":"å®Œæˆ","href":"#å®Œæˆ","heading":4,"title":"å®Œæˆ","children":[],"id":"å®Œæˆ"}],"id":"åšå®¢æ„å»º"},{"key":"fix-bug","href":"#fix-bug","heading":2,"title":"Fix Bug","children":[{"key":"ä¿®å¤readmezhmdå¼•å‘çš„é”™è¯¯","href":"#ä¿®å¤readmezhmdå¼•å‘çš„é”™è¯¯","heading":4,"title":"ä¿®å¤README.zh.mdå¼•å‘çš„é”™è¯¯","children":[],"id":"ä¿®å¤readmezhmdå¼•å‘çš„é”™è¯¯"},{"key":"ä¿®å¤snsé“¾æ¥ä¸æ­£å¸¸æ˜¾ç¤º","href":"#ä¿®å¤snsé“¾æ¥ä¸æ­£å¸¸æ˜¾ç¤º","heading":4,"title":"ä¿®å¤SNSé“¾æ¥ä¸æ­£å¸¸æ˜¾ç¤º","children":[],"id":"ä¿®å¤snsé“¾æ¥ä¸æ­£å¸¸æ˜¾ç¤º"}],"id":"fix-bug"},{"key":"ä¸Šä¼ æ–‡ç« ","href":"#ä¸Šä¼ æ–‡ç« ","heading":2,"title":"ä¸Šä¼ æ–‡ç« ","children":[],"id":"ä¸Šä¼ æ–‡ç« "},{"key":"ç¥ä½ å¼€å§‹æ„‰å¿«çš„åšå®¢ç”Ÿæ´»","href":"#ç¥ä½ å¼€å§‹æ„‰å¿«çš„åšå®¢ç”Ÿæ´»","heading":2,"title":"ç¥ä½ å¼€å§‹æ„‰å¿«çš„åšå®¢ç”Ÿæ´»ã€‚","children":[{"key":"æ„Ÿè°¢","href":"#æ„Ÿè°¢","heading":4,"title":"æ„Ÿè°¢","children":[],"id":"æ„Ÿè°¢"}],"id":"ç¥ä½ å¼€å§‹æ„‰å¿«çš„åšå®¢ç”Ÿæ´»"}],"wikiRefAliases":[],"richRefAliases":[]}},{"pathMapping":{"filePath":"public/content/articles/2020-01-27-hello-world.md","pagePath":"/articles/hello-world","slug":"hello-world"},"meta":{"content":"\n\u003e â€œHello World!â€\n\n## è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšæ–‡\n\nè‡ªå·±ç›²äººæ‘¸è±¡æŠ˜è…¾äº†ä¸€ä¸¤å¤©ï¼Œç»ˆäºåˆ©ç”¨GitHub Pagesï¼ŒæŠŠè‡ªå·±çš„åšå®¢æ­å¥½äº†ã€‚\n\næ„Ÿè°¢[Huxpro][Huxpro]æä¾›çš„åšå®¢æ¨¡æ¿ï¼Œä»¥åŠ[BruceZhao][BruceZhao]ç¼–å†™çš„ä¸­æ–‡ReadMeã€‚\n\nè¿™ä¸ªåšå®¢çš„ä½¿ç”¨æµç¨‹ï¼š\n- å†™ä½œæ—¶åˆ©ç”¨**Markdown**è¯­æ³•ä¹¦å†™ï¼Œä¸æ—¥å¸¸ç¼–å†™GitHubä¸Šçš„æ–‡æ¡£ç›¸åŒã€‚\n- ä½¿ç”¨**Git Workflow**è¿›è¡Œåšå®¢çš„æ›´æ–°ã€‚\n- åˆ©ç”¨**GitHub Pages**æä¾›çš„åŸŸåä¸å…è´¹ç©ºé—´ï¼Œä»¥åŠå…¶æ”¯æŒçš„**Jekyll**è¿›è¡Œç½‘ç«™æ­å»ºã€‚\n\næˆ‘ä»¥åä¼šåˆ©ç”¨è¿™ä¸ªåšå®¢ï¼Œè®°å½•äº›è®¸ç¼–ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚åŒæ—¶è¿˜æœ‰è®°å½•ä¸€ä¸‹ç”Ÿæ´»å¨±ä¹ä¸Šçš„çäº‹ã€‚\n\nè¿™ç¬¬ä¸€ç¯‡åšæ–‡ä¸»è¦ç”¨äºæµ‹è¯•ä¸€ä¸‹åšå®¢æ˜¯å¦è¿è¡ŒæˆåŠŸï¼Œä¸æ‰“ç®—å†™å¤ªå¤šä¸œè¥¿ã€‚ä»Šåæœ‰æ—¶é—´çš„è¯ä¼šè®°å½•ä¸€ä¸‹æ­å»ºåšå®¢çš„è¿‡ç¨‹ã€‚\n\n\n#### æ„Ÿè°¢\n\n- [Huxpro][Huxpro]æä¾›çš„åšå®¢æ¨¡æ¿ï¼š[huxblog-boilerplate](https://github.com/Huxpro/huxblog-boilerplate)\n- [BruceZhao][BruceZhao]æä¾›çš„ä¸­æ–‡ç¿»è¯‘ï¼š[README.zh.md](https://github.com/Huxpro/huxpro.github.io/blob/master/README.zh.md)\n\n\n\n\n[Huxpro]: https://github.com/huxpro\n[BruceZhao]: https://github.com/BruceZhaoR","title":"Welcome to Ryo's Blog!","abstract":"\u003e â€œHello World!â€\nè‡ªå·±ç›²äººæ‘¸è±¡æŠ˜è…¾äº†ä¸€ä¸¤å¤©ï¼Œç»ˆäºåˆ©ç”¨GitHub Pagesï¼ŒæŠŠè‡ªå·±çš„åšå®¢æ­å¥½äº†ã€‚\næ„Ÿè°¢[Huxpro][Huxpro]æä¾›çš„åšå®¢æ¨¡æ¿ï¼Œä»¥åŠ[BruceZhao][BruceZhao]ç¼–å†™çš„ä¸­æ–‡ReadMeã€‚","length":29,"created_at":"2020-01-27T12:00:00.000Z","updated_at":"2022-03-27T13:30:33.000Z","tags":["æ‚æŠ€","æ‚è°ˆ"],"license":false,"headingTrees":[{"key":"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšæ–‡","href":"#è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšæ–‡","heading":2,"title":"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšæ–‡","children":[{"key":"æ„Ÿè°¢","href":"#æ„Ÿè°¢","heading":4,"title":"æ„Ÿè°¢","children":[],"id":"æ„Ÿè°¢"}],"id":"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšæ–‡"}],"wikiRefAliases":[],"richRefAliases":[]}}],"allTagsList":[{"tag":"æ‚æŠ€","slug":"æ‚æŠ€","path":"/tags/æ‚æŠ€","postSlugs":[{"postType":"articles","postPagePath":"/articles/Building-this-blog"},{"postType":"articles","postPagePath":"/articles/hello-world"},{"postType":"articles","postPagePath":"/articles/the-using-in-cpp"}]},{"tag":"Blog","slug":"blog","path":"/tags/blog","postSlugs":[{"postType":"articles","postPagePath":"/articles/Building-this-blog"},{"postType":"articles","postPagePath":"/articles/init-a-new-hexo-project"},{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"},{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"},{"postType":"ideas","postPagePath":"/ideas/blog-in-next"},{"postType":"ideas","postPagePath":"/ideas/blog-syntax"}]},{"tag":"æ‚è°ˆ","slug":"æ‚è°ˆ","path":"/tags/æ‚è°ˆ","postSlugs":[{"postType":"articles","postPagePath":"/articles/hello-world"},{"postType":"articles","postPagePath":"/articles/try-cursor-and-thinking"}]},{"tag":"C++","slug":"c++","path":"/tags/c++","postSlugs":[{"postType":"articles","postPagePath":"/articles/the-using-in-cpp"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"Python","slug":"python","path":"/tags/python","postSlugs":[{"postType":"articles","postPagePath":"/articles/python-dict"}]},{"tag":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","path":"/tags/æ•°æ®ç»“æ„","postSlugs":[{"postType":"articles","postPagePath":"/articles/python-dict"},{"postType":"articles","postPagePath":"/articles/Sort-algorithm"},{"postType":"articles","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"ç®—æ³•","slug":"ç®—æ³•","path":"/tags/ç®—æ³•","postSlugs":[{"postType":"articles","postPagePath":"/articles/Sort-algorithm"},{"postType":"articles","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"æ’åº","slug":"æ’åº","path":"/tags/æ’åº","postSlugs":[{"postType":"articles","postPagePath":"/articles/Sort-algorithm"}]},{"tag":"ç®—æ³•ç«èµ›","slug":"ç®—æ³•ç«èµ›","path":"/tags/ç®—æ³•ç«èµ›","postSlugs":[{"postType":"articles","postPagePath":"/articles/Handy-heap-cheat-sheet"}]},{"tag":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","path":"/tags/è®¾è®¡æ¨¡å¼","postSlugs":[{"postType":"articles","postPagePath":"/articles/The-beauty-of-design-parten"}]},{"tag":"ç¬”è®°","slug":"ç¬”è®°","path":"/tags/ç¬”è®°","postSlugs":[{"postType":"articles","postPagePath":"/articles/The-beauty-of-design-parten"}]},{"tag":"GitHub","slug":"github","path":"/tags/github","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"AWS","slug":"aws","path":"/tags/aws","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"CI/CD","slug":"ci-cd","path":"/tags/ci-cd","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"IaC","slug":"iac","path":"/tags/iac","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"}]},{"tag":"DevOps","slug":"devops","path":"/tags/devops","postSlugs":[{"postType":"articles","postPagePath":"/articles/create-blog-cicd-by-github"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"VSCode","slug":"vscode","path":"/tags/vscode","postSlugs":[{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"Hexo","slug":"hexo","path":"/tags/hexo","postSlugs":[{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"JavaScript","slug":"javascript","path":"/tags/javascript","postSlugs":[{"postType":"articles","postPagePath":"/articles/use-paste-image-and-vscode-memo"}]},{"tag":"Kubernetes","slug":"kubernetes","path":"/tags/kubernetes","postSlugs":[{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"Docker","slug":"docker","path":"/tags/docker","postSlugs":[{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"Cloud Native","slug":"cloud-native","path":"/tags/cloud-native","postSlugs":[{"postType":"articles","postPagePath":"/articles/introduction-for-k8s"},{"postType":"articles","postPagePath":"/articles/introduction-for-k8s-2"},{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"Cursor","slug":"cursor","path":"/tags/cursor","postSlugs":[{"postType":"articles","postPagePath":"/articles/try-cursor-and-thinking"}]},{"tag":"å¯è§†åŒ–","slug":"å¯è§†åŒ–","path":"/tags/å¯è§†åŒ–","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog ç”»å›¾ Iframe æµ‹è¯•"}]},{"tag":"æ•°å­¦","slug":"æ•°å­¦","path":"/tags/æ•°å­¦","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog ç”»å›¾ Iframe æµ‹è¯•"}]},{"tag":"å·¥å…·","slug":"å·¥å…·","path":"/tags/å·¥å…·","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog ç”»å›¾ Iframe æµ‹è¯•"}]},{"tag":"Nextjs","slug":"nextjs","path":"/tags/nextjs","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/blog-in-next"},{"postType":"ideas","postPagePath":"/ideas/blog-syntax"}]},{"tag":"Linux","slug":"linux","path":"/tags/linux","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å †å’Œæ ˆ"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"},{"postType":"ideas","postPagePath":"/ideas/Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"systemctl","slug":"systemctl","path":"/tags/systemctl","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"journalctl","slug":"journalctl","path":"/tags/journalctl","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"timedatectl","slug":"timedatectl","path":"/tags/timedatectl","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"}]},{"tag":"BasicKnowledge","slug":"basicknowledge","path":"/tags/basicknowledge","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å †å’Œæ ˆ"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"},{"postType":"ideas","postPagePath":"/ideas/Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹"}]},{"tag":"Operation","slug":"operation","path":"/tags/operation","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux Systemd"},{"postType":"ideas","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"}]},{"tag":"Signal","slug":"signal","path":"/tags/signal","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux ä¿¡å·å¤„ç† â€”â€” Signal"}]},{"tag":"memory","slug":"memory","path":"/tags/memory","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å†…å­˜åˆ†é¡µã€åˆ†æ®µ"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” å †å’Œæ ˆ"},{"postType":"ideas","postPagePath":"/ideas/Linux å†…å­˜ â€”â€” è™šæ‹Ÿå†…å­˜"}]},{"tag":"schedule","slug":"schedule","path":"/tags/schedule","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/Linux è°ƒåº¦ â€”â€” è¿›ç¨‹ä¸çº¿ç¨‹"}]},{"tag":"Cloud Computing","slug":"cloud-computing","path":"/tags/cloud-computing","postSlugs":[{"postType":"ideas","postPagePath":"/ideas/newest"}]},{"tag":"PyTorch","slug":"pytorch","path":"/tags/pytorch","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"}]},{"tag":"ONNX","slug":"onnx","path":"/tags/onnx","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"}]},{"tag":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","path":"/tags/æ·±åº¦å­¦ä¹ ","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"æ¨¡å‹éƒ¨ç½²","slug":"æ¨¡å‹éƒ¨ç½²","path":"/tags/æ¨¡å‹éƒ¨ç½²","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"}]},{"tag":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","path":"/tags/å­¦ä¹ ç¬”è®°","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/deep-learning-model-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"OpenCV","slug":"opencv","path":"/tags/opencv","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"}]},{"tag":"å›¾åƒå¤„ç†","slug":"å›¾åƒå¤„ç†","path":"/tags/å›¾åƒå¤„ç†","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/opencv-coordinate-system-conventions"}]},{"tag":"Rust","slug":"rust","path":"/tags/rust","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","path":"/tags/ç¼–ç¨‹è¯­è¨€","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/cpp-rvo-and-rust-move-semantics"}]},{"tag":"Windows","slug":"windows","path":"/tags/windows","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"macOS","slug":"macos","path":"/tags/macos","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"å¯æ‰§è¡Œæ–‡ä»¶","slug":"å¯æ‰§è¡Œæ–‡ä»¶","path":"/tags/å¯æ‰§è¡Œæ–‡ä»¶","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/executable-file-formats"}]},{"tag":"LoRA","slug":"lora","path":"/tags/lora","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"å‚æ•°é«˜æ•ˆå¾®è°ƒ","slug":"å‚æ•°é«˜æ•ˆå¾®è°ƒ","path":"/tags/å‚æ•°é«˜æ•ˆå¾®è°ƒ","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"æ¨¡å‹è®­ç»ƒ","slug":"æ¨¡å‹è®­ç»ƒ","path":"/tags/æ¨¡å‹è®­ç»ƒ","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/lora-matrix-initialization-strategy"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"åå‘ä¼ æ’­","slug":"åå‘ä¼ æ’­","path":"/tags/åå‘ä¼ æ’­","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"è‡ªåŠ¨å¾®åˆ†","slug":"è‡ªåŠ¨å¾®åˆ†","path":"/tags/è‡ªåŠ¨å¾®åˆ†","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-backpropagation-mechanism"}]},{"tag":"GoLang","slug":"golang","path":"/tags/golang","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-new-and-memory-management"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"Memory Management","slug":"memory-management","path":"/tags/memory-management","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-new-and-memory-management"}]},{"tag":"Deep Learning","slug":"deep-learning","path":"/tags/deep-learning","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"Model Management","slug":"model-management","path":"/tags/model-management","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/pytorch-model-save-and-load"}]},{"tag":"Neural Networks","slug":"neural-networks","path":"/tags/neural-networks","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"ResNet","slug":"resnet","path":"/tags/resnet","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"Mathematics","slug":"mathematics","path":"/tags/mathematics","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/resnet-math-and-gradient-vanishing"}]},{"tag":"åè®®","slug":"åè®®","path":"/tags/åè®®","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"IoT","slug":"iot","path":"/tags/iot","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"ç‰©è”ç½‘","slug":"ç‰©è”ç½‘","path":"/tags/ç‰©è”ç½‘","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"æ¶ˆæ¯é˜Ÿåˆ—","slug":"æ¶ˆæ¯é˜Ÿåˆ—","path":"/tags/æ¶ˆæ¯é˜Ÿåˆ—","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/mqtt-protocol-principles-applications"}]},{"tag":"Stable Diffusion","slug":"stable-diffusion","path":"/tags/stable-diffusion","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-unet-structure"},{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/stable-diffusion-lora-training-methods"}]},{"tag":"Concurrency","slug":"concurrency","path":"/tags/concurrency","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"Scheduler","slug":"scheduler","path":"/tags/scheduler","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"Goroutine","slug":"goroutine","path":"/tags/goroutine","postSlugs":[{"postType":"learn_from_ai","postPagePath":"/learn_from_ai/golang-scheduler-preemption"}]},{"tag":"test","slug":"test","path":"/tags/test","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1"},{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]},{"tag":"wiki","slug":"wiki","path":"/tags/wiki","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1"},{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]},{"tag":"page1","slug":"page1","path":"/tags/page1","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1"},{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"}]},{"tag":"subpage1","slug":"subpage1","path":"/tags/subpage1","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page1/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"}]},{"tag":"page2","slug":"page2","path":"/tags/page2","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"}]},{"tag":"subpage2","slug":"subpage2","path":"/tags/subpage2","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"}]},{"tag":"subpage3","slug":"subpage3","path":"/tags/subpage3","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3"},{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]},{"tag":"subpage34","slug":"subpage34","path":"/tags/subpage34","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page2/subpage3/subpage34"}]},{"tag":"page3","slug":"page3","path":"/tags/page3","postSlugs":[{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage1"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage2"},{"postType":"testwiki","postPagePath":"/testwiki/page3/subpage3"}]}]},"__N_SSG":true},"page":"/articles","query":{},"buildId":"Yf2dw2JQFE2D1rodq8blQ","assetPrefix":"/blog-next","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>